<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="SnappyData Team">
  <link rel="shortcut icon" href="../../favicon.ico">
  
  <title>Using the SnappyData GemFire Connector - SnappyData Documentation<br/><sub>v.1.0.2.1</sub></title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../custom_theme/css/toc.css" rel="stylesheet">
  <link href="../../custom_theme/css/menu.css" rel="stylesheet">
  <link href="../../custom_theme/css/images.css" rel="stylesheet">
  <link href="../../custom_theme/css/style.css" rel="stylesheet">
  <link href="../../custom_theme/css/highlight.css" rel="stylesheet">
  <link href="../../extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Using the SnappyData GemFire Connector";
    var mkdocs_page_input_path = "connectors/gemfire_connector.md";
    var mkdocs_page_url = "/connectors/gemfire_connector/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> SnappyData Documentation<br/><sub>v.1.0.2.1</sub></a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search..." />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Overview</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/">Getting Started in 5 minutes or Less</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Getting Started in 5 minutes or Less</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/getting_started_with_your_spark_distribution/">Getting Started with your Spark Distribution</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/getting_started_by_installing_snappydata_on-premise/">Getting Started with SnappyData On-Premise</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/getting_started_on_kubernetes/">Getting Started with SnappyData on Kubernetes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/getting_started_with_docker_image/">Getting Started with SnappyData on Docker Image</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/using_spark_scala_apis/">Using Spark Scala APIs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/performance_apache_spark/">SnappyData Performance:16x-20x faster than Apache Spark</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/using_sql/">Using SQL</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/snappydataquick_start/">SnappyData Cluster SQL Tutorials</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../install/">Provisioning SnappyData</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Provisioning SnappyData</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../install/system_requirements/">System Requirements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../install/install_on_premise/">On-Premise</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../install/setting_up_cluster_on_amazon_web_services/">Amazon Web Services (AWS)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../kubernetes/">Kubernetes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/getting_started_with_docker_image/">Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../install/building_from_source/">Building from Source</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../install/upgrade/">Upgrade Instructions</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../howto/">How Tos</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>How Tos</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/start_snappy_cluster/">How to Start a SnappyData Cluster</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/check_status_cluster/">How to Check the Status of a SnappyData Cluster</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/stop_snappy_cluster/">How to Stop a SnappyData Cluster</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/run_spark_job_inside_cluster/">How to Run Spark Job inside the Cluster</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/spark_installation_using_smart_connector/">How to Access SnappyData Store from existing Spark Installation using Smart Connector</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/use_snappy_shell/">How to Use Snappy SQL shell (snappy-sql)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/create_row_tables_and_run_queries/">How to Create Row Tables and Run Queries</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/create_column_tables_and_run_queries/">How to Create Column Tables and Run Queries</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/load_data_into_snappydata_tables/">How to Load Data into SnappyData Tables</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/load_data_from_external_data_stores/">How to Load Data from External Data Stores (e.g. HDFS, Cassandra, Hive, etc)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/perform_a_colocated_join/">How to Perform a Colocated Join</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/connect_using_jdbc_driver/">How to Connect using JDBC Driver</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/using_snappydata_for_any_spark_dist/">How to use SnappyData for any Spark Distribution</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/store_retrieve_complex_datatypes_JDBC/">How to Store and Retrieve Complex Data Types in JDBC Programs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/store_and_query_json_objects/">How to Store and Query JSON Objects</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/store_and_query_objects/">How to Store and Query Objects</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/use_stream_processing_with_snappydata/">How to use Stream Processing with SnappyData</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/use_transactions_isolation_levels/">How to use Transactions Isolation Levels</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/use_synopsis_data_engine_to_run_approximate_queries/">How to use Synopsis Data Engine to Run Approximate Queries</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/use_python_to_create_tables_and_run_queries/">How to use Python to Create Tables and Run Queries</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/connect_using_odbc_driver/">How to Connect using ODBC Driver</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/connect_to_the_cluster_from_external_clients/">How to Connect to the Cluster from External Network</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/import_from_hive_table/">How to Import Data from Hive Table into SnappyData Table</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/export_hdfs/">How to Export and Restore Table Data using HDFS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/tableauconnect/">How to Connect Tableau to SnappyData</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/use_apache_zeppelin_with_snappydata/">How to Use Apache Zeppelin with SnappyData</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../howto/concurrent_apache_zeppelin_access_to_secure_snappydata/">How to Configure Apache Zeppelin to Securely and Concurrently access the SnappyData Cluster</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../architecture/">Architecture</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Architecture</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../architecture/core_components/">Core Components</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../architecture/data_ingestion_pipeline/">Data Ingestion Pipeline</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../architecture/hybrid_cluster_manager/">Hybrid Cluster Manager</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../architecture/cluster_architecture/">SnappyData Cluster Architecture</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../configuration/">Configuring the Cluster</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Configuring the Cluster</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../configuring_cluster/configuring_cluster/">Configuration</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../configuring_cluster/property_description/">List of Properties</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../configuring_cluster/firewalls_connections/">Firewalls and Connections</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/">Programming Guide</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Programming Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/sparksession_snappysession_and_snappystreamingcontext/">SparkSession, SnappySession and SnappyStreamingContext</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/snappydata_jobs/">SnappyData Jobs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/managing_jar_files/">Managing JAR Files</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/using_snappydata_shell/">Using SnappyData Shell</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/using_the_spark_shell_and_spark-submit/">Using the Spark Shell and spark-submit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/working_with_hadoop_yarn_cluster_manager/">Working with Hadoop YARN cluster Manager</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/using_jdbc_with_snappydata/">Using JDBC with SnappyData</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/spark_jdbc_connector/">Accessing SnappyData Tables from any Spark (2.1+) Cluster</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/multiple_language_binding_using_thrift_protocol/">Multiple Language Binding using Thrift Protocol</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/building_snappydata_applications_using_spark_api/">Building SnappyData Applications using Spark API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/tables_in_snappydata/">Tables in SnappyData</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/stream_processing_using_sql/">Stream Processing using SQL</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/udf_and_udaf/">User Defined Functions (UDF) and User Defined Aggregate Functions (UDAF)</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../consistency/transactions_about/">Distributed Transactions</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Distributed Transactions</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../consistency/using_transactions_row/">How Transactions Work for Row Tables</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../consistency/using_snapshot_isolation_column/">Lock-free Queries using MVCC and Snapshot Isolation for Column Tables</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../deployment/">Affinity Modes</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Affinity Modes</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../affinity_modes/local_mode/">Local Mode</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../affinity_modes/embedded_mode/">Embedded SnappyData Store Mode</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../affinity_modes/connector_mode/">SnappyData Smart Connector Mode</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/">Best Practices</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Best Practices</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/setup_cluster/">Tuning for Concurrency and Computation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/design_schema/">Designing your Database and Schema</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Designing your Database and Schema</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/design_principles/">Design Principles of Scalable, Partition-Aware Databases</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/optimizing_query_latency/">Optimizing Query Latency: Partitioning and Replication Strategies</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/memory_management/">Memory Management</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/ha_considerations/">HA Considerations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/important_settings/">Important Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/transactions_best_practices/">SnappyData Distributed Transactions</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../aqp/">Synopsis Data Engine (SDE)</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Synopsis Data Engine (SDE)</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sde/key_concepts/">Key Concepts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sde/working_with_stratified_samples/">Working with Stratified Samples</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sde/running_queries/">Running Queries</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sde/more_examples/">More Examples</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sde/sample_selection/">Sample Selection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sde/hac_contracts/">High-level Accuracy Contracts (HAC)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sde/sketching/">Sketching</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../connector/">Working with External Data Sources</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Working with External Data Sources</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../deployment_dependency_jar/">Deploying Third Party Connectors</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Using the SnappyData GemFire Connector</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#snappydata-gemfire-connector">SnappyData GemFire Connector</a></li>
                
                    <li><a class="toctree-l4" href="#overview">Overview</a></li>
                
                    <li><a class="toctree-l4" href="#quick-start-guide">Quick Start Guide</a></li>
                
                    <li><a class="toctree-l4" href="#initializing-the-gemfire-connector">Initializing the GemFire Connector</a></li>
                
                    <li><a class="toctree-l4" href="#accessing-data-from-gemfire">Accessing Data from GemFire</a></li>
                
                    <li><a class="toctree-l4" href="#saving-data-to-gemfire-region">Saving Data to GemFire Region</a></li>
                
                    <li><a class="toctree-l4" href="#running-oql-queries-directly-on-gemfire-from-snappydata">Running OQL queries Directly on GemFire from SnappyData</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../cdc_connector/">Using the SnappyData CDC (Change Data Capture) Connector</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../monitoring/managing_and_monitoring/">Managing and Monitoring</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Managing and Monitoring</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../monitoring/monitoring/">SnappyData Pulse</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../monitoring/configure_high_availability/">Configuring High Availability for a Partitioned Table</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../monitoring/configure_logging/">Configuring Logging</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../monitoring/monitor-manage/">Getting Information from SnappyData System Tables</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../security/security/">Managing Security</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Managing Security</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/launching_the_cluster_in_secure_mode/">Launching the Cluster in Secure Mode</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/specify_encrypt_passwords_conf_client/">Specifying Encrypted Passwords in Conf Files or in Client Connections</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/authentication_connecting_to_a_secure_cluster/">Authentication - Connecting to a Secure Cluster</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/authorization/">Authorization</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/row_level_security/">Implementing Row Level Security</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/configuring_network_encryption_and_authentication_using_ssl/">Configuring Network Encryption and Authentication using SSL</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../configuring_cluster/ssl_setup/">SSL Setup for Client-Server</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../configuring_cluster/securinguiconnection/">Securing SnappyData Pulse UI Connection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/user_names_for_authentication_authorization_and_membership/">User Names for Authentication, Authorization, and Membership</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/system_performance/">Evaluating Statistics for the System and Applications</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Evaluating Statistics for the System and Applications</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/collecting_system_stats/">Collecting System Statistics</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/vsd_overview/">Using VSD to Analyze Statistics</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Using VSD to Analyze Statistics</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/running_vsd/">Installing and Running VSD</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/vsd_transactions/">Transaction Performance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/vsd_tables/">Table Performance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/vsd_statements/">SQL Statement Performance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/vsd_memory/">Memory Usage</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/vsd-connection-stats/">Client Connections</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../vsd/vsd_cpu/">CPU Usage</a>
        
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../reference/">Reference Guides</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Reference Guides</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sql_reference/">SQL Reference Guide</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>SQL Reference Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/alter-table/">ALTER TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-statements/">CREATE Statements</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>CREATE Statements</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-diskstore/">CREATE DISKSTORE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-external-table/">CREATE EXTERNAL TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-function/">CREATE FUNCTION</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-index/">CREATE INDEX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-schema/">CREATE SCHEMA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-stream-table/">CREATE STREAM TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-sample-table/">CREATE SAMPLE TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-table/">CREATE TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-temporary-table/">CREATE TEMPORARY TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-view/">CREATE VIEW</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/delete/">DELETE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-statements/">DROP Statements</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>DROP Statements</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-diskstore/">DROP DISKSTORE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-function/">DROP FUNCTION</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-index/">DROP INDEX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-table/">DROP TABLE/EXTERNAL TABLE/SAMPLE TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-schema/">DROP SCHEMA</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/deploy/">DEPLOY Statements</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>DEPLOY Statements</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/deploy_package/">DEPLOY PACKAGE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/deploy_jar/">DEPLOY JAR</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/undeploy/">UNDEPLOY</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/grant/">GRANT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/insert/">INSERT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/lateral-view/">LATERAL VIEW</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/put-into/">PUT INTO</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/revoke/">REVOKE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/select/">SELECT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/set-isolation/">SET ISOLATION</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/set-schema/">SET SCHEMA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/truncate-table/">TRUNCATE TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/update/">UPDATE</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/system-procedures/">Built-in System Procedures and Built-in Functions</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Built-in System Procedures and Built-in Functions</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/dump-stacks/">DUMP_STACKS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/rebalance-all-buckets/">REBALANCE_ALL_BUCKETS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/set_critical_heap_percentage/">SET_CRITICAL_HEAP_PERCENTAGE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/set-trace-flag/">SET_TRACE_FLAG</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/dsid/">DSID</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/system_tables/">System Tables</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>System Tables</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/members/">MEMBERS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/sysdiskstores/">SYSDISKSTORES</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/sysdiskstoreids/">SYSDISKSTOREIDS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/systables/">SYSTABLES</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-launcher/">Command Line Utilities</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Command Line Utilities</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-backup/">backup and restore</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-compact-all-disk-stores/">compact-all-disk-stores</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-compact-disk-store/">compact-disk-store</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/validate_diskstore/">validate-disk-store</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-list-missing-disk-stores/">list-missing-disk-stores</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-revoke-missing-disk-stores/">revoke-missing-disk-store</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-unblock-disk-stores/">unblock-disk-store</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-run/">run</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-version/">version</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/store_command_reference/">Snappy-SQL Shell Interactive Commands</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Snappy-SQL Shell Interactive Commands</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/autocommit/">autocommit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/commit/">commit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/connect_client/">connect client</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/connect/">connect</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/describe/">describe</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/disconnect/">disconnect</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/elapsedtime/">elapsedtime</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/exit/">exit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/maximumdisplaywidth/">MaximumDisplayWidth</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/rollback/">rollback</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/run/">run</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/set_connection/">set connection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/show/">show</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/config_parameters/">Configuration Parameters</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Configuration Parameters</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/ack-severe-alert-threshold/">ack-severe-alert-threshold</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/ack-wait-threshold/">ack-wait-threshold</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/archive-disk-space-limit/">archive-disk-space-limit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/archive-file-size-limit/">archive-file-size-limit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/bind-address/">bind-address</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enable-network-partition-detection/">enable-network-partition-detection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enable-stats/">enable-stats</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enable-time-statistics/">enable-time-statistics</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enable-timestats/">enable-timestats</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enforce-unique-host/">enforce-unique-host</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/init-scripts/">init-scripts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/load-balance/">load-balance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/locators/">locators</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/log-file/">log-file</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/log-level/">log-level</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/member-timeout/">member-timeout</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/membership-port-range/">membership-port-range</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/password/">password</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/read-timeout/">read-timeout</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/redundancy-zone/">redundancy-zone</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/secondary-locators/">secondary-locators</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/skip-constraint-checks/">skip-constraint-checks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/skip-locks/">skip-locks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/socket-buffer-size/">socket-buffer-size</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/socket-lease-time/">socket-lease-time</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/snappydata.datadictionary.allow-startup-errors/">gemfirexd.datadictionary.allow-startup-errors</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/snappydata.default-startup-recovery-delay/">gemfirexd.default-startup-recovery-delay</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/snappy.history/">snappy.history</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/snappydata.max-lock-wait/">gemfirexd.max-lock-wait</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/snappydata.query-cancellation-interval/">gemfirexd.query-cancellation-interval</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/snappydata.query-timeout/">gemfirexd.query-timeout</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/ssl/">ssl</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/start-locator/">start-locator</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/statistic-archive-file/">statistic-archive-file</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/statistic-sample-rate/">statistic-sample-rate</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/statistic-sampling-enabled/">statistic-sampling-enabled</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/sync-commits/">sync-commits</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/sys-disk-dir/">sys-disk-dir</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/user/">user</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../apidocsintro/">API Reference</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/API_Reference/apireference_guide/">SnappyData Spark extension API Reference Guide</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/misc/passwordless_ssh/">Configuring SSH Login without Password</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../setting_up_odbc_driver-tableau_desktop/">Setting Up SnappyData ODBC Driver</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../setting_up_jdbc_driver_qlikview/">Setting Up SnappyData JDBC Driver and QlikView</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/troubleshooting/">Troubleshooting Common Problems</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Troubleshooting Common Problems</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/member_startup_problems/">Member Startup Problems</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/recovering_from_a_conflictingpersistentdataexception/">Recovering from a ConflictingPersistentDataException</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/preventing_disk_full_errors/">Preventing Disk Full Errors</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/recovering_from_disk_full_errors/">Recovering from Disk Full Errors</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/catalog_inconsistency/">Resolving Catalog Inconsistency Issues</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/collect_debug_artifacts/">Collecting Logs, Stats and Dumps Using the collect-debug-artifacts Script</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/troubleshooting_error_messages/">Troubleshooting Error Messages</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../additional_files/open_source_components/">Community Edition/ Enterprise Edition Features</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../additional_files/license_model/">License Model</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../release_notes/release_notes/">Release Notes</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Release Notes</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../release_notes/known_issues/">Known Issues</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../prev_doc_ver/">Doc Archives</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../techsupport/">Contact and Support</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../LICENSE/">License</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">SnappyData Documentation<br/><sub>v.1.0.2.1</sub></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Working with External Data Sources &raquo;</li>
        
      
    
    <li>Using the SnappyData GemFire Connector</li>
<!--    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/SnappyDataInc/snappydata" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li> !-->
  </ul>
</br>
 <b>This document is a work in progress and will be progressively updated.</b>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="snappydata-gemfire-connector">SnappyData GemFire Connector</h1>
<p><ent>This feature is available only in the Enterprise version of SnappyData. </br></ent></p>
<h2 id="overview">Overview</h2>
<p>The SnappyData GemFire Connector allows SnappyData/Spark programs to read from data regions as well as write into data regions within GemFire clusters. You can connect the applications to one or more GemFire clusters, expose GemFire regions as SnappyData tables/Spark DataFrames, run complex SQL queries on data stored in GemFire and save SnappyData tables onto GemFire regions. The connector is designed to execute in a highly parallelized manner targeting GemFire partitioned datasets (buckets) for the highest possible performance.</p>
<p>By exposing GemFire regions as Spark DataFrames, applications can benefit from the analytic features in SnappyData such as, flexible data transformations, analytics and moving data from/into almost all modern data stores.</p>
<h3 id="features">Features</h3>
<ul>
<li>
<p>Expose GemFire regions as SnappyData external tables</p>
</li>
<li>
<p>Run SQL queries on GemFire regions from SnappyData</p>
</li>
<li>
<p>Support joins on GemFire regions from SnappyData</p>
</li>
<li>
<p>Save SnappyData tables/DataFrames to GemFire</p>
</li>
<li>
<p>Support for POJOs as well as native support for GemFire PDX</p>
</li>
<li>
<p>Push query predicates and projection down to GemFire and use OQL for query execution</p>
</li>
<li>
<p>Query federation across multiple GemFire clusters</p>
</li>
</ul>
<h3 id="version-and-compatibility">Version and Compatibility</h3>
<p>SnappyData GemFire Connector supports Spark 2.1 and has been tested with GemFire 8.2 or later.</p>
<h2 id="quick-start-guide">Quick Start Guide</h2>
<p>This Quick Start guide explains, how to start a GemFire cluster, load data onto a partitioned region, access this region as an SQL table, replicate to a SnappyData column table, and then run queries on both GemFire and SnappyData tables.</p>
<ul>
<li><a href="#setsnappydatagemfireconnector">Set SnappyData GemFire Connector</a></li>
<li><a href="#configuresnappydataclustergemfire">Configure the SnappyData Cluster for GemFire Connector</a></li>
<li><a href="#accessgemfireassql&gt;">Access GemFire as an SQL Table to Run Queries</a></li>
<li><a href="#replicatesnappydatatable">Replicate to SnappyData Table and Running Join Queries</a></li>
</ul>
<p><a id= setsnappydatagemfireconnector> </a></p>
<h3 id="setting-snappydata-gemfire-connector">Setting SnappyData GemFire Connector</h3>
<p>The following prerequisites are required for setting up GemFire connector:</p>
<p><strong>Prerequisites</strong> </p>
<ul>
<li>Basic knowledge of GemFire</li>
<li><a href="https://network.pivotal.io/products/pivotal-gemfire#/releases/4375">GemFire version 8.2 or later</a> installed and running.</li>
</ul>
<p>The following section provides instructions to get a two-node GemFire cluster running and to deploy the functions required by SnappyData to access GemFire.</p>
<p><strong>To start GemFire cluster and deploy SnappyData Connector functions</strong></p>
<ol>
<li>
<p>Start the GemFire shell.</p>
<pre><code>$ &lt;GemFire_home&gt;/bin/gfsh
gfsh&gt; start locator --name=locator1 --port=55221
</code></pre>
<p>You need to use a non-default port, as SnappyData uses the same defaults as GemFire.</p>
</li>
<li>
<p>Start two data servers.</p>
<pre><code>gfsh&gt;start server --name=server1
--locators=localhost[55221]
gfsh&gt;start server --name=server2
--locators=localhost[55221] --server-port=40405
</code></pre>
</li>
<li>
<p>Create Region.</p>
<pre><code>gfsh&gt;create region --name=GemRegion --type=PARTITION --key-constraint=java.lang.String --value-constraint=java.lang.String
</code></pre>
</li>
<li>
<p>Add at least 10 entries in this region using the PUT command.</p>
<pre><code>gfsh&gt; put --key=1 --value='James'      --region=/GemRegion
gfsh&gt; put --key=2 --value='Jim'        --region=/GemRegion
gfsh&gt; put --key=3 --value='James Bond' --region=/GemRegion
gfsh&gt; put --key=4 --value='007'        --region=/GemRegion
</code></pre>
</li>
<li>
<p>Deploy these functions to the GemFire cluster.</p>
<pre><code>gfsh&gt;deploy --jar=&lt;SnappyData-home&gt;/connectors/gfeFunctions-0.9.jar
</code></pre>
<p>A two node GemFire cluster is up and running with a region <strong>GemRegion</strong> and the added entries.</p>
</li>
</ol>
<p><a id= configuresnappydataclustergemfire> </a></p>
<h3 id="configuring-the-snappydata-cluster-for-gemfire-connector">Configuring the SnappyData Cluster for GemFire Connector</h3>
<p>The SnappyData cluster must be configured with details of the GemFire cluster with which the connector interfaces.</br>The configuration details should be provided to both the SnappyData lead and server nodes.</p>
<ol>
<li>
<p>Modify the server and lead configuration files that are located at:</p>
<ul>
<li><strong>&lt;<em>SnappyData-home</em>&gt;/conf/leads</strong></li>
<li><strong>&lt;<em>SnappyData-home</em>&gt;/conf/servers</strong></li>
</ul>
</li>
<li>
<p>Add the connector jar (connector-0.9.jar) to the classpath and configure the remote GemFire cluster (locators, the servers and lead files) as follows:</p>
<pre><code>localhost -locators=localhost:10334 -client-bind-address=localhost 
-classpath= &lt;SnappyData-home&gt;/connectors/connector-0.9.jar
-spark.gemfire-grid.\&lt;UniqueID\&gt;=localhost[55221]
</code></pre>
<p>Here, the UniqueID is a name assigned for the Grid. </br></p>
<p>For example, SnappyData GemFire connector can connect to multiple Grids for federated data access.</p>
<pre><code>-spark.gemfire-grid.gridOne=localhost[55221] -spark.gemfire-grid.gridTwo=localhost[65221]
</code></pre>
</li>
<li>
<p><a href="../../howto/start_snappy_cluster/">Start the SnappyData cluster</a> using the following command:</p>
<pre><code>$ &lt;SnappyData-home&gt;/sbin/snappy-start-all.sh
</code></pre>
</li>
</ol>
<p><a id= accessgemfireassql> </a></p>
<h3 id="accessing-gemfire-as-an-sql-table-to-run-queries">Accessing GemFire as an SQL Table to Run Queries</h3>
<p>The following section provides instructions to access GemFire as an SQL table to run queries.</p>
<p><strong>To access GemFire as an SQL table.</strong></p>
<ol>
<li>
<p>Start the Snappy Shell. </p>
<pre><code>$&lt;SnappyData-home&gt;/bin/snappy
snappy&gt; connect client 'localhost:1527';
</code></pre>
</li>
<li>
<p>Register an external table in SnappyData pointing to the GemFire region.</p>
<pre><code>snappy&gt; create external table GemTable using gemfire options(regionPath 'GemRegion', keyClass 'java.lang.String', valueClass 'java.lang.String') ;
</code></pre>
<p>The schema is automatically inferred from the object data in GemFire:</p>
<pre><code>snappy&gt; describe gemTable;
snappy&gt; select * from gemTable;
</code></pre>
</li>
</ol>
<p><a id= replicatesnappydatatable> </a></p>
<h3 id="replicating-to-snappydata-table-and-running-join-queries">Replicating to SnappyData Table and Running Join Queries</h3>
<p>You can replicate the data in GemFire SQL table into a SnappyData table and then run join queries.</p>
<ol>
<li>
<p>Create a SnappyData table based on the external table that was created using GemFire. </p>
<pre><code>snappy&gt; create table SnappyDataTable using column as (select * from gemTable);
snappy&gt; select * from SnappyDataTable;
</code></pre>
</li>
<li>
<p>Run join queries.</p>
<pre><code>snappy&gt; select t1.key_Column, t1.value_Column, t2.value_Column from GemTable t1, SnappyDataTable t2 where t1.key_Column = t2.key_Column;
</code></pre>
</li>
</ol>
<p><a id= initializegemfireconnector> </a></p>
<h2 id="initializing-the-gemfire-connector">Initializing the GemFire Connector</h2>
<p>SnappyData uses a set of functions that are deployed in the GemFire cluster, to interact with the cluster, for accessing metadata, runnning queries, and accessing data in GemFire. You must deploy the SnappyData GemFire Connector's jar that is <strong>gemfire-function jar</strong> into the GemFire cluster to enable the connector functionality.</p>
<h3 id="enabling-connector-functionality">Enabling Connector Functionality</h3>
<p>To enable the connector functionality,  you must deploy the SnappyData GemFire Connector's <strong>gemfire-function</strong> jar.</p>
<p>Execute the following to deploy the <strong>gemfire-function</strong> jar:</p>
<pre><code>Deploy SnappyData GemFire Connector's gemfire-function jar (`gfeFunct
ions-0.9.2.1.jar`):
gfsh&gt;deploy --jar=&lt;SnappyData Product Home&gt;//connectors/gfeFunctions-0.9.2.1.jar


</code></pre>

<h3 id="executing-queries-with-gemfire-connector">Executing Queries with GemFire Connector</h3>
<p>During the query execution, snappydata passes the names of attributes and filter conditions to the GemFire cluster, to prune the data that is fetched from GemFire.</p>
<p>For example, if you query for only attribute A from a GemFire Region value and that too of only those Region values which meet the filter condition, then instead of fetching the complete value only the pruned data needs to be sent to SnappyData.</p>
<p>For this purpose by default SnappyData relies on OQL of GemFire to prune the data. However, you can write custom <strong>QueryExecutor</strong> to retrieve the pruned data from GemFire. This is done by implementing <strong>QueryExecutor</strong> interface.
The <strong>QueryExecutor</strong> implementation should be packaged in a jar which is loaded by SnappyData using <strong>ServiceLoader</strong> API of java. As a part of the contract, the jar should include the following file with the path described:</br><strong>META-INF/services/io.snappydata.spark.gemfire.connector.query.QueryExecutor</strong></br>This file should contain the fully qualified class name of the custom <strong>QueryExecutor</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The name of the file should be <strong>io.snappydata.spark.gemfire.connector.query.QueryExecutor</strong>.</p>
</div>
<p>This jar needs to be deployed on the GemFire cluster using <strong>gfsh</strong>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>It is important that as part of deployment, <strong>gfeFunctions.jar</strong> must be deployed first and then the jars containing custom <strong>QueryExecutors</strong>.</p>
</div>
<p>Following is an example of the implementation of <strong>QueryExecutor</strong> interface:</p>
<pre><code>package io.snappydata.spark.gemfire.connector.query;

import java.util.Iterator;
import com.gemstone.gemfire.cache.Region;
import com.gemstone.gemfire.cache.execute.RegionFunctionContext;
import com.gemstone.gemfire.pdx.PdxInstance;
import io.snappydata.spark.gemfire.connector.internal.gemfirefunctions.shared.filter.Filter;

  public interface QueryExecutor&lt;T, S&gt; {
    /**
     *
     * @param region
     * @param requiredAttributes
     * @param filter
     * @param isPdxData
     * @return A stateful object which will be passed to the querying apis on every invocation.
     * The idea is that if the user can prepare an object which could be used for every bucket, it will be
     * efficient. So if a compiled Query object is prepared at the start of evaluation, then every bucket can
     * use this Query object instead of creating a compiled query object from string every time.
     */
    public S initStatefulObject(Region region, String[] requiredAttributes,
        T filter, boolean isPdxData);

    /**
     *
     * @return any String which uniquely identifies the Executor
     */
    public String getUniqueID();

    /**
     * This method will be invoked if the query needs a single field projection
     * User can return null in which case default implementation using OQL will be used
     * @param region Region on which query is to be performed
     * @param requiredAttribute projection which need to be returned
     * @param filter The desired format of the Filter condition to filter out relevant rows
     * @param forBucket Bucket ID on which the query is to be performed. will be -1 for replicated region
     * @param context RegionFunctionContext which can provide metadata to get handle of BucketRegion
     * @param  statefulObject which can be used across all buckets eg a compiled Query object.
     * @return An Iterator over the projected columns
     */
    public Iterator&lt;Object&gt; executeSingleProjectionQuery(Region region, String requiredAttribute, T filter,
        int forBucket, RegionFunctionContext context, S statefulObject);

  /**
   * This method will be invoked if the query needs multiple fields projection
   * User can return null in which case default implementation using OQL will be used
   * @param region Region on which query is to be performed
   * @param requiredAttributes A String array containing field names which need to be projected
   * @param filter The desired format of the Filter condition to filter out relevant rows
   * @param forBucket Bucket ID on which the query is to be performed. will be -1 for replicated region
   * @param context RegionFunctionContext which can provide metadata to get handle of BucketRegion
   * @param holder An instance of MultiProjectionHolder which should be used to store the projections during
   *               iteration. It is a wrapper over object[] intended to avoid creation of Object[] during ietaration
   * @param  statefulObject which can be used across all buckets eg a compiled Query object.
   * @return An Iterator of MultiProjectionHolder which contains the projected columns
   */
  public Iterator&lt;MultiProjectionHolder&gt; executeMultiProjectionQuery(Region region, String[] requiredAttributes,
      T filter, int forBucket, RegionFunctionContext context, MultiProjectionHolder holder, S statefulObject);

  /**
   * This method is invoked if the region contains PdxInstances. User needs to return the filtered PdxInstances
   * without applying projection, which will be applied internally . This will ensure that projected columns
   * do not get unnecessarily deserialized
   * User can return null in which case default implementation using OQL will be used
   * @param region Region on which query is to be performed
   * @param filter The desired format of the Filter condition to filter out relevant rows
   * @param forBucket Bucket ID on which the query is to be performed. will be -1 for replicated region
   * @param context RegionFunctionContext which can provide metadata to get handle of BucketRegion
   * @param  statefulObject which can be used across all buckets eg a compiled Query object.
   * @return Iterator over PdxInstance
   */
  public Iterator&lt;PdxInstance&gt; filteredPdxData(Region region,  T filter,
      int forBucket, RegionFunctionContext context, S statefulObject);

  /**
   *
   * @param filters Filter objects which need to be transformed by the user in the way it can be used in querying
   * @return transformed filter
   */
  public T transformFilter(Filter[] filters);
}

</code></pre>

<p>The working of <strong>QueryExecutor</strong> can be broken as follows:</p>
<ul>
<li><a href="#convertfilter">Converting the filter condition</a> into a desired form.</li>
<li><a href="#initializestatefulcontext">Initializing a stateful context object</a> which avoids recreating a reusable unchanging object during data fetch on the individual buckets.</li>
<li><a href="#retrievedataregion">Retrieval of data for Region</a> as a whole, in case of replicated region, or for individual buckets, in case of partitioned region.</li>
</ul>
<p><a id= convertfilter> </a></p>
<h4 id="convert-filter-condition">Convert Filter Condition</h4>
<p>During execution, SnappyData checks with the available <strong>QueryExecutor</strong> by invoking the <strong>transformFilter</strong> method, if the filter is present.
In case the <strong>QueryExecutor</strong> is capable of handling it, a transformed filter is returned which can be used for data retrieval or else an <strong>UnsupportedOperationException</strong> is shown.</p>
<p><a id= initializestatefulcontext> </a></p>
<h4 id="initialize-stateful-context-object">Initialize Stateful Context Object</h4>
<p>If a transformed value is returned, then <strong>initStatefulObject</strong> method is invoked. You can utilize this to instantiate a reusable object such as, a parsed QueryPlan or a compiled structure or can simply return null. At this stage too, if the query cannot be handled, <strong>UnsupportedOperationException</strong> is shown.</p>
<p><a id= retrievedataregion> </a></p>
<h4 id="retrieve-data-for-region">Retrieve Data for Region</h4>
<p>Next step is invocation of the appropriate method to get Iterator on the pruned data. This method can get invoked multiple times based on the number of partitioned region buckets that is operated upon.</p>
<ul>
<li>
<p>If the region contains <strong>pdx</strong> instances, then the method <strong>filteredPdxData</strong> is invoked.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method requires the user to return the iterator on valid Pdx instances. The relevant attributes are extracted by the framework.</p>
</div>
</li>
<li>
<p>If the region contains POJOs, then depending upon single or multiple attributes, one of the following method is invoked:</p>
<ul>
<li><strong>executeSingleProjectionQuery</strong> </li>
<li><strong>executeMultiProjectionQuery</strong>*</li>
</ul>
</li>
</ul>
<p><a id= configuresnappyforgemfire> </a></p>
<h3 id="configuring-the-snappydata-cluster-for-gemfire-connector_1">Configuring the SnappyData Cluster for GemFire Connector</h3>
<p>The following configurations can be set in SnappyData Cluster for GemFire Connector:</p>
<ul>
<li><a href="#customize_distributed_system">Customize DistributedSystem in the cluster with additional attributes</a></li>
<li><a href="#specifystatlocator">Specify Static Locators</a></li>
<li><a href="#dynamicdiscoverygridregion">Dynamic Discovery of Grid for a Region</a></li>
</ul>
<p><a id= customize_distributed_system> </a></p>
<h4 id="customizing-the-distributedsystem-of-snappydata-cluster-at-startup">Customizing the <strong>DistributedSystem</strong> of SnappyData Cluster at Startup</h4>
<p>You can configure the <strong>DistributedSystem</strong> with additional attributes by implementing the following interface:</p>
<pre><code>package io.snappydata.spark.gemfire.connector.dsinit;
/**
 * @param @link{DSConfig} instance which can be used to configure the DistributedSystem properties at the
 * time of snappydata startup
 */
public interface DistributedSystemInitializer {

  public void configure(DSConfig config);
}
</code></pre>

<p>Any required properties of the <strong>DistributedSystem</strong> can be configured via the <strong>DSConfig</strong> instance passed.
The <strong>DistributedSystemInitializer</strong> implementation needs to be packaged in a jar which is loaded by SnappyData using ServiceLoader API of java. The jar should include the following file along with the path as described:</p>
<p><strong>META-INF/services/io.snappydata.spark.gemfire.connector.dsinit.DistributedSystemInitializer</strong></p>
<p>This file should contain the fully qualified class name of the custom DistributedSystemInitializer</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The name of the file should be <strong>io.snappydata.spark.gemfire.connector.dsinit.DistributedSystemInitializer</strong></p>
</div>
<p>The connector interacts with the GemFire cluster. Therefore, you should configure the SnappyData cluster with the details of GemFire cluster. The configuration details must be provided in both the SnappyData lead and server nodes at the following locations:
-   <strong>SnappyData-Home directory/conf/leads</strong>
-   <strong>SnappyData-Home directory/conf/servers </strong></p>
<p>Modify the servers and leads configuration file to add the connector jar (<strong>connector-1.0.0.jar</strong>) and the <strong>person.jar</strong> in the classpath as well as to configure the remote GemFire cluster locator.</p>
<p><a id= specifystatlocator> </a></p>
<h4 id="specifying-static-locators">Specifying Static Locators</h4>
<p>To statically specify the running locators of the GemFire cluster, set the property as follows, where <strong>uniqueIDForGrid</strong> is any unique identifier key:</p>
<pre><code>    -snappydata.connector.gemfire-grid.\&lt;uniqueIDForGrid\&gt;=localhost[55221]
</code></pre>
<p>Following is a sample from the servers and leads file:</p>
<pre><code>localhost -locators=localhost:10334 -client-bind-address=localhost -client-port=1528 -heap-size=20g
-classpath=&lt;SnappyData-Product-Home&gt;//connectors/connector_2.11-0.9.2.1.jar:&lt;path-to-jar&gt;/persons.jar
-snappydata.connector.gemfire-grid.&lt;uniqueIDForGrid&gt;=localhost[55221]
</code></pre>

<p><a id= dynamicdiscoverygridregion> </a></p>
<h4 id="dynamically-discovering-grid-for-a-region">Dynamically Discovering Grid for a Region</h4>
<p>Instead of specifying the locators via the property, it is possible to provide custom logic for discovery of the grid for the region by implementing <strong>GridResolver</strong> trait as follows:</p>
<pre><code>trait GridResolver {

  /**
    * Optional method to identify the locators and delegate to SnappyData for creating connection 
    * pool using [[GridHelper]]. Invoked once in the lifecycle.
    * @param gfeGridProps
    * @param gridHelper
    */
  def initConnections(gfeGridProps: java.util.Map[String, String], gridHelper: GridHelper): Unit

  /**
    * Resolve the grid for the region or return null if unable to do so
    * @param regionName
    * @param gfeGridProps
    * @param gridHelper
    * @param userOptions
    * @return the grid name ( the name of the connection pool) to use
    */
  def getGridForRegion(regionName: String, gfeGridProps: java.util.Map[String, String],
      gridHelper: GridHelper, userOptions: java.util.Map[String, String]): String

  /**
    *
    * @return a String identifying the resolver uniquely
    */
  def getUniqueID: String
}
</code></pre>

<p>SnappyData attempts to resolve the grid for the region using existing <strong>ConnectionPools</strong>. If it is not successful, it checks with the available resolvers by invoking <strong>getGridForRegion</strong>. The resolver returns null, if it cannot resolve the grid.</p>
<p>The <strong>GridResolver</strong> implementation should be packaged in a jar which is loaded by SnappyData using <strong>ServiceLoader</strong> API of java. The jar should also include the following file along with the described path:</br><strong>META-INF/services/io.snappydata.spark.gemfire.connector.grids.GridResolver</strong></br>
This file should contain the fully qualified class name of the custom <strong>GridResolver</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The name of the file should be <strong>io.snappydata.spark.gemfire.connector.grids.GridResolver</strong>.</p>
</div>
<p>To initialize the GemFire connector and enable its functions in SnappyData, you must include the following import statement before creating the external table:</p>
<pre><code>import io.snappydata.spark.gemfire.connector
</code></pre>

<p><a id= accessingdatafromgemfire> </a></p>
<h2 id="accessing-data-from-gemfire">Accessing Data from GemFire</h2>
<p>In SnappyData applications, you can create external tables that represent GemFire regions and run SQL queries against GemFire. For accesing data from GemFire, you must first expose the GemFire regions: </p>
<p>You can use any the following options to expose GemFire regions:</p>
<ul>
<li><a href="#gemfirepdx">Expose GemFire PDX Regions as External Tables</a></li>
<li><a href="#gemfirepojo">Expose Regions Containing POJOs as External Tables</a></li>
<li><a href="#gemfiredataframe">Expose GemFire Region Using Dataframe based External Tables</a></li>
<li><a href="#gemfirerdds">Expose GemFire Regions as RDDs</a></li>
</ul>
<p><a id= gemfirepdx> </a></p>
<h3 id="exposing-gemfire-pdx-regions-as-external-tables">Exposing GemFire PDX Regions as External Tables</h3>
<p>You can create an external table that represents a GemFire region which stores PDX instances. The SnappyData schema for this external table is derived from the PDXType. Here, the GemFire region is already populated with data and SnappyData infers the schema based on the inspection of the PDX types.
The following syntax creates an external table that represents a GemFire region which stores PDX instances.</p>
<pre><code>val externalBsegTable = snc.createExternalTable(&quot;bsegInGem&quot;, 
     &quot;gemfire&quot;,
     Map[String, String](&quot;region.path&quot; -&gt; &quot;bseg1&quot;, &quot;data.as.pdx&quot; -&gt; &quot;true&quot;))
</code></pre>

<p>The SnappyData external table schema for the GemFire region can optionally include the GemFire region key as a column in the table. To enable this, the <strong>key.class </strong> attribute should be set when you create the table as shown in the following example:</p>
<pre><code>val externalBsegTable = snc.createExternalTable(&quot;bsegInGem&quot;,
   &quot;gemfire&quot;,
   Map[String, String](&quot;region.path&quot; -&gt; &quot;bseg1&quot;, &quot;data.as.pdx&quot; -&gt; &quot;true&quot;,
   &quot;key.class&quot; -&gt; &quot;java.lang.Long&quot;     
     ))
</code></pre>

<p><a id= gemfirepojo> </a></p>
<h3 id="exposing-regions-containing-pojos-as-external-tables">Exposing Regions Containing POJOs as External Tables</h3>
<p>In the following example, an external table is created using the getter methods on POJOs as SnappyData column names:</p>
<pre><code>snc.createExternalTable(externalPersonsTable1, &quot;gemfire&quot;, 
Map[String, String](&quot;region.path&quot; -&gt; personsRegionName, &quot;value.class&quot; -&gt; &quot;load.Person&quot;))
</code></pre>

<p>As in the previous case, if the GemFire key field has to be included as a column, then the <strong>Key.class</strong> attribute has to be passed in as an option.</p>
<pre><code>snc.createExternalTable(externalPersonsTable1, &quot;gemfire&quot;, Map[String, String](&quot;region.path&quot; -&gt; personsRegionName, 
&quot;value.class&quot; -&gt; &quot;load.Person&quot;), &quot;key.class&quot; -&gt; &quot;java.lang.Long&quot;))
</code></pre>

<p><a id= gemfiredataframe> </a></p>
<h3 id="expose-gemfire-region-using-dataframe-based-external-tables">Expose GemFire Region Using Dataframe Based External Tables</h3>
<p>In the following example, a DataFrame is used to create an external table <strong>bsegTable</strong>, with the schema which is same as that of DataFrame <strong>bsegDF</strong>. The primary key column name should be specified for this to work correctly. In the following example, it is assumed that the dataframe contains a column named "id1".</p>
<pre><code>bsegDF.write.format(&quot;gemfire&quot;).  
      option(&quot;region.path&quot;, &quot;bseg1&quot;).
      option(&quot;primary.key.column.name&quot;, &quot;id1&quot;).
      option(&quot;pdx.identity.fields&quot;, &quot;id1&quot;).
      saveAsTable(&quot;bsegTable&quot;)
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <strong>pdx.identity.fields</strong> specification has a huge impact on performance within GemFire since this specification informs GemFire to use only the specified field for computing hashCode and equality for PdxInstance.</p>
</div>
<p><a id= gemfirerdds> </a></p>
<h3 id="expose-gemfire-regions-as-rdds">Expose GemFire Regions as RDDs</h3>
<p>Invoking the <strong>gemfireRegion</strong> method on the SparkContext in SnappyData exposes the full data set of a GemFire region as a Spark RDD.
The same API exposes both replicated and partitioned region as RDDs.</p>
<pre><code>scala&gt; val rdd = sc.gemfireRegion[String, String](&quot;gemTable1&quot;)

scala&gt; rdd.foreach(println)
(1,one)
(3,three)
(2,two)
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>when the RDD is used, it is important to specify the correct type for both the region key and value, otherwise a <strong>ClassCastException</strong> is encountered.</p>
</div>
<p><a id= controlschemaofexternaltable> </a></p>
<h3 id="controlling-the-schema-of-the-external-table">Controlling the Schema of the External Table</h3>
<p>The pdx fields (of pdx instances) or the getter methods (of the POJOs) define the schema of the external table by default. However, you can also control the schema by excluding the columns as per requirement. This is done by implementing the following trait:</p>
<pre><code>package io.snappydata.spark.gemfire.connector.lifecycle
import org.apache.spark.sql.types.StructType

trait ColumnSelector {
  def selectColumns(gridName: Option[String], regionName: String,
      allColumns: StructType): StructType
}
</code></pre>

<p>Based on the requirement, a new StructType which contains fewer columns can be returned. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The new StructType returned can only have the subset of the columns that are passed. No new columns should be added.</p>
</div>
<p>The <strong>ColumnSelector</strong> implemetation needs to be added to the startup classpath of the SnappyDataCluster.
At the time of table creation, an option with key = <strong>column.selector</strong> and value as the fully qualified class name of the ColumnSelector implementation class should be passed.</p>
<h3 id="other-optional-configuration-parameters">Other Optional Configuration Parameters</h3>
<table>
<thead>
<tr>
<th>column</th>
<th>column</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>max.rows.restrict</strong></td>
<td>This parameter is used to restrict the number of rows that are fetched from an external table, when a query of type <strong>select * from external_table</strong> is executed. This restriction, if specified,  is applied to queries without any filter, limit, aggregate function, and projection such that it tends to bring all the rows from the external region. Note that this restriction is not applied in case of DDL statement such as <strong>create table X using row column as select * from external_table</strong>. The default value for is 10,000.</td>
</tr>
<tr>
<td><strong>column.selector</strong></td>
<td>This parameter is used to control the columns that must be included in the schema as described <a href="#controlschemaofexternaltable">here</a>.</td>
</tr>
<tr>
<td><strong>max.buckets.per.partition</strong></td>
<td>This parameter is used to control the concurrency and number of tasks created to fetch data from an external region. This property is useful only for Partitioned Region. For more details, refer to <a href="#controllingtaskconcurrency">Controlling Task Concurrency in SnappyData When Accessing GemFire</a>.  The default value is 3.</td>
</tr>
<tr>
<td><strong>security.username</strong>  and <strong>security.password</strong></td>
<td>By default the external table is created and queried using the credential of the current user. For example user X creates external table, and if user Y is querying, then credentials of user Y is fetched from data. But if the parameters <strong>security.username</strong>  and <strong>security.password</strong> are passed then those credentials are used to create external table and for querying the data irrespective of the current user.</td>
</tr>
<tr>
<td><strong>pdxtype.maxscan</strong></td>
<td>This parameter determines the maximum number of entries from the region which is scanned to completely determine the schema of the external table from the Pdx instances that is stored in the region. The default value is 100.</td>
</tr>
</tbody>
</table>
<p><a id= controllingtaskconcurrency> </a></p>
<h3 id="controlling-task-concurrency-in-snappydata-when-accessing-gemfire">Controlling Task Concurrency in SnappyData When Accessing GemFire</h3>
<p>There are two types of regions in GemFire; <strong>replicated</strong> and <strong>partitioned</strong>. All the data for a replicated region is present on every server where the region is defined. A GemFire partitioned region splits the data across the servers that define the partitioned region. </p>
<p>When operating with replicated regions, there is only a single RDD partition representing the replicated region in SnappyData. Since there is only one data bucket for the replicated region. As compared to this, a GemFire partitioned region can be represented by a configurable number of RDD partitions in SnappyData. </p>
<p>Choosing the number of RDD partitions directly controls the task concurrency in SnappyData when you run queries on GemFire regions. By default, the GemFire connector works out the number of buckets per GemFire server, assigns partitions to each server, and uses a default value of maximum three buckets per partition. You can configure the <strong>max.buckets.per.partition</strong> attribute to change this value. </p>
<p>When queries are executed on an external table, the degree of parallelism in query execution is directly proportional to the number of RDD partitions that represents the table.</p>
<p>The following example shows how to configure the RDD partitions count for an external table representing a GemFire region:</p>
<pre><code>import io.snappydata.spark.gemfire.connector._

val externalBsegTable = snc.createExternalTable(&quot;bsegInGem&quot;,
   &quot;gemfire&quot;,
   Map[String, String](&quot;region.path&quot; -&gt; &quot;bseg1&quot;, &quot;data.as.pdx&quot; -&gt; &quot;true&quot;,
   &quot;key.class&quot; -&gt; &quot;java.lang.Long&quot; , &quot;max.buckets.per.partition&quot; -&gt; &quot;5&quot;    
     ))
</code></pre>

<h2 id="saving-data-to-gemfire-region">Saving Data to GemFire Region</h2>
<p>You can save data to GemFire Regions using any of the following :</p>
<ul>
<li><a href="#savepairrddgemfire">Saving Pair RDD to GemFire Region</a></li>
<li><a href="#savenonpairrddgemfire">Saving Non-Pair RDD to GemFire</a></li>
<li><a href="#savedataframegemfire">Saving DataFrame to GemFire</a></li>
</ul>
<p><a id= savepairrddgemfire> </a></p>
<h3 id="saving-pair-rdd-to-gemfire-region">Saving Pair RDD to GemFire Region</h3>
<p>A pair RDD can be saved from SnappyData into a GemFire region as follows: </p>
<ol>
<li>
<p>Import the implicits as shown:</p>
<pre><code>import io.snappydata.spark.gemfire.connector
</code></pre>
</li>
<li>
<p>In the Spark shell, create a simple pair RDD and save it to GemFire Region:</p>
<pre><code>scala&gt; import io.snappydata.spark.gemfire.connector._
scala&gt; val data = Array(("1", "one"), ("2", "two"), ("3", "three"))
data: Array[(String, String)] = Array((1,one), (2,two), (3,three))

scala&gt; val distData = sc.parallelize(data)
distData: org.apache.spark.rdd.RDD[(String, String)] = ParallelCollectionRDD[0] at parallelize at &lt;console&gt;:14

scala&gt; distData.saveToGemFire("gemTable1")
15/02/17 07:11:54 INFO DAGScheduler: Job 0 finished: runJob at GemFireRDDFunctions.scala:29, took 0.341288 s
</code></pre>
</li>
<li>
<p>Verify the data is saved in GemFire using <code>gfsh</code>:</p>
<pre><code>gfsh&gt;query --query="select key,value from /gemTable1.entries"

Result     : true
startCount : 0
endCount   : 20
Rows       : 3

key | value
--- | -----
1   | one
3   | three
2   | two
</code></pre>
</li>
</ol>
<p><a id= savenonpairrddgemfire> </a></p>
<h3 id="saving-non-pair-rdd-to-gemfire">Saving Non-Pair RDD to GemFire</h3>
<p>Saving a non-pair RDD to GemFire requires an extra function that converts each element of RDD to a key-value pair. 
Here's a sample session in Spark shell:</p>
<pre><code>scala&gt; import io.snappydata.spark.gemfire.connector._
scala&gt; val data2 = Array(&quot;a&quot;,&quot;ab&quot;,&quot;abc&quot;)
data2: Array[String] = Array(a, ab, abc)

scala&gt; val distData2 = sc.parallelize(data2)
distData2: org.apache.spark.rdd.RDD[String] = ParallelCollectionRDD[0] at parallelize at &lt;console&gt;:17

scala&gt; distData2.saveToGemFire(&quot;gemTable1&quot;, e =&gt; (e.length, e))
[info 2015/02/17 12:43:21.174 PST &lt;main&gt; tid=0x1]
...
15/02/17 12:43:21 INFO DAGScheduler: Job 0 finished: runJob at GemFireRDDFunctions.scala:52, took 0.251194 s
</code></pre>

<p>Verify the result with <code>gfsh</code>:</p>
<pre><code>gfsh&gt;query --query=&quot;select key,value from /gemTable1.entrySet&quot;

Result     : true
startCount : 0
endCount   : 20
Rows       : 3

key | value
--- | -----
2   | ab
3   | abc
1   | a
</code></pre>

<p><a id= savedataframegemfire> </a></p>
<h3 id="saving-a-dataframe-to-gemfire">Saving a DataFrame to GemFire</h3>
<p>To save a DataFrame, that is dataSet of row objects, into GemFire, use the following API which is available as an implicit definition. The rows of the dataframes are converted into PDX instances for storage in the GemFire's region.</p>
<p>In the following example, it is assumed that there is a column "id1" present in the dataframe's schema. To specify the PDX Identity Fields for the PDX Type, use the option as ("pdx.identity.fields", "Col1, Col2, Col3") to specify one or more columns to be used as PDX Identity fields. 
SnappyData recommends to define the identity fields for performance during comparison of PDX Instances.</p>
<pre><code>import io.snappydata.spark.gemfire.connector._

df.write.format(&quot;gemfire&quot;).
          option(&quot;region.path&quot;,&quot;/region1&quot;).
          option(&quot;primary.key.column.name&quot;, &quot;id1&quot;).
          option(&quot;pdx.identity.fields&quot;, &quot;id1&quot;)
          .save()
</code></pre>

<p>To dynamically generate the GemFire Region's key, import the implicits and use the following API:</p>
<pre><code>saveToGemFire[K](regionPath: String, keyExtractor: Row =&gt; K, opConf: Map[String, String] = Map.empty )
</code></pre>

<pre><code>import io.snappydata.spark.gemfire.connector._

df.saveToGemFire[String](&quot;/region1&quot;, 
(row: Row) =&gt; ( row.getString(1) + &quot;_&quot; + row.getString(10)),
Map[String, String](&quot;pdx.identity.fields&quot; -&gt; &quot;id1, id10&quot;)
)
</code></pre>

<p><a id= runoqlqueriesgemfire> </a></p>
<h2 id="running-oql-queries-directly-on-gemfire-from-snappydata">Running OQL queries Directly on GemFire from SnappyData</h2>
<p>Most applications using SnappyData will choose to run regular SQL queries on GemFire regions. Refer to <a href="#accessingdatafromgemfire">Accessing Data From GemFire</a> 
Additionally, you can directly execute OQL queries on GemFire regions using the GemFire connector. In scenarios where the data stored in GemFire regions is neither PDX nor Java bean compliant POJO, you can execute OQL queries and retrieve the data from the server and make it available as a data frame.</p>
<p>An instance of <code>SQLContext</code> is required to run OQL query.</p>
<pre><code>val snc = new org.apache.spark.sql.SnappyContext(sc)
</code></pre>

<p>Create a <code>DataFrame</code> using OQL:</p>
<pre><code>val dataFrame = snc.gemfireOQL(&quot;SELECT iter.name,itername.address.city, iter.id FROM /personRegion iter&quot;)
</code></pre>

<p>You can repartition the <code>DataFrame</code> using <code>DataFrame.repartition()</code> if required. 
After you have the <code>DataFrame</code>, you can register it as a table and use Spark 
SQL to query:</p>
<pre><code>dataFrame.registerTempTable(&quot;person&quot;)
val SQLResult = sqlContext.sql(&quot;SELECT * FROM person WHERE id &gt; 100&quot;)
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../cdc_connector/" class="btn btn-neutral float-right" title="Using the SnappyData CDC (Change Data Capture) Connector">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../deployment_dependency_jar/" class="btn btn-neutral" title="Deploying Third Party Connectors"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2018 SnappyData Inc.</p>
    
  </div>

 <b>This document is a work in progress and will be progressively updated.</b>

 <!-- Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. -->
</footer>


	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/SnappyDataInc/snappydata" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../deployment_dependency_jar/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../cdc_connector/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>
      <script src="../../custom_theme/js/menu.js"></script>
      <script src="../../custom_theme/js/highlight.pack.js"></script>

</body>
</html>
