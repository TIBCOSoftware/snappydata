<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project documentation for SnappyData"><meta name=author content="SnappyData Team"><link href=https://tibcosoftware.github.io/snappydata/connectors/gemfire_connector/ rel=canonical><link rel=icon href=../../favicon.ico><meta name=generator content="mkdocs-1.2.3, mkdocs-material-7.3.4"><title>SnappyData GemFire Connector - SnappyData™ 1.3.0</title><link rel=stylesheet href=../../assets/stylesheets/main.db9e7362.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.3f5d1f46.min.css><meta name=theme-color content=#009485><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7CFira+Code&display=fallback"><style>:root{--md-text-font-family:"Lato";--md-code-font-family:"Fira Code"}</style><link rel=stylesheet href=../../extra.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=cyan> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#snappydata-gemfire-connector class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="SnappyData™ 1.3.0" class="md-header__button md-logo" aria-label="SnappyData™ 1.3.0" data-md-component=logo> <img src=../../Images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SnappyData™ 1.3.0 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> SnappyData GemFire Connector </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/TIBCOSoftware/snappydata/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="SnappyData™ 1.3.0" class="md-nav__button md-logo" aria-label="SnappyData™ 1.3.0" data-md-component=logo> <img src=../../Images/logo.png alt=logo> </a> SnappyData™ 1.3.0 </label> <div class=md-nav__source> <a href=https://github.com/TIBCOSoftware/snappydata/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../release_notes/release_notes/ class=md-nav__link> Release Notes </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../install/ >Provisioning SnappyData</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Provisioning SnappyData" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Provisioning SnappyData </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../install/system_requirements/ class=md-nav__link> System Requirements </a> </li> <li class=md-nav__item> <a href=../../install/install_on_premise/ class=md-nav__link> Installing SnappyData On-Premise </a> </li> <li class=md-nav__item> <a href=../../install/setting_up_cluster_on_amazon_web_services/ class=md-nav__link> Setting-up SnappyData Cluster on AWS </a> </li> <li class=md-nav__item> <a href=../../kubernetes/ class=md-nav__link> Setting-up SnappyData Cluster on Kubernetes </a> </li> <li class=md-nav__item> <a href=../../quickstart/getting_started_with_docker_image/ class=md-nav__link> Building a Docker Image with SnappyData Binaries </a> </li> <li class=md-nav__item> <a href=../../install/building_from_source/ class=md-nav__link> Building SnappyData from Source files </a> </li> <li class=md-nav__item> <a href=../../install/upgrade/ class=md-nav__link> Upgrading SnappyData </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../quickstart/ >Getting Started</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../quickstart/getting_started_by_installing_snappydata_on-premise/ class=md-nav__link> On-Premise </a> </li> <li class=md-nav__item> <a href=../../quickstart/getting_started_on_kubernetes/ class=md-nav__link> Kubernetes </a> </li> <li class=md-nav__item> <a href=../../quickstart/getting_started_with_your_spark_distribution/ class=md-nav__link> Spark Distribution </a> </li> <li class=md-nav__item> <a href=../../howto/use_apache_zeppelin_with_snappydata/ class=md-nav__link> Using Apache Zeppelin with SnappyData </a> </li> <li class=md-nav__item> <a href=../../quickstart/snappydataquick_start/ class=md-nav__link> SnappyData Quickstart Guide </a> </li> <li class=md-nav__item> <a href=../../quickstart/using_spark_scala_apis/ class=md-nav__link> Using Spark Scala APIs </a> </li> <li class=md-nav__item> <a href=../../quickstart/performance_apache_spark/ class=md-nav__link> Benchmark 16-20x Faster Performance than Apache Spark </a> </li> <li class=md-nav__item> <a href=../../quickstart/using_sql/ class=md-nav__link> Using SQL </a> </li> <li class=md-nav__item> <a href=../../quickstart/structucture_streamingquickstart/ class=md-nav__link> Structured Streaming </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../configuring_cluster/configure_launch_cluster/ class=md-nav__link> Configure/Launch SnappyData Cluster </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <div class="md-nav__link md-nav__link--index "> <a href=../../architecture/ >Concepts</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Concepts data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/core_components/ class=md-nav__link> Core Components </a> </li> <li class=md-nav__item> <a href=../../architecture/cluster_architecture/ class=md-nav__link> SnappyData Cluster Architecture </a> </li> <li class=md-nav__item> <a href=../../architecture/hybrid_cluster_manager/ class=md-nav__link> Hybrid Cluster Manager </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5 type=checkbox id=__nav_6_5> <div class="md-nav__link md-nav__link--index "> <a href=../../consistency/ >Distributed Transactions</a> <label for=__nav_6_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Distributed Transactions" data-md-level=2> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Distributed Transactions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../consistency/using_transactions_row/ class=md-nav__link> How Transactions Work for Row Tables </a> </li> <li class=md-nav__item> <a href=../../consistency/using_snapshot_isolation_column/ class=md-nav__link> Lock-free Queries using MVCC and Snapshot Isolation for Column Tables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_6 type=checkbox id=__nav_6_6> <div class="md-nav__link md-nav__link--index "> <a href=../../affinity_modes/ >Affinity Modes</a> <label for=__nav_6_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Affinity Modes" data-md-level=2> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Affinity Modes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../affinity_modes/local_mode/ class=md-nav__link> Local Mode </a> </li> <li class=md-nav__item> <a href=../../affinity_modes/embedded_mode/ class=md-nav__link> Embedded SnappyData Store Mode </a> </li> <li class=md-nav__item> <a href=../../affinity_modes/connector_mode/ class=md-nav__link> SnappyData Smart Connector Mode </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <div class="md-nav__link md-nav__link--index "> <a href=../../howto/ >How Tos</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="How Tos" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> How Tos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../howto/start_snappy_cluster/ class=md-nav__link> How to Start a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../../howto/check_status_cluster/ class=md-nav__link> How to Check the Status of a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../../howto/stop_snappy_cluster/ class=md-nav__link> How to Stop a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../../howto/run_spark_job_inside_cluster/ class=md-nav__link> How to Run Spark Job inside the Cluster </a> </li> <li class=md-nav__item> <a href=../../howto/spark_installation_using_smart_connector/ class=md-nav__link> How to Access SnappyData Store from existing Spark Installation using Smart Connector </a> </li> <li class=md-nav__item> <a href=../../howto/use_snappy_shell/ class=md-nav__link> How to Use Snappy SQL shell (snappy-sql) </a> </li> <li class=md-nav__item> <a href=../../howto/create_row_tables_and_run_queries/ class=md-nav__link> How to Create Row Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../../howto/create_column_tables_and_run_queries/ class=md-nav__link> How to Create Column Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../../howto/load_data_into_snappydata_tables/ class=md-nav__link> How to Load Data into SnappyData Tables </a> </li> <li class=md-nav__item> <a href=../../howto/load_data_from_external_data_stores/ class=md-nav__link> How to Load Data from External Data Stores (e.g. HDFS, Cassandra, Hive, etc) </a> </li> <li class=md-nav__item> <a href=../../howto/perform_a_colocated_join/ class=md-nav__link> How to Perform a Colocated Join </a> </li> <li class=md-nav__item> <a href=../../howto/connect_using_jdbc_driver/ class=md-nav__link> How to Connect using JDBC Driver </a> </li> <li class=md-nav__item> <a href=../../howto/using_snappydata_for_any_spark_dist/ class=md-nav__link> How to use SnappyData for any Spark Distribution </a> </li> <li class=md-nav__item> <a href=../../howto/store_retrieve_complex_datatypes_JDBC/ class=md-nav__link> How to Store and Retrieve Complex Data Types in JDBC Programs </a> </li> <li class=md-nav__item> <a href=../../howto/store_and_query_objects/ class=md-nav__link> How to Store and Query Objects </a> </li> <li class=md-nav__item> <a href=../../howto/use_stream_processing_with_snappydata/ class=md-nav__link> How to use Stream Processing with SnappyData </a> </li> <li class=md-nav__item> <a href=../../howto/use_transactions_isolation_levels/ class=md-nav__link> How to use Transactions Isolation Levels </a> </li> <li class=md-nav__item> <a href=../../howto/use_synopsis_data_engine_to_run_approximate_queries/ class=md-nav__link> How to use Approximate Query Processing (AQP) to Run Approximate Queries </a> </li> <li class=md-nav__item> <a href=../../howto/use_python_to_create_tables_and_run_queries/ class=md-nav__link> How to use Python to Create Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../../howto/connect_using_odbc_driver/ class=md-nav__link> How to Connect using ODBC Driver </a> </li> <li class=md-nav__item> <a href=../../howto/connect_to_the_cluster_from_external_clients/ class=md-nav__link> How to Connect to the Cluster from External Network </a> </li> <li class=md-nav__item> <a href=../../howto/import_from_hive_table/ class=md-nav__link> How to Import Data from Hive Table into SnappyData Table </a> </li> <li class=md-nav__item> <a href=../../howto/export_hdfs/ class=md-nav__link> How to Export and Restore Table Data using HDFS </a> </li> <li class=md-nav__item> <a href=../../howto/connect_oss_vis_client_tools/ class=md-nav__link> How to Access SnappyData from Various SQL Client Tools </a> </li> <li class=md-nav__item> <a href=../../howto/connecttibcospotfire/ class=md-nav__link> How to connect TIBCO Spotfire® Desktop to SnappyData </a> </li> <li class=md-nav__item> <a href=../../howto/tableauconnect/ class=md-nav__link> How to Connect Tableau to SnappyData </a> </li> <li class=md-nav__item> <a href=../../howto/use_apache_zeppelin_with_snappydata/ class=md-nav__link> How to Use Apache Zeppelin with SnappyData </a> </li> <li class=md-nav__item> <a href=../../howto/concurrent_apache_zeppelin_access_to_secure_snappydata/ class=md-nav__link> How to Configure Apache Zeppelin to Securely and Concurrently access the SnappyData Cluster </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <div class="md-nav__link md-nav__link--index "> <a href=../../programming_guide/ >Programming Guide</a> <label for=__nav_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Programming Guide" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Programming Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../programming_guide/sparksession_snappysession_and_snappystreamingcontext/ class=md-nav__link> SparkSession, SnappySession and SnappyStreamingContext </a> </li> <li class=md-nav__item> <a href=../../programming_guide/snappydata_jobs/ class=md-nav__link> Snappy Jobs </a> </li> <li class=md-nav__item> <a href=../../programming_guide/managing_jar_files/ class=md-nav__link> Managing JAR Files </a> </li> <li class=md-nav__item> <a href=../../programming_guide/using_snappydata_shell/ class=md-nav__link> Using Snappy Shell </a> </li> <li class=md-nav__item> <a href=../../programming_guide/using_the_spark_shell_and_spark-submit/ class=md-nav__link> Using the Spark Shell and spark-submit </a> </li> <li class=md-nav__item> <a href=../../programming_guide/using_pyspark_shell/ class=md-nav__link> Using pyspark Shell </a> </li> <li class=md-nav__item> <a href=../../programming_guide/scala_interpreter/ class=md-nav__link> Executing Spark Scala Code using SQL </a> </li> <li class=md-nav__item> <a href=../../programming_guide/working_with_hadoop_yarn_cluster_manager/ class=md-nav__link> Working with Hadoop YARN cluster Manager </a> </li> <li class=md-nav__item> <a href=../../programming_guide/using_jdbc_with_snappydata/ class=md-nav__link> Using JDBC with SnappyData </a> </li> <li class=md-nav__item> <a href=../../programming_guide/spark_jdbc_connector/ class=md-nav__link> Accessing SnappyData Tables from any Spark (2.1+) Cluster </a> </li> <li class=md-nav__item> <a href=../../programming_guide/multiple_language_binding_using_thrift_protocol/ class=md-nav__link> Multiple Language Binding using Thrift Protocol </a> </li> <li class=md-nav__item> <a href=../../programming_guide/building_snappydata_applications_using_spark_api/ class=md-nav__link> Building SnappyData Applications using Spark API </a> </li> <li class=md-nav__item> <a href=../../programming_guide/tables_in_snappydata/ class=md-nav__link> Tables in SnappyData </a> </li> <li class=md-nav__item> <a href=../../programming_guide/stream_processing_using_sql/ class=md-nav__link> Stream Processing using SQL </a> </li> <li class=md-nav__item> <a href=../../programming_guide/udf_and_udaf/ class=md-nav__link> User Defined Functions (UDF) and User Defined Aggregate Functions (UDAF) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9> <div class="md-nav__link md-nav__link--index "> <a href=../../best_practices/ >Best Practices</a> <label for=__nav_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Best Practices" data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Best Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../best_practices/setup_cluster/ class=md-nav__link> Tuning for Concurrency and Computation </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_3 type=checkbox id=__nav_9_3> <div class="md-nav__link md-nav__link--index "> <a href=../../best_practices/design_schema/ >Designing your Database and Schema</a> <label for=__nav_9_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Designing your Database and Schema" data-md-level=2> <label class=md-nav__title for=__nav_9_3> <span class="md-nav__icon md-icon"></span> Designing your Database and Schema </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../best_practices/design_schema/design_principles/ class=md-nav__link> Design Principles of Scalable, Partition-Aware Databases </a> </li> <li class=md-nav__item> <a href=../../best_practices/design_schema/optimizing_query_latency/ class=md-nav__link> Optimizing Query Latency: Partitioning and Replication Strategies </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../best_practices/memory_management/ class=md-nav__link> Memory Management </a> </li> <li class=md-nav__item> <a href=../../best_practices/ha_considerations/ class=md-nav__link> HA Considerations </a> </li> <li class=md-nav__item> <a href=../../best_practices/structured_streaming_best_practices/ class=md-nav__link> Structured Streaming </a> </li> <li class=md-nav__item> <a href=../../best_practices/important_settings/ class=md-nav__link> Important Settings </a> </li> <li class=md-nav__item> <a href=../../best_practices/transactions_best_practices/ class=md-nav__link> SnappyData Distributed Transactions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10 type=checkbox id=__nav_10> <div class="md-nav__link md-nav__link--index "> <a href=../../sde/ >Approximate Query Processing</a> <label for=__nav_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Approximate Query Processing" data-md-level=1> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Approximate Query Processing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../sde/key_concepts/ class=md-nav__link> Key Concepts </a> </li> <li class=md-nav__item> <a href=../../sde/working_with_stratified_samples/ class=md-nav__link> Working with Stratified Samples </a> </li> <li class=md-nav__item> <a href=../../sde/running_queries/ class=md-nav__link> Running Queries </a> </li> <li class=md-nav__item> <a href=../../sde/more_examples/ class=md-nav__link> More Examples </a> </li> <li class=md-nav__item> <a href=../../sde/sample_selection/ class=md-nav__link> Sample Selection </a> </li> <li class=md-nav__item> <a href=../../sde/hac_contracts/ class=md-nav__link> High-level Accuracy Contracts (HAC) </a> </li> <li class=md-nav__item> <a href=../../sde/sketching/ class=md-nav__link> Sketching </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_11 type=checkbox id=__nav_11> <div class="md-nav__link md-nav__link--index "> <a href=../ >Working with Data Sources</a> <label for=__nav_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Working with Data Sources" data-md-level=1> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Working with Data Sources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../data/data_formats/ class=md-nav__link> Supported Data Formats </a> </li> <li class=md-nav__item> <a href=../access_cloud_data/ class=md-nav__link> Accessing Cloud Storages </a> </li> <li class=md-nav__item> <a href=../../data/external_hive_support/ class=md-nav__link> Connecting to External Hive Metastores </a> </li> <li class=md-nav__item> <a href=../cdc_connector/ class=md-nav__link> Using the SnappyData CDC (Change Data Capture) Connector </a> </li> <li class=md-nav__item> <a href=../jdbc_streaming_connector/ class=md-nav__link> Using the SnappyData JDBC Streaming Connector </a> </li> <li class=md-nav__item> <a href=../tdv/ class=md-nav__link> Connecting to TIBCO Data Virtualization (TDV) </a> </li> <li class=md-nav__item> <a href=../deployment_dependency_jar/ class=md-nav__link> Deploying Third Party Connectors </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12 type=checkbox id=__nav_12> <div class="md-nav__link md-nav__link--index "> <a href=../../monitoring/ >Managing and Monitoring</a> <label for=__nav_12> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Managing and Monitoring" data-md-level=1> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Managing and Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../monitoring/monitoring/ class=md-nav__link> SnappyData Monitoring UI </a> </li> <li class=md-nav__item> <a href=../../monitoring/configure_high_availability/ class=md-nav__link> Configuring High Availability for a Partitioned Table </a> </li> <li class=md-nav__item> <a href=../../monitoring/configure_logging/ class=md-nav__link> Configuring Logging </a> </li> <li class=md-nav__item> <a href=../../monitoring/metrics/ class=md-nav__link> Monitoring with Metrics </a> </li> <li class=md-nav__item> <a href=../../monitoring/monitor-manage/ class=md-nav__link> Getting Information from SnappyData System Tables </a> </li> <li class=md-nav__item> <a href=../../monitoring/recoveringdata/ class=md-nav__link> Recovering Data During Cluster Failures </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_13 type=checkbox id=__nav_13> <div class="md-nav__link md-nav__link--index "> <a href=../../security/ >Managing Security</a> <label for=__nav_13> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Managing Security" data-md-level=1> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> Managing Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../security/launching_the_cluster_in_secure_mode/ class=md-nav__link> Launching the Cluster in Secure Mode </a> </li> <li class=md-nav__item> <a href=../../security/specify_encrypt_passwords_conf_client/ class=md-nav__link> Specifying Encrypted Passwords in Conf Files or in Client Connections </a> </li> <li class=md-nav__item> <a href=../../security/authentication_connecting_to_a_secure_cluster/ class=md-nav__link> Authentication - Connecting to a Secure Cluster </a> </li> <li class=md-nav__item> <a href=../../security/authorization/ class=md-nav__link> Authorization </a> </li> <li class=md-nav__item> <a href=../../security/row_level_security/ class=md-nav__link> Implementing Row Level Security </a> </li> <li class=md-nav__item> <a href=../../security/configuring_network_encryption_and_authentication_using_ssl/ class=md-nav__link> Configuring Network Encryption and Authentication using SSL </a> </li> <li class=md-nav__item> <a href=../../configuring_cluster/ssl_setup/ class=md-nav__link> Enabling SSL Encryption in Different Socket Endpoints of SnappyData </a> </li> <li class=md-nav__item> <a href=../../configuring_cluster/securinguiconnection/ class=md-nav__link> Securing SnappyData UI Connection </a> </li> <li class=md-nav__item> <a href=../../security/user_names_for_authentication_authorization_and_membership/ class=md-nav__link> User Names for Authentication, Authorization, and Membership </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_14 type=checkbox id=__nav_14> <div class="md-nav__link md-nav__link--index "> <a href=../../statistics/ >Evaluating Statistics for the System and Applications</a> <label for=__nav_14> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Evaluating Statistics for the System and Applications" data-md-level=1> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Evaluating Statistics for the System and Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../statistics/collecting_system_stats/ class=md-nav__link> Collecting System Statistics </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_14_3 type=checkbox id=__nav_14_3> <div class="md-nav__link md-nav__link--index "> <a href=../../statistics/vsd/ >Using VSD to Analyze Statistics</a> <label for=__nav_14_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Using VSD to Analyze Statistics" data-md-level=2> <label class=md-nav__title for=__nav_14_3> <span class="md-nav__icon md-icon"></span> Using VSD to Analyze Statistics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../statistics/vsd/running_vsd/ class=md-nav__link> Installing and Running VSD </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_transactions/ class=md-nav__link> Transaction Performance </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_tables/ class=md-nav__link> Table Performance </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_statements/ class=md-nav__link> SQL Statement Performance </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_memory/ class=md-nav__link> Memory Usage </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd-connection-stats/ class=md-nav__link> Client Connections </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_cpu/ class=md-nav__link> CPU Usage </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15 type=checkbox id=__nav_15> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/ >Reference Guides</a> <label for=__nav_15> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Reference Guides" data-md-level=1> <label class=md-nav__title for=__nav_15> <span class="md-nav__icon md-icon"></span> Reference Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configuring_cluster/configuring_cluster/ class=md-nav__link> Configuration Reference </a> </li> <li class=md-nav__item> <a href=../../configuring_cluster/property_description/ class=md-nav__link> List of Properties </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4 type=checkbox id=__nav_15_4> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/sql_reference/ >SQL Reference Guide</a> <label for=__nav_15_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="SQL Reference Guide" data-md-level=2> <label class=md-nav__title for=__nav_15_4> <span class="md-nav__icon md-icon"></span> SQL Reference Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/sql_reference/alter-table/ class=md-nav__link> ALTER TABLE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_3 type=checkbox id=__nav_15_4_3> <label class=md-nav__link for=__nav_15_4_3> CREATE Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CREATE Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_3> <span class="md-nav__icon md-icon"></span> CREATE Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/sql_reference/create-diskstore/ class=md-nav__link> CREATE DISKSTORE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-external-table/ class=md-nav__link> CREATE EXTERNAL TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-function/ class=md-nav__link> CREATE FUNCTION </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-index/ class=md-nav__link> CREATE INDEX </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-schema/ class=md-nav__link> CREATE SCHEMA </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-stream-table/ class=md-nav__link> CREATE STREAM TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-sample-table/ class=md-nav__link> CREATE SAMPLE TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-table/ class=md-nav__link> CREATE TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-temporary-table/ class=md-nav__link> CREATE TEMPORARY TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-view/ class=md-nav__link> CREATE VIEW </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/delete/ class=md-nav__link> DELETE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_5 type=checkbox id=__nav_15_4_5> <label class=md-nav__link for=__nav_15_4_5> DROP Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="DROP Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_5> <span class="md-nav__icon md-icon"></span> DROP Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-diskstore/ class=md-nav__link> DROP DISKSTORE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-function/ class=md-nav__link> DROP FUNCTION </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-index/ class=md-nav__link> DROP INDEX </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-table/ class=md-nav__link> DROP TABLE/EXTERNAL TABLE/SAMPLE TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-schema/ class=md-nav__link> DROP SCHEMA </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_6 type=checkbox id=__nav_15_4_6> <label class=md-nav__link for=__nav_15_4_6> DEPLOY Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="DEPLOY Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_6> <span class="md-nav__icon md-icon"></span> DEPLOY Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/sql_reference/deploy_package/ class=md-nav__link> DEPLOY PACKAGE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/deploy_jar/ class=md-nav__link> DEPLOY JAR </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/undeploy/ class=md-nav__link> UNDEPLOY </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/exec-scala/ class=md-nav__link> exec scala </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/explain/ class=md-nav__link> EXPLAIN </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/grant/ class=md-nav__link> GRANT </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/grant-all/ class=md-nav__link> GRANT ALL </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/insert/ class=md-nav__link> INSERT </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/lateral-view/ class=md-nav__link> LATERAL VIEW </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/list/ class=md-nav__link> LIST </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/pivot/ class=md-nav__link> PIVOT </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/put-into/ class=md-nav__link> PUT INTO </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/revoke/ class=md-nav__link> REVOKE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/revoke_all/ class=md-nav__link> REVOKE ALL </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/select/ class=md-nav__link> SELECT </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/set-isolation/ class=md-nav__link> SET ISOLATION </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/set-schema/ class=md-nav__link> SET SCHEMA </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/truncate-table/ class=md-nav__link> TRUNCATE TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/update/ class=md-nav__link> UPDATE </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_5 type=checkbox id=__nav_15_5> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/sql_functions/ >SQL Functions</a> </div> <nav class=md-nav aria-label="SQL Functions" data-md-level=2> <label class=md-nav__title for=__nav_15_5> <span class="md-nav__icon md-icon"></span> SQL Functions </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/sql_general_limitations/ class=md-nav__link> SQL General Limitations </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_7 type=checkbox id=__nav_15_7> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/inbuilt_system_procedures/ >Built-in System Procedures and Built-in Functions</a> <label for=__nav_15_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Built-in System Procedures and Built-in Functions" data-md-level=2> <label class=md-nav__title for=__nav_15_7> <span class="md-nav__icon md-icon"></span> Built-in System Procedures and Built-in Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/dump-stacks/ class=md-nav__link> DUMP_STACKS </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/rebalance-all-buckets/ class=md-nav__link> REBALANCE_ALL_BUCKETS </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/set_critical_heap_percentage/ class=md-nav__link> SET_CRITICAL_HEAP_PERCENTAGE </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/set-trace-flag/ class=md-nav__link> SET_TRACE_FLAG </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/sys_remove_metastore_entry/ class=md-nav__link> REMOVE_METASTORE_ENTRY </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/export_ddl/ class=md-nav__link> EXPORT_DDLS </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/export_data/ class=md-nav__link> EXPORT_DATA </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/dsid/ class=md-nav__link> DSID </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/current_user/ class=md-nav__link> CURRENT_USER </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/current_user_ldap_groups/ class=md-nav__link> CURRENT_USER_LDAP_GROUPS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_8 type=checkbox id=__nav_15_8> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/system_tables/ >System Tables</a> <label for=__nav_15_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="System Tables" data-md-level=2> <label class=md-nav__title for=__nav_15_8> <span class="md-nav__icon md-icon"></span> System Tables </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/system_tables/members/ class=md-nav__link> MEMBERS </a> </li> <li class=md-nav__item> <a href=../../reference/system_tables/sysdiskstores/ class=md-nav__link> SYSDISKSTORES </a> </li> <li class=md-nav__item> <a href=../../reference/system_tables/sysdiskstoreids/ class=md-nav__link> SYSDISKSTOREIDS </a> </li> <li class=md-nav__item> <a href=../../reference/system_tables/systables/ class=md-nav__link> SYSTABLES </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_9 type=checkbox id=__nav_15_9> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/command_line_utilities/ >Command Line Utilities</a> <label for=__nav_15_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Command Line Utilities" data-md-level=2> <label class=md-nav__title for=__nav_15_9> <span class="md-nav__icon md-icon"></span> Command Line Utilities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-backup/ class=md-nav__link> backup and restore </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-compact-all-disk-stores/ class=md-nav__link> compact-all-disk-stores </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-compact-disk-store/ class=md-nav__link> compact-disk-store </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/validate_diskstore/ class=md-nav__link> validate-disk-store </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-list-missing-disk-stores/ class=md-nav__link> list-missing-disk-stores </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-revoke-missing-disk-stores/ class=md-nav__link> revoke-missing-disk-store </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-unblock-disk-stores/ class=md-nav__link> unblock-disk-store </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-run/ class=md-nav__link> run </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/scala-cli/ class=md-nav__link> scala CLI </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-version/ class=md-nav__link> version </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_10 type=checkbox id=__nav_15_10> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/interactive_commands/ >Snappy-SQL Shell Interactive Commands</a> <label for=__nav_15_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Snappy-SQL Shell Interactive Commands" data-md-level=2> <label class=md-nav__title for=__nav_15_10> <span class="md-nav__icon md-icon"></span> Snappy-SQL Shell Interactive Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/interactive_commands/autocommit/ class=md-nav__link> autocommit </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/commit/ class=md-nav__link> commit </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/connect_client/ class=md-nav__link> connect client </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/connect/ class=md-nav__link> connect </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/describe/ class=md-nav__link> describe </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/disconnect/ class=md-nav__link> disconnect </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/elapsedtime/ class=md-nav__link> elapsedtime </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/exit/ class=md-nav__link> exit </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/maximumdisplaywidth/ class=md-nav__link> MaximumDisplayWidth </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/rollback/ class=md-nav__link> rollback </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/run/ class=md-nav__link> run </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/set_connection/ class=md-nav__link> set connection </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/show/ class=md-nav__link> show </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_11 type=checkbox id=__nav_15_11> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/configuration_parameters/ >Configuration Parameters</a> <label for=__nav_15_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Configuration Parameters" data-md-level=2> <label class=md-nav__title for=__nav_15_11> <span class="md-nav__icon md-icon"></span> Configuration Parameters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ack-severe-alert-threshold/ class=md-nav__link> ack-severe-alert-threshold </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ack-wait-threshold/ class=md-nav__link> ack-wait-threshold </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/allow-explicit-commit/ class=md-nav__link> allow-explicit-commit </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/archive-disk-space-limit/ class=md-nav__link> archive-disk-space-limit </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/archive-file-size-limit/ class=md-nav__link> archive-file-size-limit </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/bind-address/ class=md-nav__link> bind-address </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enable-network-partition-detection/ class=md-nav__link> enable-network-partition-detection </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enable-stats/ class=md-nav__link> enable-stats </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enable-time-statistics/ class=md-nav__link> enable-time-statistics </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enable-timestats/ class=md-nav__link> enable-timestats </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enforce-unique-host/ class=md-nav__link> enforce-unique-host </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/init-scripts/ class=md-nav__link> init-scripts </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/load-balance/ class=md-nav__link> load-balance </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/locators/ class=md-nav__link> locators </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/log-file/ class=md-nav__link> log-file </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/log-level/ class=md-nav__link> log-level </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/member-timeout/ class=md-nav__link> member-timeout </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/membership-port-range/ class=md-nav__link> membership-port-range </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/password/ class=md-nav__link> password </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/read-timeout/ class=md-nav__link> read-timeout </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/redundancy-zone/ class=md-nav__link> redundancy-zone </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/secondary-locators/ class=md-nav__link> secondary-locators </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/skip-constraint-checks/ class=md-nav__link> skip-constraint-checks </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/skip-locks/ class=md-nav__link> skip-locks </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/socket-buffer-size/ class=md-nav__link> socket-buffer-size </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/socket-lease-time/ class=md-nav__link> socket-lease-time </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.datadictionary.allow-startup-errors/ class=md-nav__link> gemfirexd.datadictionary.allow-startup-errors </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.default-startup-recovery-delay/ class=md-nav__link> gemfirexd.default-startup-recovery-delay </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappy.history/ class=md-nav__link> snappy.history </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.max-lock-wait/ class=md-nav__link> gemfirexd.max-lock-wait </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.query-cancellation-interval/ class=md-nav__link> gemfirexd.query-cancellation-interval </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.query-timeout/ class=md-nav__link> gemfirexd.query-timeout </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ssl_enabled/ class=md-nav__link> ssl-enabled </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ssl_protocols/ class=md-nav__link> ssl-protocols </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ssl_ciphers/ class=md-nav__link> ssl-ciphers </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ssl_require_auth/ class=md-nav__link> ssl-require-authentication </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/start-locator/ class=md-nav__link> start-locator </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/statistic-archive-file/ class=md-nav__link> statistic-archive-file </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/statistic-sample-rate/ class=md-nav__link> statistic-sample-rate </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/statistic-sampling-enabled/ class=md-nav__link> statistic-sampling-enabled </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/sync-commits/ class=md-nav__link> sync-commits </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/sys-disk-dir/ class=md-nav__link> sys-disk-dir </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/user/ class=md-nav__link> user </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/API_Reference/apireference_guide/ class=md-nav__link> SnappyData Spark extension API Reference Guide </a> </li> <li class=md-nav__item> <a href=/snappydata/apidocs class=md-nav__link> Full API Reference </a> </li> <li class=md-nav__item> <a href=../../reference/API_Reference/odbc_supported_apis/ class=md-nav__link> ODBC Supported API </a> </li> <li class=md-nav__item> <a href=../../reference/misc/supported_datatypes/ class=md-nav__link> Supported Data Types </a> </li> <li class=md-nav__item> <a href=../../reference/misc/passwordless_ssh/ class=md-nav__link> Configuring SSH Login without Password </a> </li> <li class=md-nav__item> <a href=../../setting_up_odbc_driver/ class=md-nav__link> Setting Up SnappyData ODBC Driver </a> </li> <li class=md-nav__item> <a href=../../setting_up_jdbc_driver_qlikview/ class=md-nav__link> Setting Up SnappyData JDBC Client and QlikView </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../experimental/ class=md-nav__link> Experimental Features </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_17 type=checkbox id=__nav_17> <div class="md-nav__link md-nav__link--index "> <a href=../../troubleshooting/ >Troubleshooting Common Problems</a> <label for=__nav_17> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Troubleshooting Common Problems" data-md-level=1> <label class=md-nav__title for=__nav_17> <span class="md-nav__icon md-icon"></span> Troubleshooting Common Problems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/member_startup_problems/ class=md-nav__link> Member Startup Problems </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/recovering_from_a_conflictingpersistentdataexception/ class=md-nav__link> Recovering from a ConflictingPersistentDataException </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/preventing_disk_full_errors/ class=md-nav__link> Preventing Disk Full Errors </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/recovering_from_disk_full_errors/ class=md-nav__link> Recovering from Disk Full Errors </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/catalog_inconsistency/ class=md-nav__link> Resolving Catalog Inconsistency Issues </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/oom/ class=md-nav__link> Troubleshooting Out-of-Memory (OOM) Error </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/collect_debug_artifacts/ class=md-nav__link> Collecting Logs, Stats and Dumps Using the collect-debug-artifacts Script </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/troubleshooting_error_messages/ class=md-nav__link> Troubleshooting Error Messages </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../unsupported/ class=md-nav__link> Unsupported Third-Party Modules </a> </li> <li class=md-nav__item> <a href=../../additional_files/open_source_components/ class=md-nav__link> Community Edition Features </a> </li> <li class=md-nav__item> <a href=../../prev_doc_ver/ class=md-nav__link> Doc Archives </a> </li> <li class=md-nav__item> <a href=../../techsupport/ class=md-nav__link> Contact and Support </a> </li> <li class=md-nav__item> <a href=../../LICENSE/ class=md-nav__link> License </a> </li> <li class=md-nav__item> <a href=../../imp_info/ class=md-nav__link> Important Information </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> <nav class=md-nav aria-label=Overview> <ul class=md-nav__list> <li class=md-nav__item> <a href=#features class=md-nav__link> Features </a> </li> <li class=md-nav__item> <a href=#version-and-compatibility class=md-nav__link> Version and Compatibility </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#quick-start-guide class=md-nav__link> Quick Start Guide </a> <nav class=md-nav aria-label="Quick Start Guide"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setting-snappydata-gemfire-connector class=md-nav__link> Setting SnappyData GemFire Connector </a> </li> <li class=md-nav__item> <a href=#configuring-the-snappydata-cluster-for-gemfire-connector class=md-nav__link> Configuring the SnappyData Cluster for GemFire Connector </a> </li> <li class=md-nav__item> <a href=#accessing-gemfire-as-an-sql-table-to-run-queries class=md-nav__link> Accessing GemFire as an SQL Table to Run Queries </a> </li> <li class=md-nav__item> <a href=#replicating-to-snappydata-table-and-running-join-queries class=md-nav__link> Replicating to SnappyData Table and Running Join Queries </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#initializing-the-gemfire-connector class=md-nav__link> Initializing the GemFire Connector </a> <nav class=md-nav aria-label="Initializing the GemFire Connector"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#enabling-connector-functionality class=md-nav__link> Enabling Connector Functionality </a> </li> <li class=md-nav__item> <a href=#executing-queries-with-gemfire-connector class=md-nav__link> Executing Queries with GemFire Connector </a> <nav class=md-nav aria-label="Executing Queries with GemFire Connector"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#convert-filter-condition class=md-nav__link> Convert Filter Condition </a> </li> <li class=md-nav__item> <a href=#initialize-stateful-context-object class=md-nav__link> Initialize Stateful Context Object </a> </li> <li class=md-nav__item> <a href=#retrieve-data-for-region class=md-nav__link> Retrieve Data for Region </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuring-the-snappydata-cluster-for-gemfire-connector_1 class=md-nav__link> Configuring the SnappyData Cluster for GemFire Connector </a> <nav class=md-nav aria-label="Configuring the SnappyData Cluster for GemFire Connector"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#customizing-the-distributedsystem-of-snappydata-cluster-at-startup class=md-nav__link> Customizing the DistributedSystem of SnappyData Cluster at Startup </a> </li> <li class=md-nav__item> <a href=#specifying-static-locators class=md-nav__link> Specifying Static Locators </a> </li> <li class=md-nav__item> <a href=#dynamically-discovering-grid-for-a-region class=md-nav__link> Dynamically Discovering Grid for a Region </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#accessing-data-from-gemfire class=md-nav__link> Accessing Data from GemFire </a> <nav class=md-nav aria-label="Accessing Data from GemFire"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#exposing-gemfire-pdx-regions-as-external-tables class=md-nav__link> Exposing GemFire PDX Regions as External Tables </a> </li> <li class=md-nav__item> <a href=#exposing-regions-containing-pojos-as-external-tables class=md-nav__link> Exposing Regions Containing POJOs as External Tables </a> </li> <li class=md-nav__item> <a href=#expose-gemfire-region-using-dataframe-based-external-tables class=md-nav__link> Expose GemFire Region Using Dataframe Based External Tables </a> </li> <li class=md-nav__item> <a href=#expose-gemfire-regions-as-rdds class=md-nav__link> Expose GemFire Regions as RDDs </a> </li> <li class=md-nav__item> <a href=#controlling-the-schema-of-the-external-table class=md-nav__link> Controlling the Schema of the External Table </a> </li> <li class=md-nav__item> <a href=#other-optional-configuration-parameters class=md-nav__link> Other Optional Configuration Parameters </a> </li> <li class=md-nav__item> <a href=#controlling-task-concurrency-in-snappydata-when-accessing-gemfire class=md-nav__link> Controlling Task Concurrency in SnappyData When Accessing GemFire </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#saving-data-to-gemfire-region class=md-nav__link> Saving Data to GemFire Region </a> <nav class=md-nav aria-label="Saving Data to GemFire Region"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#saving-pair-rdd-to-gemfire-region class=md-nav__link> Saving Pair RDD to GemFire Region </a> </li> <li class=md-nav__item> <a href=#saving-non-pair-rdd-to-gemfire class=md-nav__link> Saving Non-Pair RDD to GemFire </a> </li> <li class=md-nav__item> <a href=#saving-a-dataframe-to-gemfire class=md-nav__link> Saving a DataFrame to GemFire </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-oql-queries-directly-on-gemfire-from-snappydata class=md-nav__link> Running OQL queries Directly on GemFire from SnappyData </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/TIBCOSoftware/snappydata/edit/master/docs/connectors/gemfire_connector.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=snappydata-gemfire-connector>SnappyData GemFire Connector<a class=headerlink href=#snappydata-gemfire-connector title="Permanent link">&para;</a></h1> <p><ent>This feature is not available in SnappyData Community edition. </ent></p> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>The SnappyData GemFire Connector allows SnappyData/Spark programs to read from data regions as well as write into data regions within GemFire clusters. You can connect the applications to one or more GemFire clusters, expose GemFire regions as SnappyData tables/Spark DataFrames, run complex SQL queries on data stored in GemFire and save SnappyData tables onto GemFire regions. The connector is designed to execute in a highly parallelized manner targeting GemFire partitioned datasets (buckets) for the highest possible performance.</p> <p>By exposing GemFire regions as Spark DataFrames, applications can benefit from the analytic features in SnappyData such as, flexible data transformations, analytics and moving data from/into almost all modern data stores.</p> <h3 id=features>Features<a class=headerlink href=#features title="Permanent link">&para;</a></h3> <ul> <li> <p>Expose GemFire regions as SnappyData external tables</p> </li> <li> <p>Run SQL queries on GemFire regions from SnappyData</p> </li> <li> <p>Support joins on GemFire regions from SnappyData</p> </li> <li> <p>Save SnappyData tables/DataFrames to GemFire</p> </li> <li> <p>Support for POJOs as well as native support for GemFire PDX</p> </li> <li> <p>Push query predicates and projection down to GemFire and use OQL for query execution</p> </li> <li> <p>Query federation across multiple GemFire clusters</p> </li> </ul> <h3 id=version-and-compatibility>Version and Compatibility<a class=headerlink href=#version-and-compatibility title="Permanent link">&para;</a></h3> <p>SnappyData GemFire Connector supports Spark 2.1 and has been tested with GemFire 8.2 or later.</p> <h2 id=quick-start-guide>Quick Start Guide<a class=headerlink href=#quick-start-guide title="Permanent link">&para;</a></h2> <p>This Quick Start guide explains, how to start a GemFire cluster, load data onto a partitioned region, access this region as an SQL table, replicate to a SnappyData column table, and then run queries on both GemFire and SnappyData tables.</p> <ul> <li><a href=#setsnappydatagemfireconnector>Set SnappyData GemFire Connector</a></li> <li><a href=#configuresnappydataclustergemfire>Configure the SnappyData Cluster for GemFire Connector</a></li> <li><a href="#accessgemfireassql>">Access GemFire as an SQL Table to Run Queries</a></li> <li><a href=#replicatesnappydatatable>Replicate to SnappyData Table and Running Join Queries</a></li> </ul> <p><a id=setsnappydatagemfireconnector> </a></p> <h3 id=setting-snappydata-gemfire-connector>Setting SnappyData GemFire Connector<a class=headerlink href=#setting-snappydata-gemfire-connector title="Permanent link">&para;</a></h3> <p>The following prerequisites are required for setting up GemFire connector:</p> <p><strong>Prerequisites</strong></p> <ul> <li>Basic knowledge of GemFire</li> <li><a href=https://network.pivotal.io/products/pivotal-gemfire#/releases/4375>GemFire version 8.2 or later</a> installed and running.</li> </ul> <p>The following section provides instructions to get a two-node GemFire cluster running and to deploy the functions required by SnappyData to access GemFire.</p> <p><strong>To start GemFire cluster and deploy SnappyData Connector functions</strong></p> <ol> <li>Start the GemFire shell.</li> </ol> <p><div class=highlight><pre><span></span><code>        $ &lt;GemFire_home&gt;/bin/gfsh
        gfsh&gt; start locator --name=locator1 --port=55221
</code></pre></div> You need to use a non-default port, as SnappyData uses the same defaults as GemFire.</p> <ol> <li>Start two data servers.</li> </ol> <div class=highlight><pre><span></span><code>        gfsh&gt;start server --name=server1
        --locators=localhost[55221]
        gfsh&gt;start server --name=server2
        --locators=localhost[55221] --server-port=40405
</code></pre></div> <ol> <li> <p>Create Region.</p> <div class=highlight><pre><span></span><code>gfsh&gt;create region --name=GemRegion --type=PARTITION --key-constraint=java.lang.String --value-constraint=java.lang.String
</code></pre></div> </li> <li> <p>Add at least 10 entries in this region using the PUT command.</p> </li> </ol> <div class=highlight><pre><span></span><code>        gfsh&gt; put --key=1 --value=&#39;James&#39;      --region=/GemRegion
        gfsh&gt; put --key=2 --value=&#39;Jim&#39;        --region=/GemRegion
        gfsh&gt; put --key=3 --value=&#39;James Bond&#39; --region=/GemRegion
        gfsh&gt; put --key=4 --value=&#39;007&#39;        --region=/GemRegion
</code></pre></div> <ol> <li>Deploy these functions to the GemFire cluster.</li> </ol> <div class=highlight><pre><span></span><code>        gfsh&gt;deploy --jar=&lt;SnappyData-home&gt;/connectors/gfeFunctions-0.9.jar
</code></pre></div> <div class=highlight><pre><span></span><code>A two node GemFire cluster is up and running with a region **GemRegion** and the added entries.
</code></pre></div> <p><a id=configuresnappydataclustergemfire> </a></p> <h3 id=configuring-the-snappydata-cluster-for-gemfire-connector>Configuring the SnappyData Cluster for GemFire Connector<a class=headerlink href=#configuring-the-snappydata-cluster-for-gemfire-connector title="Permanent link">&para;</a></h3> <p>The SnappyData cluster must be configured with details of the GemFire cluster with which the connector interfaces.The configuration details should be provided to both the SnappyData lead and server nodes.</p> <ol> <li> <p>Modify the server and lead configuration files that are located at:</p> <ul> <li><strong>&lt;<em>SnappyData-home</em>&gt;/conf/leads</strong></li> <li><strong>&lt;<em>SnappyData-home</em>&gt;/conf/servers</strong></li> </ul> </li> <li> <p>Add the connector jar (connector-0.9.jar) to the classpath and configure the remote GemFire cluster (locators, the servers and lead files) as follows:</p> <div class=highlight><pre><span></span><code>localhost -locators=localhost:10334 -client-bind-address=localhost
-classpath= &lt;SnappyData-home&gt;/connectors/connector-0.9.jar
-spark.gemfire-grid.\&lt;UniqueID\&gt;=localhost[55221]
</code></pre></div> <p>Here, the UniqueID is a name assigned for the Grid. </p> <p>For example, SnappyData GemFire connector can connect to multiple Grids for federated data access.</p> <div class=highlight><pre><span></span><code>-spark.gemfire-grid.gridOne=localhost[55221] -spark.gemfire-grid.gridTwo=localhost[65221]
</code></pre></div> </li> <li> <p><a href=../../howto/start_snappy_cluster/ >Start the SnappyData cluster</a> using the following command:</p> <div class=highlight><pre><span></span><code>$ &lt;SnappyData-home&gt;/sbin/snappy-start-all.sh
</code></pre></div> </li> </ol> <p><a id=accessgemfireassql> </a></p> <h3 id=accessing-gemfire-as-an-sql-table-to-run-queries>Accessing GemFire as an SQL Table to Run Queries<a class=headerlink href=#accessing-gemfire-as-an-sql-table-to-run-queries title="Permanent link">&para;</a></h3> <p>The following section provides instructions to access GemFire as an SQL table to run queries.</p> <p><strong>To access GemFire as an SQL table.</strong></p> <ol> <li>Start the Snappy Shell.</li> </ol> <div class=highlight><pre><span></span><code>        $&lt;SnappyData-home&gt;/bin/snappy
        snappy&gt; connect client &#39;localhost:1527&#39;;
</code></pre></div> <ol> <li> <p>Register an external table in SnappyData pointing to the GemFire region.</p> <div class=highlight><pre><span></span><code>snappy&gt; create external table GemTable using gemfire options(regionPath &#39;GemRegion&#39;, keyClass &#39;java.lang.String&#39;, valueClass &#39;java.lang.String&#39;) ;
</code></pre></div> <p>The schema is automatically inferred from the object data in GemFire:</p> </li> </ol> <div class=highlight><pre><span></span><code>        <span class=n>snappy</span><span class=o>&gt;</span> <span class=k>describe</span> <span class=n>gemTable</span><span class=p>;</span>
        <span class=n>snappy</span><span class=o>&gt;</span> <span class=k>select</span> <span class=o>*</span> <span class=k>from</span> <span class=n>gemTable</span><span class=p>;</span>
</code></pre></div> <p><a id=replicatesnappydatatable> </a></p> <h3 id=replicating-to-snappydata-table-and-running-join-queries>Replicating to SnappyData Table and Running Join Queries<a class=headerlink href=#replicating-to-snappydata-table-and-running-join-queries title="Permanent link">&para;</a></h3> <p>You can replicate the data in GemFire SQL table into a SnappyData table and then run join queries.</p> <ol> <li>Create a SnappyData table based on the external table that was created using GemFire.</li> </ol> <div class=highlight><pre><span></span><code>        <span class=n>snappy</span><span class=o>&gt;</span> <span class=k>create</span> <span class=k>table</span> <span class=n>SnappyDataTable</span> <span class=k>using</span> <span class=k>column</span> <span class=k>as</span> <span class=p>(</span><span class=k>select</span> <span class=o>*</span> <span class=k>from</span> <span class=n>gemTable</span><span class=p>);</span>
        <span class=n>snappy</span><span class=o>&gt;</span> <span class=k>select</span> <span class=o>*</span> <span class=k>from</span> <span class=n>SnappyDataTable</span><span class=p>;</span>
</code></pre></div> <ol> <li>Run join queries.</li> </ol> <div class=highlight><pre><span></span><code>        <span class=n>snappy</span><span class=o>&gt;</span> <span class=k>select</span> <span class=n>t1</span><span class=p>.</span><span class=n>key_Column</span><span class=p>,</span> <span class=n>t1</span><span class=p>.</span><span class=n>value_Column</span><span class=p>,</span> <span class=n>t2</span><span class=p>.</span><span class=n>value_Column</span> <span class=k>from</span> <span class=n>GemTable</span> <span class=n>t1</span><span class=p>,</span> <span class=n>SnappyDataTable</span> <span class=n>t2</span> <span class=k>where</span> <span class=n>t1</span><span class=p>.</span><span class=n>key_Column</span> <span class=o>=</span> <span class=n>t2</span><span class=p>.</span><span class=n>key_Column</span><span class=p>;</span>
</code></pre></div> <p><a id=initializegemfireconnector> </a></p> <h2 id=initializing-the-gemfire-connector>Initializing the GemFire Connector<a class=headerlink href=#initializing-the-gemfire-connector title="Permanent link">&para;</a></h2> <p>SnappyData uses a set of functions that are deployed in the GemFire cluster, to interact with the cluster, for accessing metadata, runnning queries, and accessing data in GemFire. You must deploy the SnappyData GemFire Connector's jar that is <strong>gemfire-function jar</strong> into the GemFire cluster to enable the connector functionality.</p> <h3 id=enabling-connector-functionality>Enabling Connector Functionality<a class=headerlink href=#enabling-connector-functionality title="Permanent link">&para;</a></h3> <p>To enable the connector functionality, you must deploy the SnappyData GemFire Connector's <strong>gemfire-function</strong> jar.</p> <p>Execute the following to deploy the <strong>gemfire-function</strong> jar:</p> <div class=highlight><pre><span></span><code>Deploy SnappyData GemFire Connector&#39;s gemfire-function jar (`gfeFunct
ions-0.9.3.jar`):
gfsh&gt;deploy --jar=&lt;SnappyData Product Home&gt;//connectors/gfeFunctions-0.9.3.jar
</code></pre></div> <h3 id=executing-queries-with-gemfire-connector>Executing Queries with GemFire Connector<a class=headerlink href=#executing-queries-with-gemfire-connector title="Permanent link">&para;</a></h3> <p>During the query execution, snappydata passes the names of attributes and filter conditions to the GemFire cluster, to prune the data that is fetched from GemFire.</p> <p>For example, if you query for only attribute A from a GemFire Region value and that too of only those Region values which meet the filter condition, then instead of fetching the complete value only the pruned data needs to be sent to SnappyData.</p> <p>For this purpose by default SnappyData relies on OQL of GemFire to prune the data. However, you can write custom <strong>QueryExecutor</strong> to retrieve the pruned data from GemFire. This is done by implementing <strong>QueryExecutor</strong> interface. The <strong>QueryExecutor</strong> implementation should be packaged in a jar which is loaded by SnappyData using <strong>ServiceLoader</strong> API of java. As a part of the contract, the jar should include the following file with the path described:<strong>META-INF/services/io.snappydata.spark.gemfire.connector.query.QueryExecutor</strong>This file should contain the fully qualified class name of the custom <strong>QueryExecutor</strong>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The name of the file should be <strong>io.snappydata.spark.gemfire.connector.query.QueryExecutor</strong>.</p> </div> <p>This jar needs to be deployed on the GemFire cluster using <strong>gfsh</strong>.</p> <div class="admonition attention"> <p class=admonition-title>Attention</p> <p>It is important that as part of deployment, <strong>gfeFunctions.jar</strong> must be deployed first and then the jars containing custom <strong>QueryExecutors</strong>.</p> </div> <p>Following is an example of the implementation of <strong>QueryExecutor</strong> interface:</p> <div class=highlight><pre><span></span><code><span class=kn>package</span> <span class=nn>io.snappydata.spark.gemfire.connector.query</span><span class=p>;</span>

<span class=kn>import</span> <span class=nn>java.util.Iterator</span><span class=p>;</span>
<span class=kn>import</span> <span class=nn>com.gemstone.gemfire.cache.Region</span><span class=p>;</span>
<span class=kn>import</span> <span class=nn>com.gemstone.gemfire.cache.execute.RegionFunctionContext</span><span class=p>;</span>
<span class=kn>import</span> <span class=nn>com.gemstone.gemfire.pdx.PdxInstance</span><span class=p>;</span>
<span class=kn>import</span> <span class=nn>io.snappydata.spark.gemfire.connector.internal.gemfirefunctions.shared.filter.Filter</span><span class=p>;</span>

  <span class=kd>public</span> <span class=kd>interface</span> <span class=nc>QueryExecutor</span><span class=o>&lt;</span><span class=n>T</span><span class=p>,</span> <span class=n>S</span><span class=o>&gt;</span> <span class=p>{</span>
    <span class=cm>/**</span>
<span class=cm>     *</span>
<span class=cm>     * @param region</span>
<span class=cm>     * @param requiredAttributes</span>
<span class=cm>     * @param filter</span>
<span class=cm>     * @param isPdxData</span>
<span class=cm>     * @return A stateful object which will be passed to the querying apis on every invocation.</span>
<span class=cm>     * The idea is that if the user can prepare an object which could be used for every bucket, it will be</span>
<span class=cm>     * efficient. So if a compiled Query object is prepared at the start of evaluation, then every bucket can</span>
<span class=cm>     * use this Query object instead of creating a compiled query object from string every time.</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=n>S</span> <span class=nf>initStatefulObject</span><span class=p>(</span><span class=n>Region</span> <span class=n>region</span><span class=p>,</span> <span class=n>String</span><span class=o>[]</span> <span class=n>requiredAttributes</span><span class=p>,</span>
        <span class=n>T</span> <span class=n>filter</span><span class=p>,</span> <span class=kt>boolean</span> <span class=n>isPdxData</span><span class=p>);</span>

    <span class=cm>/**</span>
<span class=cm>     *</span>
<span class=cm>     * @return any String which uniquely identifies the Executor</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getUniqueID</span><span class=p>();</span>

    <span class=cm>/**</span>
<span class=cm>     * This method will be invoked if the query needs a single field projection</span>
<span class=cm>     * User can return null in which case default implementation using OQL will be used</span>
<span class=cm>     * @param region Region on which query is to be performed</span>
<span class=cm>     * @param requiredAttribute projection which need to be returned</span>
<span class=cm>     * @param filter The desired format of the Filter condition to filter out relevant rows</span>
<span class=cm>     * @param forBucket Bucket ID on which the query is to be performed. will be -1 for replicated region</span>
<span class=cm>     * @param context RegionFunctionContext which can provide metadata to get handle of BucketRegion</span>
<span class=cm>     * @param  statefulObject which can be used across all buckets eg a compiled Query object.</span>
<span class=cm>     * @return An Iterator over the projected columns</span>
<span class=cm>     */</span>
    <span class=kd>public</span> <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>Object</span><span class=o>&gt;</span> <span class=nf>executeSingleProjectionQuery</span><span class=p>(</span><span class=n>Region</span> <span class=n>region</span><span class=p>,</span> <span class=n>String</span> <span class=n>requiredAttribute</span><span class=p>,</span> <span class=n>T</span> <span class=n>filter</span><span class=p>,</span>
        <span class=kt>int</span> <span class=n>forBucket</span><span class=p>,</span> <span class=n>RegionFunctionContext</span> <span class=n>context</span><span class=p>,</span> <span class=n>S</span> <span class=n>statefulObject</span><span class=p>);</span>

  <span class=cm>/**</span>
<span class=cm>   * This method will be invoked if the query needs multiple fields projection</span>
<span class=cm>   * User can return null in which case default implementation using OQL will be used</span>
<span class=cm>   * @param region Region on which query is to be performed</span>
<span class=cm>   * @param requiredAttributes A String array containing field names which need to be projected</span>
<span class=cm>   * @param filter The desired format of the Filter condition to filter out relevant rows</span>
<span class=cm>   * @param forBucket Bucket ID on which the query is to be performed. will be -1 for replicated region</span>
<span class=cm>   * @param context RegionFunctionContext which can provide metadata to get handle of BucketRegion</span>
<span class=cm>   * @param holder An instance of MultiProjectionHolder which should be used to store the projections during</span>
<span class=cm>   *               iteration. It is a wrapper over object[] intended to avoid creation of Object[] during ietaration</span>
<span class=cm>   * @param  statefulObject which can be used across all buckets eg a compiled Query object.</span>
<span class=cm>   * @return An Iterator of MultiProjectionHolder which contains the projected columns</span>
<span class=cm>   */</span>
  <span class=kd>public</span> <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>MultiProjectionHolder</span><span class=o>&gt;</span> <span class=nf>executeMultiProjectionQuery</span><span class=p>(</span><span class=n>Region</span> <span class=n>region</span><span class=p>,</span> <span class=n>String</span><span class=o>[]</span> <span class=n>requiredAttributes</span><span class=p>,</span>
      <span class=n>T</span> <span class=n>filter</span><span class=p>,</span> <span class=kt>int</span> <span class=n>forBucket</span><span class=p>,</span> <span class=n>RegionFunctionContext</span> <span class=n>context</span><span class=p>,</span> <span class=n>MultiProjectionHolder</span> <span class=n>holder</span><span class=p>,</span> <span class=n>S</span> <span class=n>statefulObject</span><span class=p>);</span>

  <span class=cm>/**</span>
<span class=cm>   * This method is invoked if the region contains PdxInstances. User needs to return the filtered PdxInstances</span>
<span class=cm>   * without applying projection, which will be applied internally . This will ensure that projected columns</span>
<span class=cm>   * do not get unnecessarily deserialized</span>
<span class=cm>   * User can return null in which case default implementation using OQL will be used</span>
<span class=cm>   * @param region Region on which query is to be performed</span>
<span class=cm>   * @param filter The desired format of the Filter condition to filter out relevant rows</span>
<span class=cm>   * @param forBucket Bucket ID on which the query is to be performed. will be -1 for replicated region</span>
<span class=cm>   * @param context RegionFunctionContext which can provide metadata to get handle of BucketRegion</span>
<span class=cm>   * @param  statefulObject which can be used across all buckets eg a compiled Query object.</span>
<span class=cm>   * @return Iterator over PdxInstance</span>
<span class=cm>   */</span>
  <span class=kd>public</span> <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>PdxInstance</span><span class=o>&gt;</span> <span class=nf>filteredPdxData</span><span class=p>(</span><span class=n>Region</span> <span class=n>region</span><span class=p>,</span>  <span class=n>T</span> <span class=n>filter</span><span class=p>,</span>
      <span class=kt>int</span> <span class=n>forBucket</span><span class=p>,</span> <span class=n>RegionFunctionContext</span> <span class=n>context</span><span class=p>,</span> <span class=n>S</span> <span class=n>statefulObject</span><span class=p>);</span>

  <span class=cm>/**</span>
<span class=cm>   *</span>
<span class=cm>   * @param filters Filter objects which need to be transformed by the user in the way it can be used in querying</span>
<span class=cm>   * @return transformed filter</span>
<span class=cm>   */</span>
  <span class=kd>public</span> <span class=n>T</span> <span class=nf>transformFilter</span><span class=p>(</span><span class=n>Filter</span><span class=o>[]</span> <span class=n>filters</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> <p>The working of <strong>QueryExecutor</strong> can be broken as follows:</p> <ul> <li><a href=#convertfilter>Converting the filter condition</a> into a desired form.</li> <li><a href=#initializestatefulcontext>Initializing a stateful context object</a> which avoids recreating a reusable unchanging object during data fetch on the individual buckets.</li> <li><a href=#retrievedataregion>Retrieval of data for Region</a> as a whole, in case of replicated region, or for individual buckets, in case of partitioned region.</li> </ul> <p><a id=convertfilter> </a></p> <h4 id=convert-filter-condition>Convert Filter Condition<a class=headerlink href=#convert-filter-condition title="Permanent link">&para;</a></h4> <p>During execution, SnappyData checks with the available <strong>QueryExecutor</strong> by invoking the <strong>transformFilter</strong> method, if the filter is present. In case the <strong>QueryExecutor</strong> is capable of handling it, a transformed filter is returned which can be used for data retrieval or else an <strong>UnsupportedOperationException</strong> is shown.</p> <p><a id=initializestatefulcontext> </a></p> <h4 id=initialize-stateful-context-object>Initialize Stateful Context Object<a class=headerlink href=#initialize-stateful-context-object title="Permanent link">&para;</a></h4> <p>If a transformed value is returned, then <strong>initStatefulObject</strong> method is invoked. You can utilize this to instantiate a reusable object such as, a parsed QueryPlan or a compiled structure or can simply return null. At this stage too, if the query cannot be handled, <strong>UnsupportedOperationException</strong> is shown.</p> <p><a id=retrievedataregion> </a></p> <h4 id=retrieve-data-for-region>Retrieve Data for Region<a class=headerlink href=#retrieve-data-for-region title="Permanent link">&para;</a></h4> <p>Next step is invocation of the appropriate method to get Iterator on the pruned data. This method can get invoked multiple times based on the number of partitioned region buckets that is operated upon.</p> <ul> <li> <p>If the region contains <strong>pdx</strong> instances, then the method <strong>filteredPdxData</strong> is invoked.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This method requires the user to return the iterator on valid Pdx instances. The relevant attributes are extracted by the framework.</p> </div> </li> <li> <p>If the region contains POJOs, then depending upon single or multiple attributes, one of the following method is invoked:</p> <ul> <li><strong>executeSingleProjectionQuery</strong></li> <li><strong>executeMultiProjectionQuery</strong>*</li> </ul> </li> </ul> <p><a id=configuresnappyforgemfire> </a></p> <h3 id=configuring-the-snappydata-cluster-for-gemfire-connector_1>Configuring the SnappyData Cluster for GemFire Connector<a class=headerlink href=#configuring-the-snappydata-cluster-for-gemfire-connector_1 title="Permanent link">&para;</a></h3> <p>The following configurations can be set in SnappyData Cluster for GemFire Connector:</p> <ul> <li><a href=#customize_distributed_system>Customize DistributedSystem in the cluster with additional attributes</a></li> <li><a href=#specifystatlocator>Specify Static Locators</a></li> <li><a href=#dynamicdiscoverygridregion>Dynamic Discovery of Grid for a Region</a></li> </ul> <p><a id=customize_distributed_system> </a></p> <h4 id=customizing-the-distributedsystem-of-snappydata-cluster-at-startup>Customizing the <strong>DistributedSystem</strong> of SnappyData Cluster at Startup<a class=headerlink href=#customizing-the-distributedsystem-of-snappydata-cluster-at-startup title="Permanent link">&para;</a></h4> <p>You can configure the <strong>DistributedSystem</strong> with additional attributes by implementing the following interface:</p> <div class=highlight><pre><span></span><code><span class=kn>package</span> <span class=nn>io.snappydata.spark.gemfire.connector.dsinit</span><span class=p>;</span>
<span class=cm>/**</span>
<span class=cm> * @param @link{DSConfig} instance which can be used to configure the DistributedSystem properties at the</span>
<span class=cm> * time of snappydata startup</span>
<span class=cm> */</span>
<span class=kd>public</span> <span class=kd>interface</span> <span class=nc>DistributedSystemInitializer</span> <span class=p>{</span>

  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>configure</span><span class=p>(</span><span class=n>DSConfig</span> <span class=n>config</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> <p>Any required properties of the <strong>DistributedSystem</strong> can be configured via the <strong>DSConfig</strong> instance passed. The <strong>DistributedSystemInitializer</strong> implementation needs to be packaged in a jar which is loaded by SnappyData using ServiceLoader API of java. The jar should include the following file along with the path as described:</p> <p><strong>META-INF/services/io.snappydata.spark.gemfire.connector.dsinit.DistributedSystemInitializer</strong></p> <p>This file should contain the fully qualified class name of the custom DistributedSystemInitializer</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The name of the file should be <strong>io.snappydata.spark.gemfire.connector.dsinit.DistributedSystemInitializer</strong></p> </div> <p>The connector interacts with the GemFire cluster. Therefore, you should configure the SnappyData cluster with the details of GemFire cluster. The configuration details must be provided in both the SnappyData lead and server nodes at the following locations: - <strong>SnappyData-Home directory/conf/leads</strong> - <strong>SnappyData-Home directory/conf/servers </strong></p> <p>Modify the servers and leads configuration file to add the connector jar (<strong>connector-1.0.0.jar</strong>) and the <strong>person.jar</strong> in the classpath as well as to configure the remote GemFire cluster locator.</p> <p><a id=specifystatlocator> </a></p> <h4 id=specifying-static-locators>Specifying Static Locators<a class=headerlink href=#specifying-static-locators title="Permanent link">&para;</a></h4> <p>To statically specify the running locators of the GemFire cluster, set the property as follows, where <strong>uniqueIDForGrid</strong> is any unique identifier key:</p> <div class=highlight><pre><span></span><code>    -snappydata.connector.gemfire-grid.\&lt;uniqueIDForGrid\&gt;=localhost[55221]
</code></pre></div> <p>Following is a sample from the servers and leads file:</p> <div class=highlight><pre><span></span><code>localhost -locators=localhost:10334 -client-bind-address=localhost -client-port=1528 -heap-size=20g
-classpath=&lt;SnappyData-Product-Home&gt;//connectors/connector_2.11-0.9.3.jar:&lt;path-to-jar&gt;/persons.jar
-snappydata.connector.gemfire-grid.&lt;uniqueIDForGrid&gt;=localhost[55221]
</code></pre></div> <p><a id=dynamicdiscoverygridregion> </a></p> <h4 id=dynamically-discovering-grid-for-a-region>Dynamically Discovering Grid for a Region<a class=headerlink href=#dynamically-discovering-grid-for-a-region title="Permanent link">&para;</a></h4> <p>Instead of specifying the locators via the property, it is possible to provide custom logic for discovery of the grid for the region by implementing <strong>GridResolver</strong> trait as follows:</p> <p><div class=highlight><pre><span></span><code><span class=k>trait</span> <span class=nc>GridResolver</span> <span class=p>{</span>

  <span class=cm>/**</span>
<span class=cm>    * Optional method to identify the locators and delegate to SnappyData for creating connection</span>
<span class=cm>    * pool using [[GridHelper]]. Invoked once in the lifecycle.</span>
<span class=cm>    * @param gfeGridProps</span>
<span class=cm>    * @param gridHelper</span>
<span class=cm>    */</span>
  <span class=k>def</span> <span class=nf>initConnections</span><span class=p>(</span><span class=n>gfeGridProps</span><span class=p>:</span> <span class=n>java</span><span class=p>.</span><span class=n>util</span><span class=p>.</span><span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>],</span> <span class=n>gridHelper</span><span class=p>:</span> <span class=nc>GridHelper</span><span class=p>):</span> <span class=nc>Unit</span>

  <span class=cm>/**</span>
<span class=cm>    * Resolve the grid for the region or return null if unable to do so</span>
<span class=cm>    * @param regionName</span>
<span class=cm>    * @param gfeGridProps</span>
<span class=cm>    * @param gridHelper</span>
<span class=cm>    * @param userOptions</span>
<span class=cm>    * @return the grid name ( the name of the connection pool) to use</span>
<span class=cm>    */</span>
  <span class=k>def</span> <span class=nf>getGridForRegion</span><span class=p>(</span><span class=n>regionName</span><span class=p>:</span> <span class=nc>String</span><span class=p>,</span> <span class=n>gfeGridProps</span><span class=p>:</span> <span class=n>java</span><span class=p>.</span><span class=n>util</span><span class=p>.</span><span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>],</span>
      <span class=n>gridHelper</span><span class=p>:</span> <span class=nc>GridHelper</span><span class=p>,</span> <span class=n>userOptions</span><span class=p>:</span> <span class=n>java</span><span class=p>.</span><span class=n>util</span><span class=p>.</span><span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>]):</span> <span class=nc>String</span>

  <span class=cm>/**</span>
<span class=cm>    *</span>
<span class=cm>    * @return a String identifying the resolver uniquely</span>
<span class=cm>    */</span>
  <span class=k>def</span> <span class=nf>getUniqueID</span><span class=p>:</span> <span class=nc>String</span>
<span class=p>}</span>
</code></pre></div> SnappyData attempts to resolve the grid for the region using existing <strong>ConnectionPools</strong>. If it is not successful, it checks with the available resolvers by invoking <strong>getGridForRegion</strong>. The resolver returns null, if it cannot resolve the grid.</p> <p>The <strong>GridResolver</strong> implementation should be packaged in a jar which is loaded by SnappyData using <strong>ServiceLoader</strong> API of java. The jar should also include the following file along with the described path:<strong>META-INF/services/io.snappydata.spark.gemfire.connector.grids.GridResolver</strong> This file should contain the fully qualified class name of the custom <strong>GridResolver</strong>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The name of the file should be <strong>io.snappydata.spark.gemfire.connector.grids.GridResolver</strong>.</p> </div> <p>To initialize the GemFire connector and enable its functions in SnappyData, you must include the following import statement before creating the external table:</p> <p><div class=highlight><pre><span></span><code><span class=k>import</span> <span class=nn>io</span><span class=p>.</span><span class=nn>snappydata</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>gemfire</span><span class=p>.</span><span class=n>connector</span>
</code></pre></div> <a id=accessingdatafromgemfire> </a></p> <h2 id=accessing-data-from-gemfire>Accessing Data from GemFire<a class=headerlink href=#accessing-data-from-gemfire title="Permanent link">&para;</a></h2> <p>In SnappyData applications, you can create external tables that represent GemFire regions and run SQL queries against GemFire. For accesing data from GemFire, you must first expose the GemFire regions:</p> <p>You can use any the following options to expose GemFire regions:</p> <ul> <li><a href=#gemfirepdx>Expose GemFire PDX Regions as External Tables</a></li> <li><a href=#gemfirepojo>Expose Regions Containing POJOs as External Tables</a></li> <li><a href=#gemfiredataframe>Expose GemFire Region Using Dataframe based External Tables</a></li> <li><a href=#gemfirerdds>Expose GemFire Regions as RDDs</a></li> </ul> <p><a id=gemfirepdx> </a></p> <h3 id=exposing-gemfire-pdx-regions-as-external-tables>Exposing GemFire PDX Regions as External Tables<a class=headerlink href=#exposing-gemfire-pdx-regions-as-external-tables title="Permanent link">&para;</a></h3> <p>You can create an external table that represents a GemFire region which stores PDX instances. The SnappyData schema for this external table is derived from the PDXType. Here, the GemFire region is already populated with data and SnappyData infers the schema based on the inspection of the PDX types. The following syntax creates an external table that represents a GemFire region which stores PDX instances.</p> <div class=highlight><pre><span></span><code><span class=kd>val</span> <span class=n>externalBsegTable</span> <span class=o>=</span> <span class=n>snc</span><span class=p>.</span><span class=n>createExternalTable</span><span class=p>(</span><span class=s>&quot;bsegInGem&quot;</span><span class=p>,</span>
     <span class=s>&quot;gemfire&quot;</span><span class=p>,</span>
     <span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>](</span><span class=s>&quot;region.path&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;bseg1&quot;</span><span class=p>,</span> <span class=s>&quot;data.as.pdx&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;true&quot;</span><span class=p>))</span>
</code></pre></div> <p>The SnappyData external table schema for the GemFire region can optionally include the GemFire region key as a column in the table. To enable this, the <strong>key.class </strong> attribute should be set when you create the table as shown in the following example:</p> <div class=highlight><pre><span></span><code><span class=kd>val</span> <span class=n>externalBsegTable</span> <span class=o>=</span> <span class=n>snc</span><span class=p>.</span><span class=n>createExternalTable</span><span class=p>(</span><span class=s>&quot;bsegInGem&quot;</span><span class=p>,</span>
   <span class=s>&quot;gemfire&quot;</span><span class=p>,</span>
   <span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>](</span><span class=s>&quot;region.path&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;bseg1&quot;</span><span class=p>,</span> <span class=s>&quot;data.as.pdx&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;true&quot;</span><span class=p>,</span>
   <span class=s>&quot;key.class&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;java.lang.Long&quot;</span>
     <span class=p>))</span>
</code></pre></div> <p><a id=gemfirepojo> </a></p> <h3 id=exposing-regions-containing-pojos-as-external-tables>Exposing Regions Containing POJOs as External Tables<a class=headerlink href=#exposing-regions-containing-pojos-as-external-tables title="Permanent link">&para;</a></h3> <p>In the following example, an external table is created using the getter methods on POJOs as SnappyData column names:</p> <p><div class=highlight><pre><span></span><code><span class=n>snc</span><span class=p>.</span><span class=n>createExternalTable</span><span class=p>(</span><span class=n>externalPersonsTable1</span><span class=p>,</span> <span class=s>&quot;gemfire&quot;</span><span class=p>,</span>
<span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>](</span><span class=s>&quot;region.path&quot;</span> <span class=o>-&gt;</span> <span class=n>personsRegionName</span><span class=p>,</span> <span class=s>&quot;value.class&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;load.Person&quot;</span><span class=p>))</span>
</code></pre></div> As in the previous case, if the GemFire key field has to be included as a column, then the <strong>Key.class</strong> attribute has to be passed in as an option.</p> <div class=highlight><pre><span></span><code><span class=n>snc</span><span class=p>.</span><span class=n>createExternalTable</span><span class=p>(</span><span class=n>externalPersonsTable1</span><span class=p>,</span> <span class=s>&quot;gemfire&quot;</span><span class=p>,</span> <span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>](</span><span class=s>&quot;region.path&quot;</span> <span class=o>-&gt;</span> <span class=n>personsRegionName</span><span class=p>,</span>
<span class=s>&quot;value.class&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;load.Person&quot;</span><span class=p>),</span> <span class=s>&quot;key.class&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;java.lang.Long&quot;</span><span class=p>))</span>
</code></pre></div> <p><a id=gemfiredataframe> </a></p> <h3 id=expose-gemfire-region-using-dataframe-based-external-tables>Expose GemFire Region Using Dataframe Based External Tables<a class=headerlink href=#expose-gemfire-region-using-dataframe-based-external-tables title="Permanent link">&para;</a></h3> <p>In the following example, a DataFrame is used to create an external table <strong>bsegTable</strong>, with the schema which is same as that of DataFrame <strong>bsegDF</strong>. The primary key column name should be specified for this to work correctly. In the following example, it is assumed that the dataframe contains a column named "id1". <div class=highlight><pre><span></span><code><span class=n>bsegDF</span><span class=p>.</span><span class=n>write</span><span class=p>.</span><span class=n>format</span><span class=p>(</span><span class=s>&quot;gemfire&quot;</span><span class=p>).</span>
      <span class=n>option</span><span class=p>(</span><span class=s>&quot;region.path&quot;</span><span class=p>,</span> <span class=s>&quot;bseg1&quot;</span><span class=p>).</span>
      <span class=n>option</span><span class=p>(</span><span class=s>&quot;primary.key.column.name&quot;</span><span class=p>,</span> <span class=s>&quot;id1&quot;</span><span class=p>).</span>
      <span class=n>option</span><span class=p>(</span><span class=s>&quot;pdx.identity.fields&quot;</span><span class=p>,</span> <span class=s>&quot;id1&quot;</span><span class=p>).</span>
      <span class=n>saveAsTable</span><span class=p>(</span><span class=s>&quot;bsegTable&quot;</span><span class=p>)</span>
</code></pre></div></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The <strong>pdx.identity.fields</strong> specification has a huge impact on performance within GemFire since this specification informs GemFire to use only the specified field for computing hashCode and equality for PdxInstance.</p> </div> <p><a id=gemfirerdds> </a></p> <h3 id=expose-gemfire-regions-as-rdds>Expose GemFire Regions as RDDs<a class=headerlink href=#expose-gemfire-regions-as-rdds title="Permanent link">&para;</a></h3> <p>Invoking the <strong>gemfireRegion</strong> method on the SparkContext in SnappyData exposes the full data set of a GemFire region as a Spark RDD. The same API exposes both replicated and partitioned region as RDDs.</p> <div class=highlight><pre><span></span><code><span class=n>scala</span><span class=o>&gt;</span> <span class=kd>val</span> <span class=n>rdd</span> <span class=o>=</span> <span class=n>sc</span><span class=p>.</span><span class=n>gemfireRegion</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>](</span><span class=s>&quot;gemTable1&quot;</span><span class=p>)</span>

<span class=n>scala</span><span class=o>&gt;</span> <span class=n>rdd</span><span class=p>.</span><span class=n>foreach</span><span class=p>(</span><span class=n>println</span><span class=p>)</span>
<span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>one</span><span class=p>)</span>
<span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=n>three</span><span class=p>)</span>
<span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=n>two</span><span class=p>)</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>when the RDD is used, it is important to specify the correct type for both the region key and value, otherwise a <strong>ClassCastException</strong> is encountered.</p> </div> <p><a id=controlschemaofexternaltable> </a></p> <h3 id=controlling-the-schema-of-the-external-table>Controlling the Schema of the External Table<a class=headerlink href=#controlling-the-schema-of-the-external-table title="Permanent link">&para;</a></h3> <p>The pdx fields (of pdx instances) or the getter methods (of the POJOs) define the schema of the external table by default. However, you can also control the schema by excluding the columns as per requirement. This is done by implementing the following trait:</p> <p><div class=highlight><pre><span></span><code><span class=k>package</span> <span class=nn>io</span><span class=p>.</span><span class=nn>snappydata</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>gemfire</span><span class=p>.</span><span class=nn>connector</span><span class=p>.</span><span class=n>lifecycle</span>
<span class=k>import</span> <span class=nn>org</span><span class=p>.</span><span class=nn>apache</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>sql</span><span class=p>.</span><span class=nn>types</span><span class=p>.</span><span class=nc>StructType</span>

<span class=k>trait</span> <span class=nc>ColumnSelector</span> <span class=p>{</span>
  <span class=k>def</span> <span class=nf>selectColumns</span><span class=p>(</span><span class=n>gridName</span><span class=p>:</span> <span class=nc>Option</span><span class=p>[</span><span class=nc>String</span><span class=p>],</span> <span class=n>regionName</span><span class=p>:</span> <span class=nc>String</span><span class=p>,</span>
      <span class=n>allColumns</span><span class=p>:</span> <span class=nc>StructType</span><span class=p>):</span> <span class=nc>StructType</span>
<span class=p>}</span>
</code></pre></div> Based on the requirement, a new StructType which contains fewer columns can be returned.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The new StructType returned can only have the subset of the columns that are passed. No new columns should be added.</p> </div> <p>The <strong>ColumnSelector</strong> implemetation needs to be added to the startup classpath of the SnappyDataCluster. At the time of table creation, an option with key = <strong>column.selector</strong> and value as the fully qualified class name of the ColumnSelector implementation class should be passed.</p> <h3 id=other-optional-configuration-parameters>Other Optional Configuration Parameters<a class=headerlink href=#other-optional-configuration-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>column</th> <th>column</th> </tr> </thead> <tbody> <tr> <td><strong>max.rows.restrict</strong></td> <td>This parameter is used to restrict the number of rows that are fetched from an external table, when a query of type <strong>select * from external_table</strong> is executed. This restriction, if specified, is applied to queries without any filter, limit, aggregate function, and projection such that it tends to bring all the rows from the external region. Note that this restriction is not applied in case of DDL statement such as <strong>create table X using row column as select * from external_table</strong>. The default value for is 10,000.</td> </tr> <tr> <td><strong>column.selector</strong></td> <td>This parameter is used to control the columns that must be included in the schema as described <a href=#controlschemaofexternaltable>here</a>.</td> </tr> <tr> <td><strong>max.buckets.per.partition</strong></td> <td>This parameter is used to control the concurrency and number of tasks created to fetch data from an external region. This property is useful only for Partitioned Region. For more details, refer to <a href=#controllingtaskconcurrency>Controlling Task Concurrency in SnappyData When Accessing GemFire</a>. The default value is 3.</td> </tr> <tr> <td><strong>security.username</strong> and <strong>security.password</strong></td> <td>By default the external table is created and queried using the credential of the current user. For example user X creates external table, and if user Y is querying, then credentials of user Y is fetched from data. But if the parameters <strong>security.username</strong> and <strong>security.password</strong> are passed then those credentials are used to create external table and for querying the data irrespective of the current user.</td> </tr> <tr> <td><strong>pdxtype.maxscan</strong></td> <td>This parameter determines the maximum number of entries from the region which is scanned to completely determine the schema of the external table from the Pdx instances that is stored in the region. The default value is 100.</td> </tr> </tbody> </table> <p><a id=controllingtaskconcurrency> </a></p> <h3 id=controlling-task-concurrency-in-snappydata-when-accessing-gemfire>Controlling Task Concurrency in SnappyData When Accessing GemFire<a class=headerlink href=#controlling-task-concurrency-in-snappydata-when-accessing-gemfire title="Permanent link">&para;</a></h3> <p>There are two types of regions in GemFire; <strong>replicated</strong> and <strong>partitioned</strong>. All the data for a replicated region is present on every server where the region is defined. A GemFire partitioned region splits the data across the servers that define the partitioned region.</p> <p>When operating with replicated regions, there is only a single RDD partition representing the replicated region in SnappyData. Since there is only one data bucket for the replicated region. As compared to this, a GemFire partitioned region can be represented by a configurable number of RDD partitions in SnappyData.</p> <p>Choosing the number of RDD partitions directly controls the task concurrency in SnappyData when you run queries on GemFire regions. By default, the GemFire connector works out the number of buckets per GemFire server, assigns partitions to each server, and uses a default value of maximum three buckets per partition. You can configure the <strong>max.buckets.per.partition</strong> attribute to change this value.</p> <p>When queries are executed on an external table, the degree of parallelism in query execution is directly proportional to the number of RDD partitions that represents the table.</p> <p>The following example shows how to configure the RDD partitions count for an external table representing a GemFire region:</p> <div class=highlight><pre><span></span><code><span class=k>import</span> <span class=nn>io</span><span class=p>.</span><span class=nn>snappydata</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>gemfire</span><span class=p>.</span><span class=nn>connector</span><span class=p>.</span><span class=n>_</span>

<span class=kd>val</span> <span class=n>externalBsegTable</span> <span class=o>=</span> <span class=n>snc</span><span class=p>.</span><span class=n>createExternalTable</span><span class=p>(</span><span class=s>&quot;bsegInGem&quot;</span><span class=p>,</span>
   <span class=s>&quot;gemfire&quot;</span><span class=p>,</span>
   <span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>](</span><span class=s>&quot;region.path&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;bseg1&quot;</span><span class=p>,</span> <span class=s>&quot;data.as.pdx&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;true&quot;</span><span class=p>,</span>
   <span class=s>&quot;key.class&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;java.lang.Long&quot;</span> <span class=p>,</span> <span class=s>&quot;max.buckets.per.partition&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;5&quot;</span>
     <span class=p>))</span>
</code></pre></div> <h2 id=saving-data-to-gemfire-region>Saving Data to GemFire Region<a class=headerlink href=#saving-data-to-gemfire-region title="Permanent link">&para;</a></h2> <p>You can save data to GemFire Regions using any of the following :</p> <ul> <li><a href=#savepairrddgemfire>Saving Pair RDD to GemFire Region</a></li> <li><a href=#savenonpairrddgemfire>Saving Non-Pair RDD to GemFire</a></li> <li><a href=#savedataframegemfire>Saving DataFrame to GemFire</a></li> </ul> <p><a id=savepairrddgemfire> </a></p> <h3 id=saving-pair-rdd-to-gemfire-region>Saving Pair RDD to GemFire Region<a class=headerlink href=#saving-pair-rdd-to-gemfire-region title="Permanent link">&para;</a></h3> <p>A pair RDD can be saved from SnappyData into a GemFire region as follows:</p> <ol> <li>Import the implicits as shown:</li> </ol> <div class=highlight><pre><span></span><code>        <span class=k>import</span> <span class=nn>io</span><span class=p>.</span><span class=nn>snappydata</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>gemfire</span><span class=p>.</span><span class=n>connector</span>
</code></pre></div> <ol> <li>In the Spark shell, create a simple pair RDD and save it to GemFire Region:</li> </ol> <div class=highlight><pre><span></span><code>        <span class=n>scala</span><span class=o>&gt;</span> <span class=k>import</span> <span class=nn>io</span><span class=p>.</span><span class=nn>snappydata</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>gemfire</span><span class=p>.</span><span class=nn>connector</span><span class=p>.</span><span class=n>_</span>
        <span class=n>scala</span><span class=o>&gt;</span> <span class=kd>val</span> <span class=n>data</span> <span class=o>=</span> <span class=nc>Array</span><span class=p>((</span><span class=s>&quot;1&quot;</span><span class=p>,</span> <span class=s>&quot;one&quot;</span><span class=p>),</span> <span class=p>(</span><span class=s>&quot;2&quot;</span><span class=p>,</span> <span class=s>&quot;two&quot;</span><span class=p>),</span> <span class=p>(</span><span class=s>&quot;3&quot;</span><span class=p>,</span> <span class=s>&quot;three&quot;</span><span class=p>))</span>
        <span class=n>data</span><span class=p>:</span> <span class=nc>Array</span><span class=p>[(</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>)]</span> <span class=o>=</span> <span class=nc>Array</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span><span class=n>one</span><span class=p>),</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=n>two</span><span class=p>),</span> <span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=n>three</span><span class=p>))</span>

        <span class=n>scala</span><span class=o>&gt;</span> <span class=kd>val</span> <span class=n>distData</span> <span class=o>=</span> <span class=n>sc</span><span class=p>.</span><span class=n>parallelize</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
        <span class=n>distData</span><span class=p>:</span> <span class=n>org</span><span class=p>.</span><span class=n>apache</span><span class=p>.</span><span class=n>spark</span><span class=p>.</span><span class=n>rdd</span><span class=p>.</span><span class=nc>RDD</span><span class=p>[(</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>)]</span> <span class=o>=</span> <span class=nc>ParallelCollectionRDD</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=n>at</span> <span class=n>parallelize</span> <span class=n>at</span> <span class=o>&lt;</span><span class=n>console</span><span class=o>&gt;:</span><span class=mi>14</span>

        <span class=n>scala</span><span class=o>&gt;</span> <span class=n>distData</span><span class=p>.</span><span class=n>saveToGemFire</span><span class=p>(</span><span class=s>&quot;gemTable1&quot;</span><span class=p>)</span>
        <span class=mi>15</span><span class=o>/</span><span class=mi>02</span><span class=o>/</span><span class=mi>17</span> <span class=mi>07</span><span class=p>:</span><span class=mi>11</span><span class=p>:</span><span class=mi>54</span> <span class=nc>INFO</span> <span class=nc>DAGScheduler</span><span class=p>:</span> <span class=nc>Job</span> <span class=mi>0</span> <span class=n>finished</span><span class=p>:</span> <span class=n>runJob</span> <span class=n>at</span> <span class=nc>GemFireRDDFunctions</span><span class=p>.</span><span class=n>scala</span><span class=p>:</span><span class=mi>29</span><span class=p>,</span> <span class=n>took</span> <span class=mf>0.341288</span> <span class=n>s</span>
</code></pre></div> <ol> <li>Verify the data is saved in GemFire using <code>gfsh</code>:</li> </ol> <div class=highlight><pre><span></span><code>        gfsh&gt;query --query=&quot;select key,value from /gemTable1.entries&quot;

        Result     : true
        startCount : 0
        endCount   : 20
        Rows       : 3

        key | value
        --- | -----
        1   | one
        3   | three
        2   | two
</code></pre></div> <p><a id=savenonpairrddgemfire> </a></p> <h3 id=saving-non-pair-rdd-to-gemfire>Saving Non-Pair RDD to GemFire<a class=headerlink href=#saving-non-pair-rdd-to-gemfire title="Permanent link">&para;</a></h3> <p>Saving a non-pair RDD to GemFire requires an extra function that converts each element of RDD to a key-value pair. Here's a sample session in Spark shell:</p> <div class=highlight><pre><span></span><code><span class=n>scala</span><span class=o>&gt;</span> <span class=k>import</span> <span class=nn>io</span><span class=p>.</span><span class=nn>snappydata</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>gemfire</span><span class=p>.</span><span class=nn>connector</span><span class=p>.</span><span class=n>_</span>
<span class=n>scala</span><span class=o>&gt;</span> <span class=kd>val</span> <span class=n>data2</span> <span class=o>=</span> <span class=nc>Array</span><span class=p>(</span><span class=s>&quot;a&quot;</span><span class=p>,</span><span class=s>&quot;ab&quot;</span><span class=p>,</span><span class=s>&quot;abc&quot;</span><span class=p>)</span>
<span class=n>data2</span><span class=p>:</span> <span class=nc>Array</span><span class=p>[</span><span class=nc>String</span><span class=p>]</span> <span class=o>=</span> <span class=nc>Array</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>ab</span><span class=p>,</span> <span class=n>abc</span><span class=p>)</span>

<span class=n>scala</span><span class=o>&gt;</span> <span class=kd>val</span> <span class=n>distData2</span> <span class=o>=</span> <span class=n>sc</span><span class=p>.</span><span class=n>parallelize</span><span class=p>(</span><span class=n>data2</span><span class=p>)</span>
<span class=n>distData2</span><span class=p>:</span> <span class=n>org</span><span class=p>.</span><span class=n>apache</span><span class=p>.</span><span class=n>spark</span><span class=p>.</span><span class=n>rdd</span><span class=p>.</span><span class=nc>RDD</span><span class=p>[</span><span class=nc>String</span><span class=p>]</span> <span class=o>=</span> <span class=nc>ParallelCollectionRDD</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=n>at</span> <span class=n>parallelize</span> <span class=n>at</span> <span class=o>&lt;</span><span class=n>console</span><span class=o>&gt;:</span><span class=mi>17</span>

<span class=n>scala</span><span class=o>&gt;</span> <span class=n>distData2</span><span class=p>.</span><span class=n>saveToGemFire</span><span class=p>(</span><span class=s>&quot;gemTable1&quot;</span><span class=p>,</span> <span class=n>e</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=n>e</span><span class=p>.</span><span class=n>length</span><span class=p>,</span> <span class=n>e</span><span class=p>))</span>
<span class=p>[</span><span class=n>info</span> <span class=mi>2015</span><span class=o>/</span><span class=mi>02</span><span class=o>/</span><span class=mi>17</span> <span class=mi>12</span><span class=p>:</span><span class=mi>43</span><span class=p>:</span><span class=mf>21.174</span> <span class=nc>PST</span> <span class=o>&lt;</span><span class=n>main</span><span class=o>&gt;</span> <span class=n>tid</span><span class=o>=</span><span class=mh>0x1</span><span class=p>]</span>
<span class=p>...</span>
<span class=mi>15</span><span class=o>/</span><span class=mi>02</span><span class=o>/</span><span class=mi>17</span> <span class=mi>12</span><span class=p>:</span><span class=mi>43</span><span class=p>:</span><span class=mi>21</span> <span class=nc>INFO</span> <span class=nc>DAGScheduler</span><span class=p>:</span> <span class=nc>Job</span> <span class=mi>0</span> <span class=n>finished</span><span class=p>:</span> <span class=n>runJob</span> <span class=n>at</span> <span class=nc>GemFireRDDFunctions</span><span class=p>.</span><span class=n>scala</span><span class=p>:</span><span class=mi>52</span><span class=p>,</span> <span class=n>took</span> <span class=mf>0.251194</span> <span class=n>s</span>
</code></pre></div> <p>Verify the result with <code>gfsh</code>: <div class=highlight><pre><span></span><code>gfsh&gt;query --query=&quot;select key,value from /gemTable1.entrySet&quot;

Result     : true
startCount : 0
endCount   : 20
Rows       : 3

key | value
--- | -----
2   | ab
3   | abc
1   | a
</code></pre></div></p> <p><a id=savedataframegemfire> </a></p> <h3 id=saving-a-dataframe-to-gemfire>Saving a DataFrame to GemFire<a class=headerlink href=#saving-a-dataframe-to-gemfire title="Permanent link">&para;</a></h3> <p>To save a DataFrame, that is dataSet of row objects, into GemFire, use the following API which is available as an implicit definition. The rows of the dataframes are converted into PDX instances for storage in the GemFire's region.</p> <p>In the following example, it is assumed that there is a column "id1" present in the dataframe's schema. To specify the PDX Identity Fields for the PDX Type, use the option as ("pdx.identity.fields", "Col1, Col2, Col3") to specify one or more columns to be used as PDX Identity fields. SnappyData recommends to define the identity fields for performance during comparison of PDX Instances.</p> <div class=highlight><pre><span></span><code><span class=k>import</span> <span class=nn>io</span><span class=p>.</span><span class=nn>snappydata</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>gemfire</span><span class=p>.</span><span class=nn>connector</span><span class=p>.</span><span class=n>_</span>

<span class=n>df</span><span class=p>.</span><span class=n>write</span><span class=p>.</span><span class=n>format</span><span class=p>(</span><span class=s>&quot;gemfire&quot;</span><span class=p>).</span>
          <span class=n>option</span><span class=p>(</span><span class=s>&quot;region.path&quot;</span><span class=p>,</span><span class=s>&quot;/region1&quot;</span><span class=p>).</span>
          <span class=n>option</span><span class=p>(</span><span class=s>&quot;primary.key.column.name&quot;</span><span class=p>,</span> <span class=s>&quot;id1&quot;</span><span class=p>).</span>
          <span class=n>option</span><span class=p>(</span><span class=s>&quot;pdx.identity.fields&quot;</span><span class=p>,</span> <span class=s>&quot;id1&quot;</span><span class=p>)</span>
          <span class=p>.</span><span class=n>save</span><span class=p>()</span>
</code></pre></div> <p>To dynamically generate the GemFire Region's key, import the implicits and use the following API:</p> <div class=highlight><pre><span></span><code><span class=n>saveToGemFire</span><span class=p>[</span><span class=nc>K</span><span class=p>](</span><span class=n>regionPath</span><span class=p>:</span> <span class=nc>String</span><span class=p>,</span> <span class=n>keyExtractor</span><span class=p>:</span> <span class=nc>Row</span> <span class=o>=&gt;</span> <span class=nc>K</span><span class=p>,</span> <span class=n>opConf</span><span class=p>:</span> <span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>]</span> <span class=o>=</span> <span class=nc>Map</span><span class=p>.</span><span class=n>empty</span> <span class=p>)</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>import</span> <span class=nn>io</span><span class=p>.</span><span class=nn>snappydata</span><span class=p>.</span><span class=nn>spark</span><span class=p>.</span><span class=nn>gemfire</span><span class=p>.</span><span class=nn>connector</span><span class=p>.</span><span class=n>_</span>

<span class=n>df</span><span class=p>.</span><span class=n>saveToGemFire</span><span class=p>[</span><span class=nc>String</span><span class=p>](</span><span class=s>&quot;/region1&quot;</span><span class=p>,</span>
<span class=p>(</span><span class=n>row</span><span class=p>:</span> <span class=nc>Row</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>(</span> <span class=n>row</span><span class=p>.</span><span class=n>getString</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=s>&quot;_&quot;</span> <span class=o>+</span> <span class=n>row</span><span class=p>.</span><span class=n>getString</span><span class=p>(</span><span class=mi>10</span><span class=p>)),</span>
<span class=nc>Map</span><span class=p>[</span><span class=nc>String</span><span class=p>,</span> <span class=nc>String</span><span class=p>](</span><span class=s>&quot;pdx.identity.fields&quot;</span> <span class=o>-&gt;</span> <span class=s>&quot;id1, id10&quot;</span><span class=p>)</span>
<span class=p>)</span>
</code></pre></div> <p><a id=runoqlqueriesgemfire> </a></p> <h2 id=running-oql-queries-directly-on-gemfire-from-snappydata>Running OQL queries Directly on GemFire from SnappyData<a class=headerlink href=#running-oql-queries-directly-on-gemfire-from-snappydata title="Permanent link">&para;</a></h2> <p>Most applications using SnappyData will choose to run regular SQL queries on GemFire regions. Refer to <a href=#accessingdatafromgemfire>Accessing Data From GemFire</a> Additionally, you can directly execute OQL queries on GemFire regions using the GemFire connector. In scenarios where the data stored in GemFire regions is neither PDX nor Java bean compliant POJO, you can execute OQL queries and retrieve the data from the server and make it available as a data frame.</p> <p>An instance of <code>SQLContext</code> is required to run OQL query.</p> <div class=highlight><pre><span></span><code><span class=kd>val</span> <span class=n>snc</span> <span class=o>=</span> <span class=k>new</span> <span class=n>org</span><span class=p>.</span><span class=n>apache</span><span class=p>.</span><span class=n>spark</span><span class=p>.</span><span class=n>sql</span><span class=p>.</span><span class=nc>SnappyContext</span><span class=p>(</span><span class=n>sc</span><span class=p>)</span>
</code></pre></div> <p>Create a <code>DataFrame</code> using OQL: <div class=highlight><pre><span></span><code><span class=kd>val</span> <span class=n>dataFrame</span> <span class=o>=</span> <span class=n>snc</span><span class=p>.</span><span class=n>gemfireOQL</span><span class=p>(</span><span class=s>&quot;SELECT iter.name,itername.address.city, iter.id FROM /personRegion iter&quot;</span><span class=p>)</span>
</code></pre></div></p> <p>You can repartition the <code>DataFrame</code> using <code>DataFrame.repartition()</code> if required. After you have the <code>DataFrame</code>, you can register it as a table and use Spark SQL to query:</p> <div class=highlight><pre><span></span><code><span class=n>dataFrame</span><span class=p>.</span><span class=n>registerTempTable</span><span class=p>(</span><span class=s>&quot;person&quot;</span><span class=p>)</span>
<span class=kd>val</span> <span class=nc>SQLResult</span> <span class=o>=</span> <span class=n>sqlContext</span><span class=p>.</span><span class=n>sql</span><span class=p>(</span><span class=s>&quot;SELECT * FROM person WHERE id &gt; 100&quot;</span><span class=p>)</span>
</code></pre></div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright © 2017-2021 TIBCO Software Inc. All rights reserved. </div> </div> <div class=md-footer-generator> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.indexes", "navigation.top", "header.autohide"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.1e84347e.min.js></script> </body> </html>