<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project documentation for SnappyData"><meta name=author content="SnappyData Team"><link href=https://tibcosoftware.github.io/snappydata/best_practices/setup_cluster/ rel=canonical><link rel=icon href=../../favicon.ico><meta name=generator content="mkdocs-1.2.3, mkdocs-material-7.3.4"><title>Tuning for Concurrency and Computation - SnappyData™ 1.3.0</title><link rel=stylesheet href=../../assets/stylesheets/main.db9e7362.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.3f5d1f46.min.css><meta name=theme-color content=#009485><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7CFira+Code&display=fallback"><style>:root{--md-text-font-family:"Lato";--md-code-font-family:"Fira Code"}</style><link rel=stylesheet href=../../extra.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=cyan> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#tuning-for-concurrency-and-performance class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="SnappyData™ 1.3.0" class="md-header__button md-logo" aria-label="SnappyData™ 1.3.0" data-md-component=logo> <img src=../../Images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SnappyData™ 1.3.0 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Tuning for Concurrency and Computation </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/TIBCOSoftware/snappydata/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="SnappyData™ 1.3.0" class="md-nav__button md-logo" aria-label="SnappyData™ 1.3.0" data-md-component=logo> <img src=../../Images/logo.png alt=logo> </a> SnappyData™ 1.3.0 </label> <div class=md-nav__source> <a href=https://github.com/TIBCOSoftware/snappydata/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../release_notes/release_notes/ class=md-nav__link> Release Notes </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../install/ >Provisioning SnappyData</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Provisioning SnappyData" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Provisioning SnappyData </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../install/system_requirements/ class=md-nav__link> System Requirements </a> </li> <li class=md-nav__item> <a href=../../install/install_on_premise/ class=md-nav__link> Installing SnappyData On-Premise </a> </li> <li class=md-nav__item> <a href=../../install/setting_up_cluster_on_amazon_web_services/ class=md-nav__link> Setting-up SnappyData Cluster on AWS </a> </li> <li class=md-nav__item> <a href=../../kubernetes/ class=md-nav__link> Setting-up SnappyData Cluster on Kubernetes </a> </li> <li class=md-nav__item> <a href=../../quickstart/getting_started_with_docker_image/ class=md-nav__link> Building a Docker Image with SnappyData Binaries </a> </li> <li class=md-nav__item> <a href=../../install/building_from_source/ class=md-nav__link> Building SnappyData from Source files </a> </li> <li class=md-nav__item> <a href=../../install/upgrade/ class=md-nav__link> Upgrading SnappyData </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../quickstart/ >Getting Started</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../quickstart/getting_started_by_installing_snappydata_on-premise/ class=md-nav__link> On-Premise </a> </li> <li class=md-nav__item> <a href=../../quickstart/getting_started_on_kubernetes/ class=md-nav__link> Kubernetes </a> </li> <li class=md-nav__item> <a href=../../quickstart/getting_started_with_your_spark_distribution/ class=md-nav__link> Spark Distribution </a> </li> <li class=md-nav__item> <a href=../../howto/use_apache_zeppelin_with_snappydata/ class=md-nav__link> Using Apache Zeppelin with SnappyData </a> </li> <li class=md-nav__item> <a href=../../quickstart/snappydataquick_start/ class=md-nav__link> SnappyData Quickstart Guide </a> </li> <li class=md-nav__item> <a href=../../quickstart/using_spark_scala_apis/ class=md-nav__link> Using Spark Scala APIs </a> </li> <li class=md-nav__item> <a href=../../quickstart/performance_apache_spark/ class=md-nav__link> Benchmark 16-20x Faster Performance than Apache Spark </a> </li> <li class=md-nav__item> <a href=../../quickstart/using_sql/ class=md-nav__link> Using SQL </a> </li> <li class=md-nav__item> <a href=../../quickstart/structucture_streamingquickstart/ class=md-nav__link> Structured Streaming </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../configuring_cluster/configure_launch_cluster/ class=md-nav__link> Configure/Launch SnappyData Cluster </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <div class="md-nav__link md-nav__link--index "> <a href=../../architecture/ >Concepts</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Concepts data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/core_components/ class=md-nav__link> Core Components </a> </li> <li class=md-nav__item> <a href=../../architecture/cluster_architecture/ class=md-nav__link> SnappyData Cluster Architecture </a> </li> <li class=md-nav__item> <a href=../../architecture/hybrid_cluster_manager/ class=md-nav__link> Hybrid Cluster Manager </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5 type=checkbox id=__nav_6_5> <div class="md-nav__link md-nav__link--index "> <a href=../../consistency/ >Distributed Transactions</a> <label for=__nav_6_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Distributed Transactions" data-md-level=2> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Distributed Transactions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../consistency/using_transactions_row/ class=md-nav__link> How Transactions Work for Row Tables </a> </li> <li class=md-nav__item> <a href=../../consistency/using_snapshot_isolation_column/ class=md-nav__link> Lock-free Queries using MVCC and Snapshot Isolation for Column Tables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_6 type=checkbox id=__nav_6_6> <div class="md-nav__link md-nav__link--index "> <a href=../../affinity_modes/ >Affinity Modes</a> <label for=__nav_6_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Affinity Modes" data-md-level=2> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Affinity Modes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../affinity_modes/local_mode/ class=md-nav__link> Local Mode </a> </li> <li class=md-nav__item> <a href=../../affinity_modes/embedded_mode/ class=md-nav__link> Embedded SnappyData Store Mode </a> </li> <li class=md-nav__item> <a href=../../affinity_modes/connector_mode/ class=md-nav__link> SnappyData Smart Connector Mode </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <div class="md-nav__link md-nav__link--index "> <a href=../../howto/ >How Tos</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="How Tos" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> How Tos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../howto/start_snappy_cluster/ class=md-nav__link> How to Start a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../../howto/check_status_cluster/ class=md-nav__link> How to Check the Status of a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../../howto/stop_snappy_cluster/ class=md-nav__link> How to Stop a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../../howto/run_spark_job_inside_cluster/ class=md-nav__link> How to Run Spark Job inside the Cluster </a> </li> <li class=md-nav__item> <a href=../../howto/spark_installation_using_smart_connector/ class=md-nav__link> How to Access SnappyData Store from existing Spark Installation using Smart Connector </a> </li> <li class=md-nav__item> <a href=../../howto/use_snappy_shell/ class=md-nav__link> How to Use Snappy SQL shell (snappy-sql) </a> </li> <li class=md-nav__item> <a href=../../howto/create_row_tables_and_run_queries/ class=md-nav__link> How to Create Row Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../../howto/create_column_tables_and_run_queries/ class=md-nav__link> How to Create Column Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../../howto/load_data_into_snappydata_tables/ class=md-nav__link> How to Load Data into SnappyData Tables </a> </li> <li class=md-nav__item> <a href=../../howto/load_data_from_external_data_stores/ class=md-nav__link> How to Load Data from External Data Stores (e.g. HDFS, Cassandra, Hive, etc) </a> </li> <li class=md-nav__item> <a href=../../howto/perform_a_colocated_join/ class=md-nav__link> How to Perform a Colocated Join </a> </li> <li class=md-nav__item> <a href=../../howto/connect_using_jdbc_driver/ class=md-nav__link> How to Connect using JDBC Driver </a> </li> <li class=md-nav__item> <a href=../../howto/using_snappydata_for_any_spark_dist/ class=md-nav__link> How to use SnappyData for any Spark Distribution </a> </li> <li class=md-nav__item> <a href=../../howto/store_retrieve_complex_datatypes_JDBC/ class=md-nav__link> How to Store and Retrieve Complex Data Types in JDBC Programs </a> </li> <li class=md-nav__item> <a href=../../howto/store_and_query_objects/ class=md-nav__link> How to Store and Query Objects </a> </li> <li class=md-nav__item> <a href=../../howto/use_stream_processing_with_snappydata/ class=md-nav__link> How to use Stream Processing with SnappyData </a> </li> <li class=md-nav__item> <a href=../../howto/use_transactions_isolation_levels/ class=md-nav__link> How to use Transactions Isolation Levels </a> </li> <li class=md-nav__item> <a href=../../howto/use_synopsis_data_engine_to_run_approximate_queries/ class=md-nav__link> How to use Approximate Query Processing (AQP) to Run Approximate Queries </a> </li> <li class=md-nav__item> <a href=../../howto/use_python_to_create_tables_and_run_queries/ class=md-nav__link> How to use Python to Create Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../../howto/connect_using_odbc_driver/ class=md-nav__link> How to Connect using ODBC Driver </a> </li> <li class=md-nav__item> <a href=../../howto/connect_to_the_cluster_from_external_clients/ class=md-nav__link> How to Connect to the Cluster from External Network </a> </li> <li class=md-nav__item> <a href=../../howto/import_from_hive_table/ class=md-nav__link> How to Import Data from Hive Table into SnappyData Table </a> </li> <li class=md-nav__item> <a href=../../howto/export_hdfs/ class=md-nav__link> How to Export and Restore Table Data using HDFS </a> </li> <li class=md-nav__item> <a href=../../howto/connect_oss_vis_client_tools/ class=md-nav__link> How to Access SnappyData from Various SQL Client Tools </a> </li> <li class=md-nav__item> <a href=../../howto/connecttibcospotfire/ class=md-nav__link> How to connect TIBCO Spotfire® Desktop to SnappyData </a> </li> <li class=md-nav__item> <a href=../../howto/tableauconnect/ class=md-nav__link> How to Connect Tableau to SnappyData </a> </li> <li class=md-nav__item> <a href=../../howto/use_apache_zeppelin_with_snappydata/ class=md-nav__link> How to Use Apache Zeppelin with SnappyData </a> </li> <li class=md-nav__item> <a href=../../howto/concurrent_apache_zeppelin_access_to_secure_snappydata/ class=md-nav__link> How to Configure Apache Zeppelin to Securely and Concurrently access the SnappyData Cluster </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <div class="md-nav__link md-nav__link--index "> <a href=../../programming_guide/ >Programming Guide</a> <label for=__nav_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Programming Guide" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Programming Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../programming_guide/sparksession_snappysession_and_snappystreamingcontext/ class=md-nav__link> SparkSession, SnappySession and SnappyStreamingContext </a> </li> <li class=md-nav__item> <a href=../../programming_guide/snappydata_jobs/ class=md-nav__link> Snappy Jobs </a> </li> <li class=md-nav__item> <a href=../../programming_guide/managing_jar_files/ class=md-nav__link> Managing JAR Files </a> </li> <li class=md-nav__item> <a href=../../programming_guide/using_snappydata_shell/ class=md-nav__link> Using Snappy Shell </a> </li> <li class=md-nav__item> <a href=../../programming_guide/using_the_spark_shell_and_spark-submit/ class=md-nav__link> Using the Spark Shell and spark-submit </a> </li> <li class=md-nav__item> <a href=../../programming_guide/using_pyspark_shell/ class=md-nav__link> Using pyspark Shell </a> </li> <li class=md-nav__item> <a href=../../programming_guide/scala_interpreter/ class=md-nav__link> Executing Spark Scala Code using SQL </a> </li> <li class=md-nav__item> <a href=../../programming_guide/working_with_hadoop_yarn_cluster_manager/ class=md-nav__link> Working with Hadoop YARN cluster Manager </a> </li> <li class=md-nav__item> <a href=../../programming_guide/using_jdbc_with_snappydata/ class=md-nav__link> Using JDBC with SnappyData </a> </li> <li class=md-nav__item> <a href=../../programming_guide/spark_jdbc_connector/ class=md-nav__link> Accessing SnappyData Tables from any Spark (2.1+) Cluster </a> </li> <li class=md-nav__item> <a href=../../programming_guide/multiple_language_binding_using_thrift_protocol/ class=md-nav__link> Multiple Language Binding using Thrift Protocol </a> </li> <li class=md-nav__item> <a href=../../programming_guide/building_snappydata_applications_using_spark_api/ class=md-nav__link> Building SnappyData Applications using Spark API </a> </li> <li class=md-nav__item> <a href=../../programming_guide/tables_in_snappydata/ class=md-nav__link> Tables in SnappyData </a> </li> <li class=md-nav__item> <a href=../../programming_guide/stream_processing_using_sql/ class=md-nav__link> Stream Processing using SQL </a> </li> <li class=md-nav__item> <a href=../../programming_guide/udf_and_udaf/ class=md-nav__link> User Defined Functions (UDF) and User Defined Aggregate Functions (UDAF) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >Best Practices</a> <label for=__nav_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Best Practices" data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Best Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Tuning for Concurrency and Computation <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Tuning for Concurrency and Computation </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#handling-low-latency-vs-analytic-jobs class=md-nav__link> Handling Low Latency vs Analytic Jobs </a> </li> <li class=md-nav__item> <a href=#computing-the-number-of-cores-for-a-job class=md-nav__link> Computing the Number of Cores for a Job </a> </li> <li class=md-nav__item> <a href=#configuring-the-scheduler-pools-for-concurrency class=md-nav__link> Configuring the Scheduler Pools for Concurrency </a> <nav class=md-nav aria-label="Configuring the Scheduler Pools for Concurrency"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#controlling-cpu-usage-for-user-jobs class=md-nav__link> Controlling CPU Usage for User Jobs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-a-partitioning-strategy-to-increase-concurrency class=md-nav__link> Using a Partitioning Strategy to Increase Concurrency </a> </li> <li class=md-nav__item> <a href=#using-smart-connector-for-expanding-capacity-of-the-cluster class=md-nav__link> Using Smart Connector for Expanding Capacity of the Cluster </a> </li> <li class=md-nav__item> <a href=#disabling-hashjoinaggregate-for-cluster-stability class=md-nav__link> Disabling hashJoin/Aggregate for Cluster Stability </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_3 type=checkbox id=__nav_9_3> <div class="md-nav__link md-nav__link--index "> <a href=../design_schema/ >Designing your Database and Schema</a> <label for=__nav_9_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Designing your Database and Schema" data-md-level=2> <label class=md-nav__title for=__nav_9_3> <span class="md-nav__icon md-icon"></span> Designing your Database and Schema </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../design_schema/design_principles/ class=md-nav__link> Design Principles of Scalable, Partition-Aware Databases </a> </li> <li class=md-nav__item> <a href=../design_schema/optimizing_query_latency/ class=md-nav__link> Optimizing Query Latency: Partitioning and Replication Strategies </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../memory_management/ class=md-nav__link> Memory Management </a> </li> <li class=md-nav__item> <a href=../ha_considerations/ class=md-nav__link> HA Considerations </a> </li> <li class=md-nav__item> <a href=../structured_streaming_best_practices/ class=md-nav__link> Structured Streaming </a> </li> <li class=md-nav__item> <a href=../important_settings/ class=md-nav__link> Important Settings </a> </li> <li class=md-nav__item> <a href=../transactions_best_practices/ class=md-nav__link> SnappyData Distributed Transactions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10 type=checkbox id=__nav_10> <div class="md-nav__link md-nav__link--index "> <a href=../../sde/ >Approximate Query Processing</a> <label for=__nav_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Approximate Query Processing" data-md-level=1> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Approximate Query Processing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../sde/key_concepts/ class=md-nav__link> Key Concepts </a> </li> <li class=md-nav__item> <a href=../../sde/working_with_stratified_samples/ class=md-nav__link> Working with Stratified Samples </a> </li> <li class=md-nav__item> <a href=../../sde/running_queries/ class=md-nav__link> Running Queries </a> </li> <li class=md-nav__item> <a href=../../sde/more_examples/ class=md-nav__link> More Examples </a> </li> <li class=md-nav__item> <a href=../../sde/sample_selection/ class=md-nav__link> Sample Selection </a> </li> <li class=md-nav__item> <a href=../../sde/hac_contracts/ class=md-nav__link> High-level Accuracy Contracts (HAC) </a> </li> <li class=md-nav__item> <a href=../../sde/sketching/ class=md-nav__link> Sketching </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_11 type=checkbox id=__nav_11> <div class="md-nav__link md-nav__link--index "> <a href=../../connectors/ >Working with Data Sources</a> <label for=__nav_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Working with Data Sources" data-md-level=1> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Working with Data Sources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../data/data_formats/ class=md-nav__link> Supported Data Formats </a> </li> <li class=md-nav__item> <a href=../../connectors/access_cloud_data/ class=md-nav__link> Accessing Cloud Storages </a> </li> <li class=md-nav__item> <a href=../../data/external_hive_support/ class=md-nav__link> Connecting to External Hive Metastores </a> </li> <li class=md-nav__item> <a href=../../connectors/cdc_connector/ class=md-nav__link> Using the SnappyData CDC (Change Data Capture) Connector </a> </li> <li class=md-nav__item> <a href=../../connectors/jdbc_streaming_connector/ class=md-nav__link> Using the SnappyData JDBC Streaming Connector </a> </li> <li class=md-nav__item> <a href=../../connectors/tdv/ class=md-nav__link> Connecting to TIBCO Data Virtualization (TDV) </a> </li> <li class=md-nav__item> <a href=../../connectors/deployment_dependency_jar/ class=md-nav__link> Deploying Third Party Connectors </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12 type=checkbox id=__nav_12> <div class="md-nav__link md-nav__link--index "> <a href=../../monitoring/ >Managing and Monitoring</a> <label for=__nav_12> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Managing and Monitoring" data-md-level=1> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Managing and Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../monitoring/monitoring/ class=md-nav__link> SnappyData Monitoring UI </a> </li> <li class=md-nav__item> <a href=../../monitoring/configure_high_availability/ class=md-nav__link> Configuring High Availability for a Partitioned Table </a> </li> <li class=md-nav__item> <a href=../../monitoring/configure_logging/ class=md-nav__link> Configuring Logging </a> </li> <li class=md-nav__item> <a href=../../monitoring/metrics/ class=md-nav__link> Monitoring with Metrics </a> </li> <li class=md-nav__item> <a href=../../monitoring/monitor-manage/ class=md-nav__link> Getting Information from SnappyData System Tables </a> </li> <li class=md-nav__item> <a href=../../monitoring/recoveringdata/ class=md-nav__link> Recovering Data During Cluster Failures </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_13 type=checkbox id=__nav_13> <div class="md-nav__link md-nav__link--index "> <a href=../../security/ >Managing Security</a> <label for=__nav_13> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Managing Security" data-md-level=1> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> Managing Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../security/launching_the_cluster_in_secure_mode/ class=md-nav__link> Launching the Cluster in Secure Mode </a> </li> <li class=md-nav__item> <a href=../../security/specify_encrypt_passwords_conf_client/ class=md-nav__link> Specifying Encrypted Passwords in Conf Files or in Client Connections </a> </li> <li class=md-nav__item> <a href=../../security/authentication_connecting_to_a_secure_cluster/ class=md-nav__link> Authentication - Connecting to a Secure Cluster </a> </li> <li class=md-nav__item> <a href=../../security/authorization/ class=md-nav__link> Authorization </a> </li> <li class=md-nav__item> <a href=../../security/row_level_security/ class=md-nav__link> Implementing Row Level Security </a> </li> <li class=md-nav__item> <a href=../../security/configuring_network_encryption_and_authentication_using_ssl/ class=md-nav__link> Configuring Network Encryption and Authentication using SSL </a> </li> <li class=md-nav__item> <a href=../../configuring_cluster/ssl_setup/ class=md-nav__link> Enabling SSL Encryption in Different Socket Endpoints of SnappyData </a> </li> <li class=md-nav__item> <a href=../../configuring_cluster/securinguiconnection/ class=md-nav__link> Securing SnappyData UI Connection </a> </li> <li class=md-nav__item> <a href=../../security/user_names_for_authentication_authorization_and_membership/ class=md-nav__link> User Names for Authentication, Authorization, and Membership </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_14 type=checkbox id=__nav_14> <div class="md-nav__link md-nav__link--index "> <a href=../../statistics/ >Evaluating Statistics for the System and Applications</a> <label for=__nav_14> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Evaluating Statistics for the System and Applications" data-md-level=1> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Evaluating Statistics for the System and Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../statistics/collecting_system_stats/ class=md-nav__link> Collecting System Statistics </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_14_3 type=checkbox id=__nav_14_3> <div class="md-nav__link md-nav__link--index "> <a href=../../statistics/vsd/ >Using VSD to Analyze Statistics</a> <label for=__nav_14_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Using VSD to Analyze Statistics" data-md-level=2> <label class=md-nav__title for=__nav_14_3> <span class="md-nav__icon md-icon"></span> Using VSD to Analyze Statistics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../statistics/vsd/running_vsd/ class=md-nav__link> Installing and Running VSD </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_transactions/ class=md-nav__link> Transaction Performance </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_tables/ class=md-nav__link> Table Performance </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_statements/ class=md-nav__link> SQL Statement Performance </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_memory/ class=md-nav__link> Memory Usage </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd-connection-stats/ class=md-nav__link> Client Connections </a> </li> <li class=md-nav__item> <a href=../../statistics/vsd/vsd_cpu/ class=md-nav__link> CPU Usage </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15 type=checkbox id=__nav_15> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/ >Reference Guides</a> <label for=__nav_15> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Reference Guides" data-md-level=1> <label class=md-nav__title for=__nav_15> <span class="md-nav__icon md-icon"></span> Reference Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configuring_cluster/configuring_cluster/ class=md-nav__link> Configuration Reference </a> </li> <li class=md-nav__item> <a href=../../configuring_cluster/property_description/ class=md-nav__link> List of Properties </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4 type=checkbox id=__nav_15_4> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/sql_reference/ >SQL Reference Guide</a> <label for=__nav_15_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="SQL Reference Guide" data-md-level=2> <label class=md-nav__title for=__nav_15_4> <span class="md-nav__icon md-icon"></span> SQL Reference Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/sql_reference/alter-table/ class=md-nav__link> ALTER TABLE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_3 type=checkbox id=__nav_15_4_3> <label class=md-nav__link for=__nav_15_4_3> CREATE Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CREATE Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_3> <span class="md-nav__icon md-icon"></span> CREATE Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/sql_reference/create-diskstore/ class=md-nav__link> CREATE DISKSTORE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-external-table/ class=md-nav__link> CREATE EXTERNAL TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-function/ class=md-nav__link> CREATE FUNCTION </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-index/ class=md-nav__link> CREATE INDEX </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-schema/ class=md-nav__link> CREATE SCHEMA </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-stream-table/ class=md-nav__link> CREATE STREAM TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-sample-table/ class=md-nav__link> CREATE SAMPLE TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-table/ class=md-nav__link> CREATE TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-temporary-table/ class=md-nav__link> CREATE TEMPORARY TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/create-view/ class=md-nav__link> CREATE VIEW </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/delete/ class=md-nav__link> DELETE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_5 type=checkbox id=__nav_15_4_5> <label class=md-nav__link for=__nav_15_4_5> DROP Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="DROP Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_5> <span class="md-nav__icon md-icon"></span> DROP Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-diskstore/ class=md-nav__link> DROP DISKSTORE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-function/ class=md-nav__link> DROP FUNCTION </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-index/ class=md-nav__link> DROP INDEX </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-table/ class=md-nav__link> DROP TABLE/EXTERNAL TABLE/SAMPLE TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/drop-schema/ class=md-nav__link> DROP SCHEMA </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_6 type=checkbox id=__nav_15_4_6> <label class=md-nav__link for=__nav_15_4_6> DEPLOY Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="DEPLOY Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_6> <span class="md-nav__icon md-icon"></span> DEPLOY Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/sql_reference/deploy_package/ class=md-nav__link> DEPLOY PACKAGE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/deploy_jar/ class=md-nav__link> DEPLOY JAR </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/undeploy/ class=md-nav__link> UNDEPLOY </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/exec-scala/ class=md-nav__link> exec scala </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/explain/ class=md-nav__link> EXPLAIN </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/grant/ class=md-nav__link> GRANT </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/grant-all/ class=md-nav__link> GRANT ALL </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/insert/ class=md-nav__link> INSERT </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/lateral-view/ class=md-nav__link> LATERAL VIEW </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/list/ class=md-nav__link> LIST </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/pivot/ class=md-nav__link> PIVOT </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/put-into/ class=md-nav__link> PUT INTO </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/revoke/ class=md-nav__link> REVOKE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/revoke_all/ class=md-nav__link> REVOKE ALL </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/select/ class=md-nav__link> SELECT </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/set-isolation/ class=md-nav__link> SET ISOLATION </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/set-schema/ class=md-nav__link> SET SCHEMA </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/truncate-table/ class=md-nav__link> TRUNCATE TABLE </a> </li> <li class=md-nav__item> <a href=../../reference/sql_reference/update/ class=md-nav__link> UPDATE </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_5 type=checkbox id=__nav_15_5> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/sql_functions/ >SQL Functions</a> </div> <nav class=md-nav aria-label="SQL Functions" data-md-level=2> <label class=md-nav__title for=__nav_15_5> <span class="md-nav__icon md-icon"></span> SQL Functions </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/sql_general_limitations/ class=md-nav__link> SQL General Limitations </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_7 type=checkbox id=__nav_15_7> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/inbuilt_system_procedures/ >Built-in System Procedures and Built-in Functions</a> <label for=__nav_15_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Built-in System Procedures and Built-in Functions" data-md-level=2> <label class=md-nav__title for=__nav_15_7> <span class="md-nav__icon md-icon"></span> Built-in System Procedures and Built-in Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/dump-stacks/ class=md-nav__link> DUMP_STACKS </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/rebalance-all-buckets/ class=md-nav__link> REBALANCE_ALL_BUCKETS </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/set_critical_heap_percentage/ class=md-nav__link> SET_CRITICAL_HEAP_PERCENTAGE </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/set-trace-flag/ class=md-nav__link> SET_TRACE_FLAG </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/sys_remove_metastore_entry/ class=md-nav__link> REMOVE_METASTORE_ENTRY </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/export_ddl/ class=md-nav__link> EXPORT_DDLS </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/export_data/ class=md-nav__link> EXPORT_DATA </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/dsid/ class=md-nav__link> DSID </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/current_user/ class=md-nav__link> CURRENT_USER </a> </li> <li class=md-nav__item> <a href=../../reference/inbuilt_system_procedures/current_user_ldap_groups/ class=md-nav__link> CURRENT_USER_LDAP_GROUPS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_8 type=checkbox id=__nav_15_8> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/system_tables/ >System Tables</a> <label for=__nav_15_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="System Tables" data-md-level=2> <label class=md-nav__title for=__nav_15_8> <span class="md-nav__icon md-icon"></span> System Tables </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/system_tables/members/ class=md-nav__link> MEMBERS </a> </li> <li class=md-nav__item> <a href=../../reference/system_tables/sysdiskstores/ class=md-nav__link> SYSDISKSTORES </a> </li> <li class=md-nav__item> <a href=../../reference/system_tables/sysdiskstoreids/ class=md-nav__link> SYSDISKSTOREIDS </a> </li> <li class=md-nav__item> <a href=../../reference/system_tables/systables/ class=md-nav__link> SYSTABLES </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_9 type=checkbox id=__nav_15_9> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/command_line_utilities/ >Command Line Utilities</a> <label for=__nav_15_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Command Line Utilities" data-md-level=2> <label class=md-nav__title for=__nav_15_9> <span class="md-nav__icon md-icon"></span> Command Line Utilities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-backup/ class=md-nav__link> backup and restore </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-compact-all-disk-stores/ class=md-nav__link> compact-all-disk-stores </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-compact-disk-store/ class=md-nav__link> compact-disk-store </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/validate_diskstore/ class=md-nav__link> validate-disk-store </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-list-missing-disk-stores/ class=md-nav__link> list-missing-disk-stores </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-revoke-missing-disk-stores/ class=md-nav__link> revoke-missing-disk-store </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-unblock-disk-stores/ class=md-nav__link> unblock-disk-store </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-run/ class=md-nav__link> run </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/scala-cli/ class=md-nav__link> scala CLI </a> </li> <li class=md-nav__item> <a href=../../reference/command_line_utilities/store-version/ class=md-nav__link> version </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_10 type=checkbox id=__nav_15_10> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/interactive_commands/ >Snappy-SQL Shell Interactive Commands</a> <label for=__nav_15_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Snappy-SQL Shell Interactive Commands" data-md-level=2> <label class=md-nav__title for=__nav_15_10> <span class="md-nav__icon md-icon"></span> Snappy-SQL Shell Interactive Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/interactive_commands/autocommit/ class=md-nav__link> autocommit </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/commit/ class=md-nav__link> commit </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/connect_client/ class=md-nav__link> connect client </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/connect/ class=md-nav__link> connect </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/describe/ class=md-nav__link> describe </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/disconnect/ class=md-nav__link> disconnect </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/elapsedtime/ class=md-nav__link> elapsedtime </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/exit/ class=md-nav__link> exit </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/maximumdisplaywidth/ class=md-nav__link> MaximumDisplayWidth </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/rollback/ class=md-nav__link> rollback </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/run/ class=md-nav__link> run </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/set_connection/ class=md-nav__link> set connection </a> </li> <li class=md-nav__item> <a href=../../reference/interactive_commands/show/ class=md-nav__link> show </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_11 type=checkbox id=__nav_15_11> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/configuration_parameters/ >Configuration Parameters</a> <label for=__nav_15_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Configuration Parameters" data-md-level=2> <label class=md-nav__title for=__nav_15_11> <span class="md-nav__icon md-icon"></span> Configuration Parameters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ack-severe-alert-threshold/ class=md-nav__link> ack-severe-alert-threshold </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ack-wait-threshold/ class=md-nav__link> ack-wait-threshold </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/allow-explicit-commit/ class=md-nav__link> allow-explicit-commit </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/archive-disk-space-limit/ class=md-nav__link> archive-disk-space-limit </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/archive-file-size-limit/ class=md-nav__link> archive-file-size-limit </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/bind-address/ class=md-nav__link> bind-address </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enable-network-partition-detection/ class=md-nav__link> enable-network-partition-detection </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enable-stats/ class=md-nav__link> enable-stats </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enable-time-statistics/ class=md-nav__link> enable-time-statistics </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enable-timestats/ class=md-nav__link> enable-timestats </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/enforce-unique-host/ class=md-nav__link> enforce-unique-host </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/init-scripts/ class=md-nav__link> init-scripts </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/load-balance/ class=md-nav__link> load-balance </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/locators/ class=md-nav__link> locators </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/log-file/ class=md-nav__link> log-file </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/log-level/ class=md-nav__link> log-level </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/member-timeout/ class=md-nav__link> member-timeout </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/membership-port-range/ class=md-nav__link> membership-port-range </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/password/ class=md-nav__link> password </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/read-timeout/ class=md-nav__link> read-timeout </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/redundancy-zone/ class=md-nav__link> redundancy-zone </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/secondary-locators/ class=md-nav__link> secondary-locators </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/skip-constraint-checks/ class=md-nav__link> skip-constraint-checks </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/skip-locks/ class=md-nav__link> skip-locks </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/socket-buffer-size/ class=md-nav__link> socket-buffer-size </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/socket-lease-time/ class=md-nav__link> socket-lease-time </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.datadictionary.allow-startup-errors/ class=md-nav__link> gemfirexd.datadictionary.allow-startup-errors </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.default-startup-recovery-delay/ class=md-nav__link> gemfirexd.default-startup-recovery-delay </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappy.history/ class=md-nav__link> snappy.history </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.max-lock-wait/ class=md-nav__link> gemfirexd.max-lock-wait </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.query-cancellation-interval/ class=md-nav__link> gemfirexd.query-cancellation-interval </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/snappydata.query-timeout/ class=md-nav__link> gemfirexd.query-timeout </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ssl_enabled/ class=md-nav__link> ssl-enabled </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ssl_protocols/ class=md-nav__link> ssl-protocols </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ssl_ciphers/ class=md-nav__link> ssl-ciphers </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/ssl_require_auth/ class=md-nav__link> ssl-require-authentication </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/start-locator/ class=md-nav__link> start-locator </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/statistic-archive-file/ class=md-nav__link> statistic-archive-file </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/statistic-sample-rate/ class=md-nav__link> statistic-sample-rate </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/statistic-sampling-enabled/ class=md-nav__link> statistic-sampling-enabled </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/sync-commits/ class=md-nav__link> sync-commits </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/sys-disk-dir/ class=md-nav__link> sys-disk-dir </a> </li> <li class=md-nav__item> <a href=../../reference/configuration_parameters/user/ class=md-nav__link> user </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/API_Reference/apireference_guide/ class=md-nav__link> SnappyData Spark extension API Reference Guide </a> </li> <li class=md-nav__item> <a href=/snappydata/apidocs class=md-nav__link> Full API Reference </a> </li> <li class=md-nav__item> <a href=../../reference/API_Reference/odbc_supported_apis/ class=md-nav__link> ODBC Supported API </a> </li> <li class=md-nav__item> <a href=../../reference/misc/supported_datatypes/ class=md-nav__link> Supported Data Types </a> </li> <li class=md-nav__item> <a href=../../reference/misc/passwordless_ssh/ class=md-nav__link> Configuring SSH Login without Password </a> </li> <li class=md-nav__item> <a href=../../setting_up_odbc_driver/ class=md-nav__link> Setting Up SnappyData ODBC Driver </a> </li> <li class=md-nav__item> <a href=../../setting_up_jdbc_driver_qlikview/ class=md-nav__link> Setting Up SnappyData JDBC Client and QlikView </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../experimental/ class=md-nav__link> Experimental Features </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_17 type=checkbox id=__nav_17> <div class="md-nav__link md-nav__link--index "> <a href=../../troubleshooting/ >Troubleshooting Common Problems</a> <label for=__nav_17> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Troubleshooting Common Problems" data-md-level=1> <label class=md-nav__title for=__nav_17> <span class="md-nav__icon md-icon"></span> Troubleshooting Common Problems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/member_startup_problems/ class=md-nav__link> Member Startup Problems </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/recovering_from_a_conflictingpersistentdataexception/ class=md-nav__link> Recovering from a ConflictingPersistentDataException </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/preventing_disk_full_errors/ class=md-nav__link> Preventing Disk Full Errors </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/recovering_from_disk_full_errors/ class=md-nav__link> Recovering from Disk Full Errors </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/catalog_inconsistency/ class=md-nav__link> Resolving Catalog Inconsistency Issues </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/oom/ class=md-nav__link> Troubleshooting Out-of-Memory (OOM) Error </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/collect_debug_artifacts/ class=md-nav__link> Collecting Logs, Stats and Dumps Using the collect-debug-artifacts Script </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/troubleshooting_error_messages/ class=md-nav__link> Troubleshooting Error Messages </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../unsupported/ class=md-nav__link> Unsupported Third-Party Modules </a> </li> <li class=md-nav__item> <a href=../../additional_files/open_source_components/ class=md-nav__link> Community Edition Features </a> </li> <li class=md-nav__item> <a href=../../prev_doc_ver/ class=md-nav__link> Doc Archives </a> </li> <li class=md-nav__item> <a href=../../techsupport/ class=md-nav__link> Contact and Support </a> </li> <li class=md-nav__item> <a href=../../LICENSE/ class=md-nav__link> License </a> </li> <li class=md-nav__item> <a href=../../imp_info/ class=md-nav__link> Important Information </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#handling-low-latency-vs-analytic-jobs class=md-nav__link> Handling Low Latency vs Analytic Jobs </a> </li> <li class=md-nav__item> <a href=#computing-the-number-of-cores-for-a-job class=md-nav__link> Computing the Number of Cores for a Job </a> </li> <li class=md-nav__item> <a href=#configuring-the-scheduler-pools-for-concurrency class=md-nav__link> Configuring the Scheduler Pools for Concurrency </a> <nav class=md-nav aria-label="Configuring the Scheduler Pools for Concurrency"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#controlling-cpu-usage-for-user-jobs class=md-nav__link> Controlling CPU Usage for User Jobs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-a-partitioning-strategy-to-increase-concurrency class=md-nav__link> Using a Partitioning Strategy to Increase Concurrency </a> </li> <li class=md-nav__item> <a href=#using-smart-connector-for-expanding-capacity-of-the-cluster class=md-nav__link> Using Smart Connector for Expanding Capacity of the Cluster </a> </li> <li class=md-nav__item> <a href=#disabling-hashjoinaggregate-for-cluster-stability class=md-nav__link> Disabling hashJoin/Aggregate for Cluster Stability </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/TIBCOSoftware/snappydata/edit/master/docs/best_practices/setup_cluster.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=tuning-for-concurrency-and-performance>Tuning for Concurrency and Performance<a class=headerlink href=#tuning-for-concurrency-and-performance title="Permanent link">&para;</a></h1> <h2 id=handling-low-latency-vs-analytic-jobs>Handling Low Latency vs Analytic Jobs<a class=headerlink href=#handling-low-latency-vs-analytic-jobs title="Permanent link">&para;</a></h2> <p>Unlike Spark, SnappyData can distinguish requests that are cheap (low latency) vs requests that require a lot of computational resources (high latency). This is done by a resource scheduler that can balance the needs of many contending users/threads.</p> <p>For instance, when a SQL client executes a ‘fetch by primary key’ query, there is no need to involve any scheduler or spawn many tasks for such a simple request. The request is immediately delegated to the data node (single thread) and the response is directly sent to the requesting client (probably within a few milliseconds). In the current version of the product, all query requests that filter on a primary key, a set of keys, or can directly filter using an index are executed without routing to the Job scheduler. Only Row tables can have primary keys or indexes.</p> <p>When the above conditions are not met, the request is routed to the ‘Lead’ node where the Spark plan is generated and ‘jobs’ are scheduled for execution. The scheduler uses a FAIR scheduling algorithm for higher concurrency, that is, all concurrent jobs are executed in a round-robin manner.</p> <p>Each job is made up of one or more stages and the planning phase computes the number of parallel tasks for the stage. Tasks from scheduled jobs are then allocated to the logical cores available until all cores are allocated. A round-robin algorithm picks a task from Job1, a task from Job2 and so on. If more cores are available, the second task from Job1 is picked and the cycle continues. But, there are circumstances a single job can completely consume all cores. For instance, when all cores are available, if a large loading job is scheduled it receives all available cores of which, each of the tasks can be long running. During this time, if other concurrent jobs are assigned, none of the executing tasks is preempted.</p> <p>So, with multiple concurrent users, it is best to avoid running such Jobs using the default high throughput pool.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This above scheduling logic is applicable only when queries are fully managed by SnappyData cluster. When running your application using the smart connector, each task running in the Spark cluster directly accesses the store partitions.</p> </div> <p><a id=computenoscores></a></p> <h2 id=computing-the-number-of-cores-for-a-job>Computing the Number of Cores for a Job<a class=headerlink href=#computing-the-number-of-cores-for-a-job title="Permanent link">&para;</a></h2> <p>Executing queries or code in SnappyData results in the creation of one or more Spark jobs. Each Spark job first calculates the number of partitions on the underlying dataset and a task is assigned and scheduled for each partition. But, the number of concurrent tasks executing is limited by the available core count. If the scheduled task count is larger then they will be executed in a staggered manner. Each task is assigned a single core to execute.</p> <p>By default, SnappyData sets total available spark executor cores on any data server to be 2 multiplied by the total number of physical cores on a machine.</p> <p><strong>Spark executor cores = 2 * C</strong> Where <strong>C</strong> = Total number of physical processor cores on a machine.</p> <p>This is done keeping in mind some threads which do the IO (Input/Output) reads while the other threads can get scheduled by the operating system. However, increasing this number does not improve query performance.</p> <p>If you start multiple SnappyData server instances on a machine, then <strong>spark.executor.cores</strong> should be explicitly set using the following formula:</p> <p><strong>spark executor cores = N * C </strong> Where <strong>N</strong> is the number of SnappyData server instaces started on the machine and <strong>C</strong> = Total number of physical processor cores on a machine.</p> <p>This can impact thread scheduling and query performance.</p> <p>Therefore, it is recommended that you maintain only one server per machine so that the total number of threads do not exceed more than twice the number of total physical cores. If you want to run more than one server on a machine, you can use the <strong>spark.executor.cores</strong> to override the number of cores per server. The cores should be divided accordingly and specified using the spark.executor.cores property.</p> <p><strong>Spark executor cores = 2 x total physical cores on a machine / No of servers per machine</strong></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>It is not recommended to reduce the heap size even if you start multiple servers per machine.</p> </div> <p>For example, for a cluster with 2 servers running on two different machines with 4 CPU cores each, a maximum number of tasks that can run concurrently is 16. If a table has 16 partitions (buckets, for the row or column tables), a scan query on this table creates 16 tasks. This means, 16 tasks run concurrently and the last task runs when one of these 16 tasks has finished execution.</p> <p>SnappyData uses an optimization method which joins multiple partitions on a single machine to form a single partition when there are fewer cores available. This reduces the overhead of scheduling partitions.</p> <p>In SnappyData, multiple queries can be executed concurrently, if they are submitted by different threads or different jobs. For concurrent queries, SnappyData uses fair scheduling to manage the available resources such that all the queries get a fair distribution of resources.</p> <p>For example, In the following figure, 6 cores are available on 3 systems, and 2 jobs have 4 tasks each. Because of fair scheduling, both jobs get 3 cores and hence three tasks per job execute concurrently.</p> <p>Pending tasks have to wait for the completion of the current tasks and are assigned to the core that is first available.</p> <p>When you add more servers to SnappyData, the processing capacity of the system increases in terms of available cores. Thus, more cores are available so more tasks can concurrently execute.</p> <p><img alt=Concurrency src=../../Images/core_concurrency.png></p> <h2 id=configuring-the-scheduler-pools-for-concurrency>Configuring the Scheduler Pools for Concurrency<a class=headerlink href=#configuring-the-scheduler-pools-for-concurrency title="Permanent link">&para;</a></h2> <p>SnappyData out of the box comes configured with two execution pools:</p> <ul> <li> <p><strong>Low-latency pool</strong>: This pool is automatically used when SnappyData determines that a request is of low latency, that is, the queries that are partition pruned to two or fewer partitions. </p> </li> <li> <p><strong>Default pool</strong>: This is the pool that is used for the remaining requests.</p> </li> </ul> <p>Two cores are statically assigned to the low latency pool. Also, the low latency pool has weight twice that of the default pool. Thus, if there are 30 cores available to an executor for a query that has 30 partitions, only 28 would be assigned to it and two cores would be reserved to not starve the low latency queries. When the system has both low latency and normal queries, 20 cores are used for the low latency queries as it has higher priority (weight=2). If a query requires all 30 partitions and no low latency queries are running at that time, all 30 cores are assigned to the first query. However, when a low latency query is assigned, the scheduler does its best to allocate cores as soon as tasks from the earlier query finish. </p> <p>Applications can explicitly configure to use a particular pool for the current session using a SQL configuration property, <code>snappydata.scheduler.pool</code>. For example, the <code>set snappydata.scheduler.pool=lowlatency</code> command sets the pool as low latency pool for the current session.</p> <p>New pools can be added and properties of the existing pools can be configured by modifying the <strong>conf/fairscheduler.xml</strong> file. We do not recommend changing the pool names (<code>default</code> and <code>lowlatency</code>).</p> <h3 id=controlling-cpu-usage-for-user-jobs>Controlling CPU Usage for User Jobs<a class=headerlink href=#controlling-cpu-usage-for-user-jobs title="Permanent link">&para;</a></h3> <p>You can control the CPU usage for user jobs by configuring separate pools for different kinds of jobs. See configuration <a href=https://spark.apache.org/docs/2.1.3/job-scheduling.html#configuring-pool-properties>here</a>. The product is configured with two out-of-the-box pools, that is the <strong>Default pool</strong> and the <strong>Low-latency pool</strong>. The <strong>Default pool</strong> has higher priority and also has a <strong>minShare</strong>, so that some minimum cores are reserved for those jobs if possible. The <a href=../../monitoring/monitoring/#stages><strong>Stages</strong></a> tab on the SnappyData Monitoring Console shows the available pools. When you track a job for an SQL query on the <a href=../../monitoring/monitoring/#sql><strong>SQL</strong></a> tab, it shows the pool that is used in the <strong>Pool Name</strong> column. In-built tasks such as ingestion can show lower priority pools by default to give priority to foreground queries. To configure such priority, do the following:</p> <ol> <li>Define the pools in <strong>conf/fairscheduler.xml</strong></li> <li>Set a pool for a job using Spark API or use <code>set snappydata.scheduler.pool</code> property in a SnappySession.</li> </ol> <p>To configure the priority based on specific requirements, you can also either permit the users to set the priority for queries or add some pool allocation logic in the application as per client requirements.</p> <h2 id=using-a-partitioning-strategy-to-increase-concurrency>Using a Partitioning Strategy to Increase Concurrency<a class=headerlink href=#using-a-partitioning-strategy-to-increase-concurrency title="Permanent link">&para;</a></h2> <p>The best way to increasing concurrency is to design your schema such that you minimize the need to run your queries across many partitions. The common strategy is to understand your application patterns and choose a partitioning strategy such that queries often target a specific partition. Such queries will be pruned to a single node and SnappyData automatically optimises such queries to use a single task. For more information see, <a href=../design_schema/ >How to design your schema</a>.</p> <h2 id=using-smart-connector-for-expanding-capacity-of-the-cluster>Using Smart Connector for Expanding Capacity of the Cluster<a class=headerlink href=#using-smart-connector-for-expanding-capacity-of-the-cluster title="Permanent link">&para;</a></h2> <p>One of the instances, when <a href=../../affinity_modes/connector_mode/ >SnappyData Smart connector mode</a> is useful, is when the computations is separate from the data. This allows you to increase the computational capacity without adding more servers to the SnappyData cluster. Thus, more executors can be provisioned for a Smart Connector application than the number of SnappyData servers. <br>Also, expensive batch jobs can be run in a separate Smart Connector application and it does not impact the performance of the SnappyData cluster. See, <a href=../../howto/spark_installation_using_smart_connector/ >How to Access SnappyData store from an Existing Spark Installation using Smart Connector</a>.</p> <h2 id=disabling-hashjoinaggregate-for-cluster-stability>Disabling hashJoin/Aggregate for Cluster Stability<a class=headerlink href=#disabling-hashjoinaggregate-for-cluster-stability title="Permanent link">&para;</a></h2> <p>SnappyData has its own operator for extremely fast joins/aggregates. One limitation of this operator is that it stores the objects in Java heap (Or Offheap , if the system is configured for it.). If heap size is small, it has the potential to cause Garbage Collection (GC) problems and eventually Out-of-memory (OOM) (If the heap (or offheap size) is small, it will no longer cause OOM (as the memory used by SHA is accounted for ), but the memory manager will cause the query to fail by throwing LowMemoryException). Sometimes, even if the heap size is large this can happen if there are many concurrent queries using these operators. If your use case is such that there will be many joins or aggregates with high cardinality then it is recommended to disable that hashJoin/hashAggregates.</p> <p>To disable hashJoin/hashAggregates for a particular session you can use the following:</p> <div class=highlight><pre><span></span><code><span class=k>set</span> <span class=n>snappydata</span><span class=p>.</span><span class=k>sql</span><span class=p>.</span><span class=n>hashAggregateSize</span><span class=o>=-</span><span class=mi>1</span>
<span class=k>set</span> <span class=n>snappydata</span><span class=p>.</span><span class=k>sql</span><span class=p>.</span><span class=n>hashJoinSize</span><span class=o>=-</span><span class=mi>1</span>
</code></pre></div> <p>To disable hashJoin/hashAggregates for every session, provide the same details in <strong>lead.conf</strong> file. For example:</p> <p><code>-snappydata.sql.hashAggregateSize=-1 -snappydata.sql.hashJoinSize=-1</code></p> <p>You must remember that for small dataset the hashJoin operator is much faster than sort merge join. So unless you have a query pattern that can cause high heap usage, it is recommended not to disable hashJoin/hashAggregates.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ class="md-footer__link md-footer__link--prev" aria-label="Previous: Best Practices" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Best Practices </div> </div> </a> <a href=../design_schema/ class="md-footer__link md-footer__link--next" aria-label="Next: Designing your Database and Schema" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Designing your Database and Schema </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright © 2017-2021 TIBCO Software Inc. All rights reserved. </div> </div> <div class=md-footer-generator> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.indexes", "navigation.top", "header.autohide"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.1e84347e.min.js></script> </body> </html>