<!DOCTYPE html >
<html>
        <head>
          <title>optimizer - snappydata_2.11 1.3.1 API - org.apache.spark.sql.catalyst.optimizer</title>
          <meta name="description" content="optimizer - snappydata 2.11 1.3.1 API - org.apache.spark.sql.catalyst.optimizer" />
          <meta name="keywords" content="optimizer snappydata 2.11 1.3.1 API org.apache.spark.sql.catalyst.optimizer" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../../../index.html';
            var hash = 'org.apache.spark.sql.catalyst.optimizer.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../../../../lib/package_big.png" />
        <p id="owner"><a href="../../../../../package.html" class="extype" name="org">org</a>.<a href="../../../../package.html" class="extype" name="org.apache">apache</a>.<a href="../../../package.html" class="extype" name="org.apache.spark">spark</a>.<a href="../../package.html" class="extype" name="org.apache.spark.sql">sql</a>.<a href="../package.html" class="extype" name="org.apache.spark.sql.catalyst">catalyst</a></p>
        <h1>optimizer</h1><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">optimizer</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="org.apache.spark.sql.catalyst.optimizer.CheckCartesianProducts" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="CheckCartesianProductsextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withPredicateHelperwithProductwithSerializable"></a>
      <a id="CheckCartesianProducts:CheckCartesianProducts"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="CheckCartesianProducts.html"><span class="name">CheckCartesianProducts</span></a><span class="params">(<span name="conf">conf: <a href="../package.html#CatalystConf=org.apache.spark.sql.internal.SQLConf" class="extmbr" name="org.apache.spark.sql.catalyst.CatalystConf">CatalystConf</a></span>)</span><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@CheckCartesianProductsextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withPredicateHelperwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Check if there any cartesian products between joins of any type in the optimized plan tree.</p><div class="fullcomment"><div class="comment cmt"><p>Check if there any cartesian products between joins of any type in the optimized plan tree.
Throw an error if a cartesian product is found without an explicit cross join specified.
This rule is effectively disabled if the CROSS_JOINS_ENABLED flag is true.</p><p>This rule must be run AFTER the ReorderJoin rule since the join conditions for each join must be
collected before checking if it is a cartesian product. If you have
SELECT * from R, S where R.r = S.s,
the join between R and S is not a cartesian product and therefore should be allowed.
The predicate R.r = S.s is not recognized as a join condition until the ReorderJoin rule.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.EliminateOuterJoin" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EliminateOuterJoinextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withPredicateHelperwithProductwithSerializable"></a>
      <a id="EliminateOuterJoin:EliminateOuterJoin"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="EliminateOuterJoin.html"><span class="name">EliminateOuterJoin</span></a><span class="params">(<span name="conf">conf: <a href="../package.html#CatalystConf=org.apache.spark.sql.internal.SQLConf" class="extmbr" name="org.apache.spark.sql.catalyst.CatalystConf">CatalystConf</a></span>)</span><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@EliminateOuterJoinextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withPredicateHelperwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Elimination of outer joins, if the predicates can restrict the result sets so that
all null-supplying rows are eliminated</p><div class="fullcomment"><div class="comment cmt"><p>Elimination of outer joins, if the predicates can restrict the result sets so that
all null-supplying rows are eliminated</p><p>- full outer -&gt; inner if both sides have such predicates
- left outer -&gt; inner if the right side has such predicates
- right outer -&gt; inner if the left side has such predicates
- full outer -&gt; left outer if only the left side has such predicates
- full outer -&gt; right outer if only the right side has such predicates</p><p>This rule should be executed before pushing down the Filter
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.GetCurrentDatabase" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="GetCurrentDatabaseextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withProductwithSerializable"></a>
      <a id="GetCurrentDatabase:GetCurrentDatabase"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="GetCurrentDatabase.html"><span class="name">GetCurrentDatabase</span></a><span class="params">(<span name="sessionCatalog">sessionCatalog: <a href="../catalog/SessionCatalog.html" class="extype" name="org.apache.spark.sql.catalyst.catalog.SessionCatalog">SessionCatalog</a></span>)</span><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@GetCurrentDatabaseextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Replaces the expression of CurrentDatabase with the current database name.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.InferFiltersFromConstraints" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="InferFiltersFromConstraintsextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withPredicateHelperwithProductwithSerializable"></a>
      <a id="InferFiltersFromConstraints:InferFiltersFromConstraints"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="InferFiltersFromConstraints.html"><span class="name">InferFiltersFromConstraints</span></a><span class="params">(<span name="conf">conf: <a href="../package.html#CatalystConf=org.apache.spark.sql.internal.SQLConf" class="extmbr" name="org.apache.spark.sql.catalyst.CatalystConf">CatalystConf</a></span>)</span><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@InferFiltersFromConstraintsextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withPredicateHelperwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Generate a list of additional filters from an operator's existing constraint but remove those
that are either already part of the operator's condition or are part of the operator's child
constraints.</p><div class="fullcomment"><div class="comment cmt"><p>Generate a list of additional filters from an operator's existing constraint but remove those
that are either already part of the operator's condition or are part of the operator's child
constraints. These filters are currently inserted to the existing conditions in the Filter
operators and on either side of Join operators.</p><p>Note: While this optimization is applicable to all types of join, it primarily benefits Inner and
LeftSemi joins.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.OptimizeCodegen" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="OptimizeCodegenextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withProductwithSerializable"></a>
      <a id="OptimizeCodegen:OptimizeCodegen"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="OptimizeCodegen.html"><span class="name">OptimizeCodegen</span></a><span class="params">(<span name="conf">conf: <a href="../package.html#CatalystConf=org.apache.spark.sql.internal.SQLConf" class="extmbr" name="org.apache.spark.sql.catalyst.CatalystConf">CatalystConf</a></span>)</span><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@OptimizeCodegenextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Optimizes expressions by replacing according to CodeGen configuration.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.OptimizeIn" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="OptimizeInextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withProductwithSerializable"></a>
      <a id="OptimizeIn:OptimizeIn"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="OptimizeIn.html"><span class="name">OptimizeIn</span></a><span class="params">(<span name="conf">conf: <a href="../package.html#CatalystConf=org.apache.spark.sql.internal.SQLConf" class="extmbr" name="org.apache.spark.sql.catalyst.CatalystConf">CatalystConf</a></span>)</span><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@OptimizeInextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Optimize IN predicates:
1.</p><div class="fullcomment"><div class="comment cmt"><p>Optimize IN predicates:
1. Removes literal repetitions.
2. Replaces <span class="extype" name="In">(value, seq[Literal])</span> with optimized version
   <span class="extype" name="InSet">(value, HashSet[Literal])</span> which is much faster.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.Optimizer" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="OptimizerextendsRuleExecutor[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]"></a>
      <a id="Optimizer:Optimizer"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="Optimizer.html"><span class="name">Optimizer</span></a><span class="result"> extends <a href="../rules/RuleExecutor.html" class="extype" name="org.apache.spark.sql.catalyst.rules.RuleExecutor">RuleExecutor</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@OptimizerextendsRuleExecutor[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Abstract class all optimizers should inherit of, contains the standard batches (extending
Optimizers can override this.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.PruneFilters" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="PruneFiltersextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withPredicateHelperwithProductwithSerializable"></a>
      <a id="PruneFilters:PruneFilters"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="PruneFilters.html"><span class="name">PruneFilters</span></a><span class="params">(<span name="conf">conf: <a href="../package.html#CatalystConf=org.apache.spark.sql.internal.SQLConf" class="extmbr" name="org.apache.spark.sql.catalyst.CatalystConf">CatalystConf</a></span>)</span><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@PruneFiltersextendsRule[org.apache.spark.sql.catalyst.plans.logical.LogicalPlan]withPredicateHelperwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Removes filters that can be evaluated trivially.</p><div class="fullcomment"><div class="comment cmt"><p>Removes filters that can be evaluated trivially.  This can be done through the following ways:
1) by eliding the filter for cases where it will always evaluate to <code>true</code>.
2) by substituting a dummy empty relation when the filter will always evaluate to <code>false</code>.
3) by eliminating the always-true conditions given the constraints on the child's output.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.SimpleTestOptimizer" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="SimpleTestOptimizerextendsOptimizer"></a>
      <a id="SimpleTestOptimizer:SimpleTestOptimizer"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="SimpleTestOptimizer.html"><span class="name">SimpleTestOptimizer</span></a><span class="result"> extends <a href="Optimizer.html" class="extype" name="org.apache.spark.sql.catalyst.optimizer.Optimizer">Optimizer</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@SimpleTestOptimizerextendsOptimizer" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="org.apache.spark.sql.catalyst.optimizer.BooleanSimplification" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="BooleanSimplification"></a>
      <a id="BooleanSimplification:BooleanSimplification"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="BooleanSimplification$.html"><span class="name">BooleanSimplification</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@BooleanSimplification" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Simplifies boolean expressions:
1.</p><div class="fullcomment"><div class="comment cmt"><p>Simplifies boolean expressions:
1. Simplifies expressions whose answer can be determined without evaluating both sides.
2. Eliminates / extracts common factors.
3. Merge same expressions
4. Removes <code>Not</code> operator.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.CollapseProject" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="CollapseProject"></a>
      <a id="CollapseProject:CollapseProject"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="CollapseProject$.html"><span class="name">CollapseProject</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@CollapseProject" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Combines two adjacent <span class="extype" name="Project">Project</span> operators into one and perform alias substitution,
merging the expressions into one single expression.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.CollapseRepartition" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="CollapseRepartition"></a>
      <a id="CollapseRepartition:CollapseRepartition"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="CollapseRepartition$.html"><span class="name">CollapseRepartition</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@CollapseRepartition" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Combines adjacent <span class="extype" name="Repartition">Repartition</span> and <span class="extype" name="RepartitionByExpression">RepartitionByExpression</span> operator combinations
by keeping only the one.</p><div class="fullcomment"><div class="comment cmt"><p>Combines adjacent <span class="extype" name="Repartition">Repartition</span> and <span class="extype" name="RepartitionByExpression">RepartitionByExpression</span> operator combinations
by keeping only the one.
1. For adjacent <span class="extype" name="Repartition">Repartition</span>s, collapse into the last <span class="extype" name="Repartition">Repartition</span>.
2. For adjacent <span class="extype" name="RepartitionByExpression">RepartitionByExpression</span>s, collapse into the last <span class="extype" name="RepartitionByExpression">RepartitionByExpression</span>.
3. For a combination of <span class="extype" name="Repartition">Repartition</span> and <span class="extype" name="RepartitionByExpression">RepartitionByExpression</span>, collapse as a single
   <span class="extype" name="RepartitionByExpression">RepartitionByExpression</span> with the expression and last number of partition.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.CollapseWindow" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="CollapseWindow"></a>
      <a id="CollapseWindow:CollapseWindow"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="CollapseWindow$.html"><span class="name">CollapseWindow</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@CollapseWindow" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Collapse Adjacent Window Expression.</p><div class="fullcomment"><div class="comment cmt"><p>Collapse Adjacent Window Expression.
- If the partition specs and order specs are the same and the window expression are
  independent, collapse into the parent.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ColumnPruning" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ColumnPruning"></a>
      <a id="ColumnPruning:ColumnPruning"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ColumnPruning$.html"><span class="name">ColumnPruning</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ColumnPruning" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Attempts to eliminate the reading of unneeded columns from the query plan.</p><div class="fullcomment"><div class="comment cmt"><p>Attempts to eliminate the reading of unneeded columns from the query plan.</p><p>Since adding Project before Filter conflicts with PushPredicatesThroughProject, this rule will
remove the Project p2 in the following pattern:</p><p>  p1 @ Project(_, Filter(_, p2 @ Project(_, child))) if p2.outputSet.subsetOf(p2.inputSet)</p><p>p2 is usually inserted by this rule and useless, p1 could prune the columns anyway.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.CombineFilters" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="CombineFilters"></a>
      <a id="CombineFilters:CombineFilters"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="CombineFilters$.html"><span class="name">CombineFilters</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@CombineFilters" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Combines two adjacent <span class="extype" name="Filter">Filter</span> operators into one, merging the non-redundant conditions into
one conjunctive predicate.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.CombineLimits" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="CombineLimits"></a>
      <a id="CombineLimits:CombineLimits"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="CombineLimits$.html"><span class="name">CombineLimits</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@CombineLimits" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Combines two adjacent <span class="extype" name="Limit">Limit</span> operators into one, merging the
expressions into one single expression.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.CombineTypedFilters" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="CombineTypedFilters"></a>
      <a id="CombineTypedFilters:CombineTypedFilters"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="CombineTypedFilters$.html"><span class="name">CombineTypedFilters</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@CombineTypedFilters" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Combines two adjacent <span class="extype" name="TypedFilter">TypedFilter</span>s, which operate on same type object in condition, into one,
mering the filter functions into one conjunctive function.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.CombineUnions" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="CombineUnions"></a>
      <a id="CombineUnions:CombineUnions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="CombineUnions$.html"><span class="name">CombineUnions</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@CombineUnions" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Combines all adjacent <span class="extype" name="Union">Union</span> operators into a single <span class="extype" name="Union">Union</span>.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ComputeCurrentTime" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ComputeCurrentTime"></a>
      <a id="ComputeCurrentTime:ComputeCurrentTime"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ComputeCurrentTime$.html"><span class="name">ComputeCurrentTime</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ComputeCurrentTime" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Computes the current date and time to make sure we return the same result in a single query.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ConstantFolding" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ConstantFolding"></a>
      <a id="ConstantFolding:ConstantFolding"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ConstantFolding$.html"><span class="name">ConstantFolding</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ConstantFolding" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Replaces <span class="extype" name="Expression">Expressions</span> that can be statically evaluated with
equivalent <span class="extype" name="Literal">Literal</span> values.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ConvertToLocalRelation" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ConvertToLocalRelation"></a>
      <a id="ConvertToLocalRelation:ConvertToLocalRelation"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ConvertToLocalRelation$.html"><span class="name">ConvertToLocalRelation</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ConvertToLocalRelation" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Converts local operations (i.e.</p><div class="fullcomment"><div class="comment cmt"><p>Converts local operations (i.e. ones that don't require data exchange) on LocalRelation to
another LocalRelation.</p><p>This is relatively simple as it currently handles only a single case: Project.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.DecimalAggregates" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="DecimalAggregates"></a>
      <a id="DecimalAggregates:DecimalAggregates"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="DecimalAggregates$.html"><span class="name">DecimalAggregates</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@DecimalAggregates" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Speeds up aggregates on fixed-precision decimals by executing them on unscaled Long values.</p><div class="fullcomment"><div class="comment cmt"><p>Speeds up aggregates on fixed-precision decimals by executing them on unscaled Long values.</p><p>This uses the same rules for increasing the precision and scale of the output as
<a href="../analysis/DecimalPrecision$.html" class="extype" name="org.apache.spark.sql.catalyst.analysis.DecimalPrecision">org.apache.spark.sql.catalyst.analysis.DecimalPrecision</a>.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.EliminateSerialization" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EliminateSerialization"></a>
      <a id="EliminateSerialization:EliminateSerialization"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="EliminateSerialization$.html"><span class="name">EliminateSerialization</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@EliminateSerialization" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Removes cases where we are unnecessarily going between the object and serialized (InternalRow)
representation of data item.</p><div class="fullcomment"><div class="comment cmt"><p>Removes cases where we are unnecessarily going between the object and serialized (InternalRow)
representation of data item.  For example back to back map operations.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.EliminateSorts" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="EliminateSorts"></a>
      <a id="EliminateSorts:EliminateSorts"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="EliminateSorts$.html"><span class="name">EliminateSorts</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@EliminateSorts" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Removes no-op SortOrder from Sort
</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.FoldablePropagation" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="FoldablePropagation"></a>
      <a id="FoldablePropagation:FoldablePropagation"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="FoldablePropagation$.html"><span class="name">FoldablePropagation</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@FoldablePropagation" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Propagate foldable expressions:
Replace attributes with aliases of the original foldable expressions if possible.</p><div class="fullcomment"><div class="comment cmt"><p>Propagate foldable expressions:
Replace attributes with aliases of the original foldable expressions if possible.
Other optimizations will take advantage of the propagated foldable expressions.</p><pre>SELECT <span class="num">1.0</span> x, <span class="lit">'abc'</span> y, Now() z ORDER BY x, y, <span class="num">3</span>
=<span class="kw">=&gt;</span>  SELECT <span class="num">1.0</span> x, <span class="lit">'abc'</span> y, Now() z ORDER BY <span class="num">1.0</span>, <span class="lit">'abc'</span>, Now()</pre></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.LikeSimplification" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="LikeSimplification"></a>
      <a id="LikeSimplification:LikeSimplification"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="LikeSimplification$.html"><span class="name">LikeSimplification</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@LikeSimplification" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Simplifies LIKE expressions that do not need full regular expressions to evaluate the condition.</p><div class="fullcomment"><div class="comment cmt"><p>Simplifies LIKE expressions that do not need full regular expressions to evaluate the condition.
For example, when the expression is just checking to see if a string starts with a given
pattern.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.LimitPushDown" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="LimitPushDown"></a>
      <a id="LimitPushDown:LimitPushDown"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="LimitPushDown$.html"><span class="name">LimitPushDown</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@LimitPushDown" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Pushes down <span class="extype" name="LocalLimit">LocalLimit</span> beneath UNION ALL and beneath the streamed inputs of outer joins.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.NullPropagation" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="NullPropagation"></a>
      <a id="NullPropagation:NullPropagation"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="NullPropagation$.html"><span class="name">NullPropagation</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@NullPropagation" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Replaces <span class="extype" name="Expression">Expressions</span> that can be statically evaluated with
equivalent <span class="extype" name="Literal">Literal</span> values.</p><div class="fullcomment"><div class="comment cmt"><p>Replaces <span class="extype" name="Expression">Expressions</span> that can be statically evaluated with
equivalent <span class="extype" name="Literal">Literal</span> values. This rule is more specific with
Null value propagation from bottom to top of the expression tree.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.PropagateEmptyRelation" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="PropagateEmptyRelation"></a>
      <a id="PropagateEmptyRelation:PropagateEmptyRelation"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="PropagateEmptyRelation$.html"><span class="name">PropagateEmptyRelation</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@PropagateEmptyRelation" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Collapse plans consisting empty local relations generated by <a href="PruneFilters.html" class="extype" name="org.apache.spark.sql.catalyst.optimizer.PruneFilters">PruneFilters</a>.</p><div class="fullcomment"><div class="comment cmt"><p>Collapse plans consisting empty local relations generated by <a href="PruneFilters.html" class="extype" name="org.apache.spark.sql.catalyst.optimizer.PruneFilters">PruneFilters</a>.
1. Binary(or Higher)-node Logical Plans</p><ul><li>Union with all empty children.</li><li>Join with one or two empty children (including Intersect/Except).
2. Unary-node Logical Plans</li><li>Project/Filter/Sample/Join/Limit/Repartition with all empty children.</li><li>Aggregate with all empty children and at least one grouping expression.</li><li>Generate(Explode) with all empty children. Others like Hive UDTF may return results.
</li></ul></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.PushDownPredicate" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="PushDownPredicate"></a>
      <a id="PushDownPredicate:PushDownPredicate"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="PushDownPredicate$.html"><span class="name">PushDownPredicate</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@PushDownPredicate" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Pushes <span class="extype" name="Filter">Filter</span> operators through many operators iff:
1) the operator is deterministic
2) the predicate is deterministic and the operator will not change any of rows.</p><div class="fullcomment"><div class="comment cmt"><p>Pushes <span class="extype" name="Filter">Filter</span> operators through many operators iff:
1) the operator is deterministic
2) the predicate is deterministic and the operator will not change any of rows.</p><p>This heuristic is valid assuming the expression evaluation cost is minimal.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.PushPredicateThroughJoin" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="PushPredicateThroughJoin"></a>
      <a id="PushPredicateThroughJoin:PushPredicateThroughJoin"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="PushPredicateThroughJoin$.html"><span class="name">PushPredicateThroughJoin</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@PushPredicateThroughJoin" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Pushes down <span class="extype" name="Filter">Filter</span> operators where the <code>condition</code> can be
evaluated using only the attributes of the left or right side of a join.</p><div class="fullcomment"><div class="comment cmt"><p>Pushes down <span class="extype" name="Filter">Filter</span> operators where the <code>condition</code> can be
evaluated using only the attributes of the left or right side of a join.  Other
<span class="extype" name="Filter">Filter</span> conditions are moved into the <code>condition</code> of the <span class="extype" name="Join">Join</span>.</p><p>And also pushes down the join filter, where the <code>condition</code> can be evaluated using only the
attributes of the left or right side of sub query when applicable.</p><p>Check https://cwiki.apache.org/confluence/display/Hive/OuterJoinBehavior for more details
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.PushProjectionThroughUnion" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="PushProjectionThroughUnion"></a>
      <a id="PushProjectionThroughUnion:PushProjectionThroughUnion"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="PushProjectionThroughUnion$.html"><span class="name">PushProjectionThroughUnion</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@PushProjectionThroughUnion" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Pushes Project operator to both sides of a Union operator.</p><div class="fullcomment"><div class="comment cmt"><p>Pushes Project operator to both sides of a Union operator.
Operations that are safe to pushdown are listed as follows.
Union:
Right now, Union means UNION ALL, which does not de-duplicate rows. So, it is
safe to pushdown Filters and Projections through it. Filter pushdown is handled by another
rule PushDownPredicate. Once we add UNION DISTINCT, we will not be able to pushdown Projections.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.RemoveDispensableExpressions" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RemoveDispensableExpressions"></a>
      <a id="RemoveDispensableExpressions:RemoveDispensableExpressions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RemoveDispensableExpressions$.html"><span class="name">RemoveDispensableExpressions</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@RemoveDispensableExpressions" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Removes nodes that are not necessary.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.RemoveLiteralFromGroupExpressions" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RemoveLiteralFromGroupExpressions"></a>
      <a id="RemoveLiteralFromGroupExpressions:RemoveLiteralFromGroupExpressions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RemoveLiteralFromGroupExpressions$.html"><span class="name">RemoveLiteralFromGroupExpressions</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@RemoveLiteralFromGroupExpressions" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Removes literals from group expressions in <span class="extype" name="Aggregate">Aggregate</span>, as they have no effect to the result
but only makes the grouping key bigger.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.RemoveRedundantAliases" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="RemoveRedundantAliases"></a>
      <a id="RemoveRedundantAliases:RemoveRedundantAliases"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RemoveRedundantAliases$.html"><span class="name">RemoveRedundantAliases</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@RemoveRedundantAliases" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Remove redundant aliases from a query plan.</p><div class="fullcomment"><div class="comment cmt"><p>Remove redundant aliases from a query plan. A redundant alias is an alias that does not change
the name or metadata of a column, and does not deduplicate it.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.RemoveRedundantProject" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RemoveRedundantProject"></a>
      <a id="RemoveRedundantProject:RemoveRedundantProject"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RemoveRedundantProject$.html"><span class="name">RemoveRedundantProject</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@RemoveRedundantProject" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Remove projections from the query plan that do not make any modifications.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.RemoveRepetitionFromGroupExpressions" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RemoveRepetitionFromGroupExpressions"></a>
      <a id="RemoveRepetitionFromGroupExpressions:RemoveRepetitionFromGroupExpressions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RemoveRepetitionFromGroupExpressions$.html"><span class="name">RemoveRepetitionFromGroupExpressions</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@RemoveRepetitionFromGroupExpressions" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Removes repetition from group expressions in <span class="extype" name="Aggregate">Aggregate</span>, as they have no effect to the result
but only makes the grouping key bigger.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ReorderAssociativeOperator" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ReorderAssociativeOperator"></a>
      <a id="ReorderAssociativeOperator:ReorderAssociativeOperator"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ReorderAssociativeOperator$.html"><span class="name">ReorderAssociativeOperator</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ReorderAssociativeOperator" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Reorder associative integral-type operators and fold all constants into one.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ReorderJoin" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ReorderJoin"></a>
      <a id="ReorderJoin:ReorderJoin"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ReorderJoin$.html"><span class="name">ReorderJoin</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ReorderJoin" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Reorder the joins and push all the conditions into join, so that the bottom ones have at least
one condition.</p><div class="fullcomment"><div class="comment cmt"><p>Reorder the joins and push all the conditions into join, so that the bottom ones have at least
one condition.</p><p>The order of joins will not be changed if all of them already have at least one condition.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ReplaceDistinctWithAggregate" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ReplaceDistinctWithAggregate"></a>
      <a id="ReplaceDistinctWithAggregate:ReplaceDistinctWithAggregate"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ReplaceDistinctWithAggregate$.html"><span class="name">ReplaceDistinctWithAggregate</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ReplaceDistinctWithAggregate" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Replaces logical <span class="extype" name="Distinct">Distinct</span> operator with an <span class="extype" name="Aggregate">Aggregate</span> operator.</p><div class="fullcomment"><div class="comment cmt"><p>Replaces logical <span class="extype" name="Distinct">Distinct</span> operator with an <span class="extype" name="Aggregate">Aggregate</span> operator.</p><pre>SELECT DISTINCT f1, f2 FROM t  =<span class="kw">=&gt;</span>  SELECT f1, f2 FROM t GROUP BY f1, f2</pre></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ReplaceExceptWithAntiJoin" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ReplaceExceptWithAntiJoin"></a>
      <a id="ReplaceExceptWithAntiJoin:ReplaceExceptWithAntiJoin"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ReplaceExceptWithAntiJoin$.html"><span class="name">ReplaceExceptWithAntiJoin</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ReplaceExceptWithAntiJoin" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Replaces logical <span class="extype" name="Except">Except</span> operator with a left-anti <span class="extype" name="Join">Join</span> operator.</p><div class="fullcomment"><div class="comment cmt"><p>Replaces logical <span class="extype" name="Except">Except</span> operator with a left-anti <span class="extype" name="Join">Join</span> operator.</p><pre>SELECT a1, a2 FROM Tab1 EXCEPT SELECT b1, b2 FROM Tab2
=<span class="kw">=&gt;</span>  SELECT DISTINCT a1, a2 FROM Tab1 LEFT ANTI JOIN Tab2 ON a1&lt;<span class="kw">=&gt;</span>b1 AND a2&lt;<span class="kw">=&gt;</span>b2</pre><p>Note:
1. This rule is only applicable to EXCEPT DISTINCT. Do not use it for EXCEPT ALL.
2. This rule has to be done after de-duplicating the attributes; otherwise, the generated
   join conditions will be incorrect.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ReplaceExpressions" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ReplaceExpressions"></a>
      <a id="ReplaceExpressions:ReplaceExpressions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ReplaceExpressions$.html"><span class="name">ReplaceExpressions</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ReplaceExpressions" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Finds all <span class="extype" name="RuntimeReplaceable">RuntimeReplaceable</span> expressions and replace them with the expressions that can
be evaluated.</p><div class="fullcomment"><div class="comment cmt"><p>Finds all <span class="extype" name="RuntimeReplaceable">RuntimeReplaceable</span> expressions and replace them with the expressions that can
be evaluated. This is mainly used to provide compatibility with other databases.
For example, we use this to support &quot;nvl&quot; by replacing it with &quot;coalesce&quot;.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.ReplaceIntersectWithSemiJoin" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ReplaceIntersectWithSemiJoin"></a>
      <a id="ReplaceIntersectWithSemiJoin:ReplaceIntersectWithSemiJoin"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ReplaceIntersectWithSemiJoin$.html"><span class="name">ReplaceIntersectWithSemiJoin</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@ReplaceIntersectWithSemiJoin" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Replaces logical <span class="extype" name="Intersect">Intersect</span> operator with a left-semi <span class="extype" name="Join">Join</span> operator.</p><div class="fullcomment"><div class="comment cmt"><p>Replaces logical <span class="extype" name="Intersect">Intersect</span> operator with a left-semi <span class="extype" name="Join">Join</span> operator.</p><pre>SELECT a1, a2 FROM Tab1 INTERSECT SELECT b1, b2 FROM Tab2
=<span class="kw">=&gt;</span>  SELECT DISTINCT a1, a2 FROM Tab1 LEFT SEMI JOIN Tab2 ON a1&lt;<span class="kw">=&gt;</span>b1 AND a2&lt;<span class="kw">=&gt;</span>b2</pre><p>Note:
1. This rule is only applicable to INTERSECT DISTINCT. Do not use it for INTERSECT ALL.
2. This rule has to be done after de-duplicating the attributes; otherwise, the generated
   join conditions will be incorrect.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.RewriteCorrelatedScalarSubquery" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RewriteCorrelatedScalarSubquery"></a>
      <a id="RewriteCorrelatedScalarSubquery:RewriteCorrelatedScalarSubquery"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RewriteCorrelatedScalarSubquery$.html"><span class="name">RewriteCorrelatedScalarSubquery</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@RewriteCorrelatedScalarSubquery" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">This rule rewrites correlated <span class="extype" name="ScalarSubquery">ScalarSubquery</span> expressions into LEFT OUTER joins.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.RewriteDistinctAggregates" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="RewriteDistinctAggregates"></a>
      <a id="RewriteDistinctAggregates:RewriteDistinctAggregates"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RewriteDistinctAggregates$.html"><span class="name">RewriteDistinctAggregates</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@RewriteDistinctAggregates" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">This rule rewrites an aggregate query with distinct aggregations into an expanded double
aggregation in which the regular aggregation expressions and every distinct clause is aggregated
in a separate group.</p><div class="fullcomment"><div class="comment cmt"><p>This rule rewrites an aggregate query with distinct aggregations into an expanded double
aggregation in which the regular aggregation expressions and every distinct clause is aggregated
in a separate group. The results are then combined in a second aggregate.</p><p>For example (in scala):</p><pre><span class="kw">val</span> data = <span class="std">Seq</span>(
  (<span class="lit">"a"</span>, <span class="lit">"ca1"</span>, <span class="lit">"cb1"</span>, <span class="num">10</span>),
  (<span class="lit">"a"</span>, <span class="lit">"ca1"</span>, <span class="lit">"cb2"</span>, <span class="num">5</span>),
  (<span class="lit">"b"</span>, <span class="lit">"ca1"</span>, <span class="lit">"cb1"</span>, <span class="num">13</span>))
  .toDF(<span class="lit">"key"</span>, <span class="lit">"cat1"</span>, <span class="lit">"cat2"</span>, <span class="lit">"value"</span>)
data.createOrReplaceTempView(<span class="lit">"data"</span>)

<span class="kw">val</span> agg = data.groupBy($<span class="lit">"key"</span>)
  .agg(
    countDistinct($<span class="lit">"cat1"</span>).as(<span class="lit">"cat1_cnt"</span>),
    countDistinct($<span class="lit">"cat2"</span>).as(<span class="lit">"cat2_cnt"</span>),
    sum($<span class="lit">"value"</span>).as(<span class="lit">"total"</span>))</pre><p>This translates to the following (pseudo) logical plan:</p><pre>Aggregate(
   key = ['key]
   functions = [COUNT(DISTINCT 'cat1),
                COUNT(DISTINCT 'cat2),
                sum('value)]
   output = [<span class="lit">'key, '</span>cat1_cnt, 'cat2_cnt, 'total])
  LocalTableScan [...]</pre><p>This rule rewrites this logical plan to the following (pseudo) logical plan:</p><pre>Aggregate(
   key = ['key]
   functions = [count(<span class="kw">if</span> (('gid = <span class="num">1</span>)) 'cat1 <span class="kw">else</span> <span class="kw">null</span>),
                count(<span class="kw">if</span> (('gid = <span class="num">2</span>)) 'cat2 <span class="kw">else</span> <span class="kw">null</span>),
                first(<span class="kw">if</span> (('gid = <span class="num">0</span>)) 'total <span class="kw">else</span> <span class="kw">null</span>) ignore nulls]
   output = [<span class="lit">'key, '</span>cat1_cnt, 'cat2_cnt, 'total])
  Aggregate(
     key = [<span class="lit">'key, '</span>cat1, <span class="lit">'cat2, '</span>gid]
     functions = [sum('value)]
     output = [<span class="lit">'key, '</span>cat1, <span class="lit">'cat2, '</span>gid, 'total])
    Expand(
       projections = [('key, <span class="kw">null</span>, <span class="kw">null</span>, <span class="num">0</span>, cast('value as bigint)),
                      (<span class="lit">'key, '</span>cat1, <span class="kw">null</span>, <span class="num">1</span>, <span class="kw">null</span>),
                      ('key, <span class="kw">null</span>, 'cat2, <span class="num">2</span>, <span class="kw">null</span>)]
       output = [<span class="lit">'key, '</span>cat1, <span class="lit">'cat2, '</span>gid, 'value])
      LocalTableScan [...]</pre><p>The rule does the following things here:
1. Expand the data. There are three aggregation groups in this query:</p><ol class="lowerRoman"><li>the non-distinct group;
   ii. the distinct 'cat1 group;
   iii. the distinct 'cat2 group.
   An expand operator is inserted to expand the child data for each group. The expand will null
   out all unused columns for the given group; this must be done in order to ensure correctness
   later on. Groups can by identified by a group id (gid) column added by the expand operator.
2. De-duplicate the distinct paths and aggregate the non-aggregate path. The group by clause of
   this aggregate consists of the original group by clause, all the requested distinct columns
   and the group id. Both de-duplication of distinct column and the aggregation of the
   non-distinct group take advantage of the fact that we group by the group id (gid) and that we
   have nulled out all non-relevant columns the given group.
3. Aggregating the distinct groups and combining this with the results of the non-distinct
   aggregation. In this step we use the group id to filter the inputs for the aggregate
   functions. The result of the non-distinct group are 'aggregated' by using the first operator,
   it might be more elegant to use the native UDAF merge mechanism for this in the future.</li></ol><p>This rule duplicates the input data by two or more times (# distinct groups + an optional
non-distinct group). This will put quite a bit of memory pressure of the used aggregate and
exchange operators. Keeping the number of distinct groups as low a possible should be priority,
we could improve this in the current rule by applying more advanced expression canonicalization
techniques.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.RewritePredicateSubquery" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="RewritePredicateSubquery"></a>
      <a id="RewritePredicateSubquery:RewritePredicateSubquery"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RewritePredicateSubquery$.html"><span class="name">RewritePredicateSubquery</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@RewritePredicateSubquery" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">This rule rewrites predicate sub-queries into left semi/anti joins.</p><div class="fullcomment"><div class="comment cmt"><p>This rule rewrites predicate sub-queries into left semi/anti joins. The following predicates
are supported:
a. EXISTS/NOT EXISTS will be rewritten as semi/anti join, unresolved conditions in Filter
   will be pulled out as the join conditions.
b. IN/NOT IN will be rewritten as semi/anti join, unresolved conditions in the Filter will
   be pulled out as join conditions, value = selected column will also be used as join
   condition.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.SimpleTestOptimizer" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="SimpleTestOptimizer"></a>
      <a id="SimpleTestOptimizer:SimpleTestOptimizer"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="SimpleTestOptimizer$.html"><span class="name">SimpleTestOptimizer</span></a><span class="result"> extends <a href="SimpleTestOptimizer.html" class="extype" name="org.apache.spark.sql.catalyst.optimizer.SimpleTestOptimizer">SimpleTestOptimizer</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@SimpleTestOptimizer" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">An optimizer used in test code.</p><div class="fullcomment"><div class="comment cmt"><p>An optimizer used in test code.</p><p>To ensure extendability, we leave the standard rules in the abstract optimizer rules, while
specific rules go to the subclasses
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.SimplifyBinaryComparison" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="SimplifyBinaryComparison"></a>
      <a id="SimplifyBinaryComparison:SimplifyBinaryComparison"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="SimplifyBinaryComparison$.html"><span class="name">SimplifyBinaryComparison</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@SimplifyBinaryComparison" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Simplifies binary comparisons with semantically-equal expressions:
1) Replace '&lt;=&gt;' with 'true' literal.</p><div class="fullcomment"><div class="comment cmt"><p>Simplifies binary comparisons with semantically-equal expressions:
1) Replace '&lt;=&gt;' with 'true' literal.
2) Replace '=', '&lt;=', and '&gt;=' with 'true' literal if both operands are non-nullable.
3) Replace '&lt;' and '&gt;' with 'false' literal if both operands are non-nullable.
</p></div></div>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.SimplifyCaseConversionExpressions" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="SimplifyCaseConversionExpressions"></a>
      <a id="SimplifyCaseConversionExpressions:SimplifyCaseConversionExpressions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="SimplifyCaseConversionExpressions$.html"><span class="name">SimplifyCaseConversionExpressions</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@SimplifyCaseConversionExpressions" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Removes the inner case conversion expressions that are unnecessary because
the inner conversion is overwritten by the outer one.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.SimplifyCasts" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="SimplifyCasts"></a>
      <a id="SimplifyCasts:SimplifyCasts"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="SimplifyCasts$.html"><span class="name">SimplifyCasts</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@SimplifyCasts" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Removes <span class="extype" name="Cast">Casts</span> that are unnecessary because the input is already the correct type.</p>
    </li><li name="org.apache.spark.sql.catalyst.optimizer.SimplifyConditionals" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="SimplifyConditionals"></a>
      <a id="SimplifyConditionals:SimplifyConditionals"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="SimplifyConditionals$.html"><span class="name">SimplifyConditionals</span></a><span class="result"> extends <a href="../rules/Rule.html" class="extype" name="org.apache.spark.sql.catalyst.rules.Rule">Rule</a>[<a href="../plans/logical/LogicalPlan.html" class="extype" name="org.apache.spark.sql.catalyst.plans.logical.LogicalPlan">LogicalPlan</a>] with <a href="../expressions/PredicateHelper.html" class="extype" name="org.apache.spark.sql.catalyst.expressions.PredicateHelper">PredicateHelper</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.sql.catalyst.optimizer.package@SimplifyConditionals" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Simplifies conditional expressions (if / case).</p>
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
