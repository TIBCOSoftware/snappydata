<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project documentation for SnappyData"><meta name=author content="SnappyData Team"><link href=https://tibcosoftware.github.io/snappydata/1.3.1/jobs/ rel=canonical><link rel=icon href=../favicon.ico><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.10"><title>Jobs - SnappyData™ 1.3.1</title><link rel=stylesheet href=../assets/stylesheets/main.472b142f.min.css><link rel=stylesheet href=../assets/stylesheets/palette.08040f6c.min.css><meta name=theme-color content=#009485><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Lato";--md-code-font:"Fira Mono"}</style><link rel=stylesheet href=../extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#building-snappy-applications-using-spark-api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="SnappyData™ 1.3.1" class="md-header__button md-logo" aria-label="SnappyData™ 1.3.1" data-md-component=logo> <img src=../Images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SnappyData™ 1.3.1 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Jobs </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/TIBCOSoftware/snappydata title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="SnappyData™ 1.3.1" class="md-nav__button md-logo" aria-label="SnappyData™ 1.3.1" data-md-component=logo> <img src=../Images/logo.png alt=logo> </a> SnappyData™ 1.3.1 </label> <div class=md-nav__source> <a href=https://github.com/TIBCOSoftware/snappydata title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../release_notes/release_notes/ class=md-nav__link> Release Notes </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../install/ >Provisioning SnappyData</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Provisioning SnappyData" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Provisioning SnappyData </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install/system_requirements/ class=md-nav__link> System Requirements </a> </li> <li class=md-nav__item> <a href=../install/install_on_premise/ class=md-nav__link> Installing SnappyData On-Premise </a> </li> <li class=md-nav__item> <a href=../install/setting_up_cluster_on_amazon_web_services/ class=md-nav__link> Setting-up SnappyData Cluster on AWS </a> </li> <li class=md-nav__item> <a href=../kubernetes/ class=md-nav__link> Setting-up SnappyData Cluster on Kubernetes </a> </li> <li class=md-nav__item> <a href=../quickstart/getting_started_with_docker_image/ class=md-nav__link> Building a Docker Image with SnappyData Binaries </a> </li> <li class=md-nav__item> <a href=../install/building_from_source/ class=md-nav__link> Building SnappyData from Source files </a> </li> <li class=md-nav__item> <a href=../install/upgrade/ class=md-nav__link> Upgrading SnappyData </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../quickstart/ >Getting Started</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../quickstart/getting_started_by_installing_snappydata_on-premise/ class=md-nav__link> On-Premise </a> </li> <li class=md-nav__item> <a href=../quickstart/getting_started_on_kubernetes/ class=md-nav__link> Kubernetes </a> </li> <li class=md-nav__item> <a href=../quickstart/getting_started_with_your_spark_distribution/ class=md-nav__link> Spark Distribution </a> </li> <li class=md-nav__item> <a href=../howto/use_apache_zeppelin_with_snappydata/ class=md-nav__link> Using Apache Zeppelin with SnappyData </a> </li> <li class=md-nav__item> <a href=../quickstart/snappydataquick_start/ class=md-nav__link> SnappyData Quickstart Guide </a> </li> <li class=md-nav__item> <a href=../quickstart/using_spark_scala_apis/ class=md-nav__link> Using Spark Scala APIs </a> </li> <li class=md-nav__item> <a href=../quickstart/performance_apache_spark/ class=md-nav__link> Benchmark 16-20x Faster Performance than Apache Spark </a> </li> <li class=md-nav__item> <a href=../quickstart/using_sql/ class=md-nav__link> Using SQL </a> </li> <li class=md-nav__item> <a href=../quickstart/structucture_streamingquickstart/ class=md-nav__link> Structured Streaming </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../configuring_cluster/configure_launch_cluster/ class=md-nav__link> Configure/Launch SnappyData Cluster </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <div class="md-nav__link md-nav__link--index "> <a href=../architecture/ >Concepts</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Concepts data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../architecture/core_components/ class=md-nav__link> Core Components </a> </li> <li class=md-nav__item> <a href=../architecture/cluster_architecture/ class=md-nav__link> SnappyData Cluster Architecture </a> </li> <li class=md-nav__item> <a href=../architecture/hybrid_cluster_manager/ class=md-nav__link> Hybrid Cluster Manager </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5 type=checkbox id=__nav_6_5> <div class="md-nav__link md-nav__link--index "> <a href=../consistency/ >Distributed Transactions</a> <label for=__nav_6_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Distributed Transactions" data-md-level=2> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Distributed Transactions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../consistency/using_transactions_row/ class=md-nav__link> How Transactions Work for Row Tables </a> </li> <li class=md-nav__item> <a href=../consistency/using_snapshot_isolation_column/ class=md-nav__link> Lock-free Queries using MVCC and Snapshot Isolation for Column Tables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_6 type=checkbox id=__nav_6_6> <div class="md-nav__link md-nav__link--index "> <a href=../affinity_modes/ >Affinity Modes</a> <label for=__nav_6_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Affinity Modes" data-md-level=2> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Affinity Modes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../affinity_modes/local_mode/ class=md-nav__link> Local Mode </a> </li> <li class=md-nav__item> <a href=../affinity_modes/embedded_mode/ class=md-nav__link> Embedded SnappyData Store Mode </a> </li> <li class=md-nav__item> <a href=../affinity_modes/connector_mode/ class=md-nav__link> SnappyData Smart Connector Mode </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <div class="md-nav__link md-nav__link--index "> <a href=../howto/ >How Tos</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="How Tos" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> How Tos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../howto/start_snappy_cluster/ class=md-nav__link> How to Start a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../howto/check_status_cluster/ class=md-nav__link> How to Check the Status of a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../howto/stop_snappy_cluster/ class=md-nav__link> How to Stop a SnappyData Cluster </a> </li> <li class=md-nav__item> <a href=../howto/run_spark_job_inside_cluster/ class=md-nav__link> How to Run Spark Job inside the Cluster </a> </li> <li class=md-nav__item> <a href=../howto/spark_installation_using_smart_connector/ class=md-nav__link> How to Access SnappyData Store from existing Spark Installation using Smart Connector </a> </li> <li class=md-nav__item> <a href=../howto/use_snappy_shell/ class=md-nav__link> How to Use Snappy SQL shell (snappy-sql) </a> </li> <li class=md-nav__item> <a href=../howto/create_row_tables_and_run_queries/ class=md-nav__link> How to Create Row Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../howto/create_column_tables_and_run_queries/ class=md-nav__link> How to Create Column Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../howto/load_data_into_snappydata_tables/ class=md-nav__link> How to Load Data into SnappyData Tables </a> </li> <li class=md-nav__item> <a href=../howto/load_data_from_external_data_stores/ class=md-nav__link> How to Load Data from External Data Stores (e.g. HDFS, Cassandra, Hive, etc) </a> </li> <li class=md-nav__item> <a href=../howto/perform_a_colocated_join/ class=md-nav__link> How to Perform a Colocated Join </a> </li> <li class=md-nav__item> <a href=../howto/connect_using_jdbc_driver/ class=md-nav__link> How to Connect using JDBC Driver </a> </li> <li class=md-nav__item> <a href=../howto/using_snappydata_for_any_spark_dist/ class=md-nav__link> How to use SnappyData for any Spark Distribution </a> </li> <li class=md-nav__item> <a href=../howto/store_retrieve_complex_datatypes_JDBC/ class=md-nav__link> How to Store and Retrieve Complex Data Types in JDBC Programs </a> </li> <li class=md-nav__item> <a href=../howto/store_and_query_objects/ class=md-nav__link> How to Store and Query Objects </a> </li> <li class=md-nav__item> <a href=../howto/use_stream_processing_with_snappydata/ class=md-nav__link> How to use Stream Processing with SnappyData </a> </li> <li class=md-nav__item> <a href=../howto/use_transactions_isolation_levels/ class=md-nav__link> How to use Transactions Isolation Levels </a> </li> <li class=md-nav__item> <a href=../howto/use_synopsis_data_engine_to_run_approximate_queries/ class=md-nav__link> How to use Approximate Query Processing (AQP) to Run Approximate Queries </a> </li> <li class=md-nav__item> <a href=../howto/use_python_to_create_tables_and_run_queries/ class=md-nav__link> How to use Python to Create Tables and Run Queries </a> </li> <li class=md-nav__item> <a href=../howto/connect_using_odbc_driver/ class=md-nav__link> How to Connect using ODBC Driver </a> </li> <li class=md-nav__item> <a href=../howto/connect_to_the_cluster_from_external_clients/ class=md-nav__link> How to Connect to the Cluster from External Network </a> </li> <li class=md-nav__item> <a href=../howto/import_from_hive_table/ class=md-nav__link> How to Import Data from Hive Table into SnappyData Table </a> </li> <li class=md-nav__item> <a href=../howto/export_hdfs/ class=md-nav__link> How to Export and Restore Table Data using HDFS </a> </li> <li class=md-nav__item> <a href=../howto/connect_oss_vis_client_tools/ class=md-nav__link> How to Access SnappyData from Various SQL Client Tools </a> </li> <li class=md-nav__item> <a href=../howto/connecttibcospotfire/ class=md-nav__link> How to connect TIBCO Spotfire® Desktop to SnappyData </a> </li> <li class=md-nav__item> <a href=../howto/tableauconnect/ class=md-nav__link> How to Connect Tableau to SnappyData </a> </li> <li class=md-nav__item> <a href=../howto/use_apache_zeppelin_with_snappydata/ class=md-nav__link> How to Use Apache Zeppelin with SnappyData </a> </li> <li class=md-nav__item> <a href=../howto/concurrent_apache_zeppelin_access_to_secure_snappydata/ class=md-nav__link> How to Configure Apache Zeppelin to Securely and Concurrently access the SnappyData Cluster </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <div class="md-nav__link md-nav__link--index "> <a href=../programming_guide/ >Programming Guide</a> <label for=__nav_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Programming Guide" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Programming Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../programming_guide/sparksession_snappysession_and_snappystreamingcontext/ class=md-nav__link> SparkSession, SnappySession and SnappyStreamingContext </a> </li> <li class=md-nav__item> <a href=../programming_guide/snappydata_jobs/ class=md-nav__link> Snappy Jobs </a> </li> <li class=md-nav__item> <a href=../programming_guide/managing_jar_files/ class=md-nav__link> Managing JAR Files </a> </li> <li class=md-nav__item> <a href=../programming_guide/using_snappydata_shell/ class=md-nav__link> Using Snappy Shell </a> </li> <li class=md-nav__item> <a href=../programming_guide/using_the_spark_shell_and_spark-submit/ class=md-nav__link> Using the Spark Shell and spark-submit </a> </li> <li class=md-nav__item> <a href=../programming_guide/using_pyspark_shell/ class=md-nav__link> Using pyspark Shell </a> </li> <li class=md-nav__item> <a href=../programming_guide/scala_interpreter/ class=md-nav__link> Executing Spark Scala Code using SQL </a> </li> <li class=md-nav__item> <a href=../programming_guide/working_with_hadoop_yarn_cluster_manager/ class=md-nav__link> Working with Hadoop YARN cluster Manager </a> </li> <li class=md-nav__item> <a href=../programming_guide/using_jdbc_with_snappydata/ class=md-nav__link> Using JDBC with SnappyData </a> </li> <li class=md-nav__item> <a href=../programming_guide/spark_jdbc_connector/ class=md-nav__link> Accessing SnappyData Tables from any Spark (2.1+) Cluster </a> </li> <li class=md-nav__item> <a href=../programming_guide/multiple_language_binding_using_thrift_protocol/ class=md-nav__link> Multiple Language Binding using Thrift Protocol </a> </li> <li class=md-nav__item> <a href=../programming_guide/building_snappydata_applications_using_spark_api/ class=md-nav__link> Building SnappyData Applications using Spark API </a> </li> <li class=md-nav__item> <a href=../programming_guide/tables_in_snappydata/ class=md-nav__link> Tables in SnappyData </a> </li> <li class=md-nav__item> <a href=../programming_guide/stream_processing_using_sql/ class=md-nav__link> Stream Processing using SQL </a> </li> <li class=md-nav__item> <a href=../programming_guide/udf_and_udaf/ class=md-nav__link> User Defined Functions (UDF) and User Defined Aggregate Functions (UDAF) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9> <div class="md-nav__link md-nav__link--index "> <a href=../best_practices/ >Best Practices</a> <label for=__nav_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Best Practices" data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Best Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../best_practices/setup_cluster/ class=md-nav__link> Tuning for Concurrency and Computation </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_3 type=checkbox id=__nav_9_3> <div class="md-nav__link md-nav__link--index "> <a href=../best_practices/design_schema/ >Designing your Database and Schema</a> <label for=__nav_9_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Designing your Database and Schema" data-md-level=2> <label class=md-nav__title for=__nav_9_3> <span class="md-nav__icon md-icon"></span> Designing your Database and Schema </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../best_practices/design_schema/design_principles/ class=md-nav__link> Design Principles of Scalable, Partition-Aware Databases </a> </li> <li class=md-nav__item> <a href=../best_practices/design_schema/optimizing_query_latency/ class=md-nav__link> Optimizing Query Latency: Partitioning and Replication Strategies </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../best_practices/memory_management/ class=md-nav__link> Memory Management </a> </li> <li class=md-nav__item> <a href=../best_practices/ha_considerations/ class=md-nav__link> HA Considerations </a> </li> <li class=md-nav__item> <a href=../best_practices/structured_streaming_best_practices/ class=md-nav__link> Structured Streaming </a> </li> <li class=md-nav__item> <a href=../best_practices/important_settings/ class=md-nav__link> Important Settings </a> </li> <li class=md-nav__item> <a href=../best_practices/transactions_best_practices/ class=md-nav__link> SnappyData Distributed Transactions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_10 type=checkbox id=__nav_10> <div class="md-nav__link md-nav__link--index "> <a href=../sde/ >Approximate Query Processing</a> <label for=__nav_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Approximate Query Processing" data-md-level=1> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Approximate Query Processing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sde/key_concepts/ class=md-nav__link> Key Concepts </a> </li> <li class=md-nav__item> <a href=../sde/working_with_stratified_samples/ class=md-nav__link> Working with Stratified Samples </a> </li> <li class=md-nav__item> <a href=../sde/running_queries/ class=md-nav__link> Running Queries </a> </li> <li class=md-nav__item> <a href=../sde/more_examples/ class=md-nav__link> More Examples </a> </li> <li class=md-nav__item> <a href=../sde/sample_selection/ class=md-nav__link> Sample Selection </a> </li> <li class=md-nav__item> <a href=../sde/hac_contracts/ class=md-nav__link> High-level Accuracy Contracts (HAC) </a> </li> <li class=md-nav__item> <a href=../sde/sketching/ class=md-nav__link> Sketching </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_11 type=checkbox id=__nav_11> <div class="md-nav__link md-nav__link--index "> <a href=../connectors/ >Working with Data Sources</a> <label for=__nav_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Working with Data Sources" data-md-level=1> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Working with Data Sources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../data/data_formats/ class=md-nav__link> Supported Data Formats </a> </li> <li class=md-nav__item> <a href=../connectors/access_cloud_data/ class=md-nav__link> Accessing Cloud Storages </a> </li> <li class=md-nav__item> <a href=../data/external_hive_support/ class=md-nav__link> Connecting to External Hive Metastores </a> </li> <li class=md-nav__item> <a href=../connectors/cdc_connector/ class=md-nav__link> Using the SnappyData CDC (Change Data Capture) Connector </a> </li> <li class=md-nav__item> <a href=../connectors/jdbc_streaming_connector/ class=md-nav__link> Using the SnappyData JDBC Streaming Connector </a> </li> <li class=md-nav__item> <a href=../connectors/tdv/ class=md-nav__link> Connecting to TIBCO Data Virtualization (TDV) </a> </li> <li class=md-nav__item> <a href=../connectors/deployment_dependency_jar/ class=md-nav__link> Deploying Third Party Connectors </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_12 type=checkbox id=__nav_12> <div class="md-nav__link md-nav__link--index "> <a href=../monitoring/ >Managing and Monitoring</a> <label for=__nav_12> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Managing and Monitoring" data-md-level=1> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Managing and Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../monitoring/monitoring/ class=md-nav__link> SnappyData Monitoring UI </a> </li> <li class=md-nav__item> <a href=../monitoring/configure_high_availability/ class=md-nav__link> Configuring High Availability for a Partitioned Table </a> </li> <li class=md-nav__item> <a href=../monitoring/configure_logging/ class=md-nav__link> Configuring Logging </a> </li> <li class=md-nav__item> <a href=../monitoring/metrics/ class=md-nav__link> Monitoring with Metrics </a> </li> <li class=md-nav__item> <a href=../monitoring/monitor-manage/ class=md-nav__link> Getting Information from SnappyData System Tables </a> </li> <li class=md-nav__item> <a href=../monitoring/recoveringdata/ class=md-nav__link> Recovering Data During Cluster Failures </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_13 type=checkbox id=__nav_13> <div class="md-nav__link md-nav__link--index "> <a href=../security/ >Managing Security</a> <label for=__nav_13> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Managing Security" data-md-level=1> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> Managing Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../security/launching_the_cluster_in_secure_mode/ class=md-nav__link> Launching the Cluster in Secure Mode </a> </li> <li class=md-nav__item> <a href=../security/specify_encrypt_passwords_conf_client/ class=md-nav__link> Specifying Encrypted Passwords in Conf Files or in Client Connections </a> </li> <li class=md-nav__item> <a href=../security/authentication_connecting_to_a_secure_cluster/ class=md-nav__link> Authentication - Connecting to a Secure Cluster </a> </li> <li class=md-nav__item> <a href=../security/authorization/ class=md-nav__link> Authorization </a> </li> <li class=md-nav__item> <a href=../security/row_level_security/ class=md-nav__link> Implementing Row Level Security </a> </li> <li class=md-nav__item> <a href=../security/configuring_network_encryption_and_authentication_using_ssl/ class=md-nav__link> Configuring Network Encryption and Authentication using SSL </a> </li> <li class=md-nav__item> <a href=../configuring_cluster/ssl_setup/ class=md-nav__link> Enabling SSL Encryption in Different Socket Endpoints of SnappyData </a> </li> <li class=md-nav__item> <a href=../configuring_cluster/securinguiconnection/ class=md-nav__link> Securing SnappyData UI Connection </a> </li> <li class=md-nav__item> <a href=../security/user_names_for_authentication_authorization_and_membership/ class=md-nav__link> User Names for Authentication, Authorization, and Membership </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_14 type=checkbox id=__nav_14> <div class="md-nav__link md-nav__link--index "> <a href=../statistics/ >Evaluating Statistics for the System and Applications</a> <label for=__nav_14> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Evaluating Statistics for the System and Applications" data-md-level=1> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Evaluating Statistics for the System and Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../statistics/collecting_system_stats/ class=md-nav__link> Collecting System Statistics </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_14_3 type=checkbox id=__nav_14_3> <div class="md-nav__link md-nav__link--index "> <a href=../statistics/vsd/ >Using VSD to Analyze Statistics</a> <label for=__nav_14_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Using VSD to Analyze Statistics" data-md-level=2> <label class=md-nav__title for=__nav_14_3> <span class="md-nav__icon md-icon"></span> Using VSD to Analyze Statistics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../statistics/vsd/running_vsd/ class=md-nav__link> Installing and Running VSD </a> </li> <li class=md-nav__item> <a href=../statistics/vsd/vsd_transactions/ class=md-nav__link> Transaction Performance </a> </li> <li class=md-nav__item> <a href=../statistics/vsd/vsd_tables/ class=md-nav__link> Table Performance </a> </li> <li class=md-nav__item> <a href=../statistics/vsd/vsd_statements/ class=md-nav__link> SQL Statement Performance </a> </li> <li class=md-nav__item> <a href=../statistics/vsd/vsd_memory/ class=md-nav__link> Memory Usage </a> </li> <li class=md-nav__item> <a href=../statistics/vsd/vsd-connection-stats/ class=md-nav__link> Client Connections </a> </li> <li class=md-nav__item> <a href=../statistics/vsd/vsd_cpu/ class=md-nav__link> CPU Usage </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15 type=checkbox id=__nav_15> <div class="md-nav__link md-nav__link--index "> <a href=../reference/ >Reference Guides</a> <label for=__nav_15> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Reference Guides" data-md-level=1> <label class=md-nav__title for=__nav_15> <span class="md-nav__icon md-icon"></span> Reference Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../configuring_cluster/configuring_cluster/ class=md-nav__link> Configuration Reference </a> </li> <li class=md-nav__item> <a href=../configuring_cluster/property_description/ class=md-nav__link> List of Properties </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4 type=checkbox id=__nav_15_4> <div class="md-nav__link md-nav__link--index "> <a href=../reference/sql_reference/ >SQL Reference Guide</a> <label for=__nav_15_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="SQL Reference Guide" data-md-level=2> <label class=md-nav__title for=__nav_15_4> <span class="md-nav__icon md-icon"></span> SQL Reference Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/sql_reference/alter-table/ class=md-nav__link> ALTER TABLE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_3 type=checkbox id=__nav_15_4_3> <label class=md-nav__link for=__nav_15_4_3> CREATE Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CREATE Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_3> <span class="md-nav__icon md-icon"></span> CREATE Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/sql_reference/create-diskstore/ class=md-nav__link> CREATE DISKSTORE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-external-table/ class=md-nav__link> CREATE EXTERNAL TABLE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-function/ class=md-nav__link> CREATE FUNCTION </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-index/ class=md-nav__link> CREATE INDEX </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-schema/ class=md-nav__link> CREATE SCHEMA </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-stream-table/ class=md-nav__link> CREATE STREAM TABLE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-sample-table/ class=md-nav__link> CREATE SAMPLE TABLE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-table/ class=md-nav__link> CREATE TABLE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-temporary-table/ class=md-nav__link> CREATE TEMPORARY TABLE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/create-view/ class=md-nav__link> CREATE VIEW </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/sql_reference/delete/ class=md-nav__link> DELETE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_5 type=checkbox id=__nav_15_4_5> <label class=md-nav__link for=__nav_15_4_5> DROP Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="DROP Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_5> <span class="md-nav__icon md-icon"></span> DROP Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/sql_reference/drop-diskstore/ class=md-nav__link> DROP DISKSTORE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/drop-function/ class=md-nav__link> DROP FUNCTION </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/drop-index/ class=md-nav__link> DROP INDEX </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/drop-table/ class=md-nav__link> DROP TABLE/EXTERNAL TABLE/SAMPLE TABLE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/drop-schema/ class=md-nav__link> DROP SCHEMA </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_4_6 type=checkbox id=__nav_15_4_6> <label class=md-nav__link for=__nav_15_4_6> DEPLOY Statements <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="DEPLOY Statements" data-md-level=3> <label class=md-nav__title for=__nav_15_4_6> <span class="md-nav__icon md-icon"></span> DEPLOY Statements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/sql_reference/deploy_package/ class=md-nav__link> DEPLOY PACKAGE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/deploy_jar/ class=md-nav__link> DEPLOY JAR </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/undeploy/ class=md-nav__link> UNDEPLOY </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/sql_reference/exec-scala/ class=md-nav__link> exec scala </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/explain/ class=md-nav__link> EXPLAIN </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/grant/ class=md-nav__link> GRANT </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/grant-all/ class=md-nav__link> GRANT ALL </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/insert/ class=md-nav__link> INSERT </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/lateral-view/ class=md-nav__link> LATERAL VIEW </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/list/ class=md-nav__link> LIST </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/pivot/ class=md-nav__link> PIVOT </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/put-into/ class=md-nav__link> PUT INTO </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/revoke/ class=md-nav__link> REVOKE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/revoke_all/ class=md-nav__link> REVOKE ALL </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/select/ class=md-nav__link> SELECT </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/set-isolation/ class=md-nav__link> SET ISOLATION </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/set-schema/ class=md-nav__link> SET SCHEMA </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/truncate-table/ class=md-nav__link> TRUNCATE TABLE </a> </li> <li class=md-nav__item> <a href=../reference/sql_reference/update/ class=md-nav__link> UPDATE </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_5 type=checkbox id=__nav_15_5> <div class="md-nav__link md-nav__link--index "> <a href=../reference/sql_functions/ >SQL Functions</a> </div> <nav class=md-nav aria-label="SQL Functions" data-md-level=2> <label class=md-nav__title for=__nav_15_5> <span class="md-nav__icon md-icon"></span> SQL Functions </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/sql_general_limitations/ class=md-nav__link> SQL General Limitations </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_7 type=checkbox id=__nav_15_7> <div class="md-nav__link md-nav__link--index "> <a href=../reference/inbuilt_system_procedures/ >Built-in System Procedures and Built-in Functions</a> <label for=__nav_15_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Built-in System Procedures and Built-in Functions" data-md-level=2> <label class=md-nav__title for=__nav_15_7> <span class="md-nav__icon md-icon"></span> Built-in System Procedures and Built-in Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/dump-stacks/ class=md-nav__link> DUMP_STACKS </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/rebalance-all-buckets/ class=md-nav__link> REBALANCE_ALL_BUCKETS </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/set_critical_heap_percentage/ class=md-nav__link> SET_CRITICAL_HEAP_PERCENTAGE </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/set-trace-flag/ class=md-nav__link> SET_TRACE_FLAG </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/sys_remove_metastore_entry/ class=md-nav__link> REMOVE_METASTORE_ENTRY </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/export_ddl/ class=md-nav__link> EXPORT_DDLS </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/export_data/ class=md-nav__link> EXPORT_DATA </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/dsid/ class=md-nav__link> DSID </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/current_user/ class=md-nav__link> CURRENT_USER </a> </li> <li class=md-nav__item> <a href=../reference/inbuilt_system_procedures/current_user_ldap_groups/ class=md-nav__link> CURRENT_USER_LDAP_GROUPS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_8 type=checkbox id=__nav_15_8> <div class="md-nav__link md-nav__link--index "> <a href=../reference/system_tables/ >System Tables</a> <label for=__nav_15_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="System Tables" data-md-level=2> <label class=md-nav__title for=__nav_15_8> <span class="md-nav__icon md-icon"></span> System Tables </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/system_tables/members/ class=md-nav__link> MEMBERS </a> </li> <li class=md-nav__item> <a href=../reference/system_tables/sysdiskstores/ class=md-nav__link> SYSDISKSTORES </a> </li> <li class=md-nav__item> <a href=../reference/system_tables/sysdiskstoreids/ class=md-nav__link> SYSDISKSTOREIDS </a> </li> <li class=md-nav__item> <a href=../reference/system_tables/systables/ class=md-nav__link> SYSTABLES </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_9 type=checkbox id=__nav_15_9> <div class="md-nav__link md-nav__link--index "> <a href=../reference/command_line_utilities/ >Command Line Utilities</a> <label for=__nav_15_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Command Line Utilities" data-md-level=2> <label class=md-nav__title for=__nav_15_9> <span class="md-nav__icon md-icon"></span> Command Line Utilities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/command_line_utilities/store-backup/ class=md-nav__link> backup and restore </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/store-compact-all-disk-stores/ class=md-nav__link> compact-all-disk-stores </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/store-compact-disk-store/ class=md-nav__link> compact-disk-store </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/validate_diskstore/ class=md-nav__link> validate-disk-store </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/store-list-missing-disk-stores/ class=md-nav__link> list-missing-disk-stores </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/store-revoke-missing-disk-stores/ class=md-nav__link> revoke-missing-disk-store </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/store-unblock-disk-stores/ class=md-nav__link> unblock-disk-store </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/store-run/ class=md-nav__link> run </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/scala-cli/ class=md-nav__link> scala CLI </a> </li> <li class=md-nav__item> <a href=../reference/command_line_utilities/store-version/ class=md-nav__link> version </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_10 type=checkbox id=__nav_15_10> <div class="md-nav__link md-nav__link--index "> <a href=../reference/interactive_commands/ >Snappy-SQL Shell Interactive Commands</a> <label for=__nav_15_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Snappy-SQL Shell Interactive Commands" data-md-level=2> <label class=md-nav__title for=__nav_15_10> <span class="md-nav__icon md-icon"></span> Snappy-SQL Shell Interactive Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/interactive_commands/autocommit/ class=md-nav__link> autocommit </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/commit/ class=md-nav__link> commit </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/connect_client/ class=md-nav__link> connect client </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/connect/ class=md-nav__link> connect </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/describe/ class=md-nav__link> describe </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/disconnect/ class=md-nav__link> disconnect </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/elapsedtime/ class=md-nav__link> elapsedtime </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/exit/ class=md-nav__link> exit </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/maximumdisplaywidth/ class=md-nav__link> MaximumDisplayWidth </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/rollback/ class=md-nav__link> rollback </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/run/ class=md-nav__link> run </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/set_connection/ class=md-nav__link> set connection </a> </li> <li class=md-nav__item> <a href=../reference/interactive_commands/show/ class=md-nav__link> show </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_15_11 type=checkbox id=__nav_15_11> <div class="md-nav__link md-nav__link--index "> <a href=../reference/configuration_parameters/ >Configuration Parameters</a> <label for=__nav_15_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Configuration Parameters" data-md-level=2> <label class=md-nav__title for=__nav_15_11> <span class="md-nav__icon md-icon"></span> Configuration Parameters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/configuration_parameters/ack-severe-alert-threshold/ class=md-nav__link> ack-severe-alert-threshold </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/ack-wait-threshold/ class=md-nav__link> ack-wait-threshold </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/allow-explicit-commit/ class=md-nav__link> allow-explicit-commit </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/archive-disk-space-limit/ class=md-nav__link> archive-disk-space-limit </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/archive-file-size-limit/ class=md-nav__link> archive-file-size-limit </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/bind-address/ class=md-nav__link> bind-address </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/enable-network-partition-detection/ class=md-nav__link> enable-network-partition-detection </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/enable-stats/ class=md-nav__link> enable-stats </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/enable-time-statistics/ class=md-nav__link> enable-time-statistics </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/enable-timestats/ class=md-nav__link> enable-timestats </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/enforce-unique-host/ class=md-nav__link> enforce-unique-host </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/init-scripts/ class=md-nav__link> init-scripts </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/load-balance/ class=md-nav__link> load-balance </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/locators/ class=md-nav__link> locators </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/log-file/ class=md-nav__link> log-file </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/log-level/ class=md-nav__link> log-level </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/member-timeout/ class=md-nav__link> member-timeout </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/membership-port-range/ class=md-nav__link> membership-port-range </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/password/ class=md-nav__link> password </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/read-timeout/ class=md-nav__link> read-timeout </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/redundancy-zone/ class=md-nav__link> redundancy-zone </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/secondary-locators/ class=md-nav__link> secondary-locators </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/skip-constraint-checks/ class=md-nav__link> skip-constraint-checks </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/skip-locks/ class=md-nav__link> skip-locks </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/socket-buffer-size/ class=md-nav__link> socket-buffer-size </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/socket-lease-time/ class=md-nav__link> socket-lease-time </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/snappydata.datadictionary.allow-startup-errors/ class=md-nav__link> gemfirexd.datadictionary.allow-startup-errors </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/snappydata.default-startup-recovery-delay/ class=md-nav__link> gemfirexd.default-startup-recovery-delay </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/snappy.history/ class=md-nav__link> snappy.history </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/snappydata.max-lock-wait/ class=md-nav__link> gemfirexd.max-lock-wait </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/snappydata.query-cancellation-interval/ class=md-nav__link> gemfirexd.query-cancellation-interval </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/snappydata.query-timeout/ class=md-nav__link> gemfirexd.query-timeout </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/ssl_enabled/ class=md-nav__link> ssl-enabled </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/ssl_protocols/ class=md-nav__link> ssl-protocols </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/ssl_ciphers/ class=md-nav__link> ssl-ciphers </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/ssl_require_auth/ class=md-nav__link> ssl-require-authentication </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/start-locator/ class=md-nav__link> start-locator </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/statistic-archive-file/ class=md-nav__link> statistic-archive-file </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/statistic-sample-rate/ class=md-nav__link> statistic-sample-rate </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/statistic-sampling-enabled/ class=md-nav__link> statistic-sampling-enabled </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/sync-commits/ class=md-nav__link> sync-commits </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/sys-disk-dir/ class=md-nav__link> sys-disk-dir </a> </li> <li class=md-nav__item> <a href=../reference/configuration_parameters/user/ class=md-nav__link> user </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../apidocsintro/ class=md-nav__link> Full API Reference Guides </a> </li> <li class=md-nav__item> <a href=../reference/API_Reference/odbc_supported_apis/ class=md-nav__link> ODBC Supported API </a> </li> <li class=md-nav__item> <a href=../reference/misc/supported_datatypes/ class=md-nav__link> Supported Data Types </a> </li> <li class=md-nav__item> <a href=../reference/misc/passwordless_ssh/ class=md-nav__link> Configuring SSH Login without Password </a> </li> <li class=md-nav__item> <a href=../setting_up_odbc_driver/ class=md-nav__link> Setting Up SnappyData ODBC Driver </a> </li> <li class=md-nav__item> <a href=../setting_up_jdbc_driver_qlikview/ class=md-nav__link> Setting Up SnappyData JDBC Client and QlikView </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../experimental/ class=md-nav__link> Experimental Features </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_17 type=checkbox id=__nav_17> <div class="md-nav__link md-nav__link--index "> <a href=../troubleshooting/ >Troubleshooting Common Problems</a> <label for=__nav_17> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Troubleshooting Common Problems" data-md-level=1> <label class=md-nav__title for=__nav_17> <span class="md-nav__icon md-icon"></span> Troubleshooting Common Problems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../troubleshooting/member_startup_problems/ class=md-nav__link> Member Startup Problems </a> </li> <li class=md-nav__item> <a href=../troubleshooting/recovering_from_a_conflictingpersistentdataexception/ class=md-nav__link> Recovering from a ConflictingPersistentDataException </a> </li> <li class=md-nav__item> <a href=../troubleshooting/preventing_disk_full_errors/ class=md-nav__link> Preventing Disk Full Errors </a> </li> <li class=md-nav__item> <a href=../troubleshooting/recovering_from_disk_full_errors/ class=md-nav__link> Recovering from Disk Full Errors </a> </li> <li class=md-nav__item> <a href=../troubleshooting/catalog_inconsistency/ class=md-nav__link> Resolving Catalog Inconsistency Issues </a> </li> <li class=md-nav__item> <a href=../troubleshooting/oom/ class=md-nav__link> Troubleshooting Out-of-Memory (OOM) Error </a> </li> <li class=md-nav__item> <a href=../troubleshooting/collect_debug_artifacts/ class=md-nav__link> Collecting Logs, Stats and Dumps Using the collect-debug-artifacts Script </a> </li> <li class=md-nav__item> <a href=../troubleshooting/troubleshooting_error_messages/ class=md-nav__link> Troubleshooting Error Messages </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../unsupported/ class=md-nav__link> Unsupported Third-Party Modules </a> </li> <li class=md-nav__item> <a href=../additional_files/open_source_components/ class=md-nav__link> Community Edition Features </a> </li> <li class=md-nav__item> <a href=../prev_doc_ver/ class=md-nav__link> Doc Archives </a> </li> <li class=md-nav__item> <a href=../techsupport/ class=md-nav__link> Contact and Support </a> </li> <li class=md-nav__item> <a href=../LICENSE/ class=md-nav__link> License </a> </li> <li class=md-nav__item> <a href=../imp_info/ class=md-nav__link> Important Information </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#building-snappy-applications-using-spark-api class=md-nav__link> Building Snappy applications using Spark API </a> <nav class=md-nav aria-label="Building Snappy applications using Spark API"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#snappycontext class=md-nav__link> SnappyContext </a> <nav class=md-nav aria-label=SnappyContext> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-snappycontext-to-create-table-and-query-data class=md-nav__link> Using SnappyContext to create table and query data </a> <nav class=md-nav aria-label="Using SnappyContext to create table and query data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#scala class=md-nav__link> Scala </a> </li> <li class=md-nav__item> <a href=#java class=md-nav__link> Java </a> </li> <li class=md-nav__item> <a href=#python class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=#scala_1 class=md-nav__link> Scala </a> </li> <li class=md-nav__item> <a href=#java_1 class=md-nav__link> Java </a> </li> <li class=md-nav__item> <a href=#python_1 class=md-nav__link> Python </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#snappystreamingcontext class=md-nav__link> SnappyStreamingContext </a> <nav class=md-nav aria-label=SnappyStreamingContext> <ul class=md-nav__list> <li class=md-nav__item> <a href=#scala_2 class=md-nav__link> Scala </a> </li> <li class=md-nav__item> <a href=#python_2 class=md-nav__link> Python </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-spark-programs-inside-the-database class=md-nav__link> Running Spark programs inside the database </a> <nav class=md-nav aria-label="Running Spark programs inside the database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#scala_3 class=md-nav__link> Scala </a> </li> <li class=md-nav__item> <a href=#java_2 class=md-nav__link> Java </a> </li> <li class=md-nav__item> <a href=#scala_4 class=md-nav__link> Scala </a> </li> <li class=md-nav__item> <a href=#java_3 class=md-nav__link> Java </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#submitting-jobs class=md-nav__link> Submitting Jobs </a> </li> <li class=md-nav__item> <a href=#streaming-jobs class=md-nav__link> Streaming Jobs </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/TIBCOSoftware/snappydata/edit/master/docs/jobs.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1>Jobs</h1> <h2 id=building-snappy-applications-using-spark-api>Building Snappy applications using Spark API<a class=headerlink href=#building-snappy-applications-using-spark-api title="Permanent link">&para;</a></h2> <p>SnappyData bundles Spark and supports all the Spark APIs. You can create Object based RDDs and run transformations or use the higher level APIs (like Spark ML). All SnappyData managed tables are also accessible as DataFrame and the API extends Spark classes like SQLContext and DataFrames. So, we recommend getting to know the <a href=http://spark.apache.org/docs/latest/sql-programming-guide.html#overview>concepts in SparkSQL</a> and the <a href=http://spark.apache.org/docs/latest/sql-programming-guide.html#dataframes>DataFrame API</a>. And, you can store and manage arbitrary RDDs (or even Spark DataSets) through implicit or explicit transformation to a DataFrame. While, the complete SQL support is still evolving, the supported SQL is much richer than SparkSQL. The extension SQL supported by the SnappyStore can be referenced <a href=../old_files/rowAndColumnTables/ >here</a>.</p> <p>In Spark SQL, all tables are temporary and cannot be shared across different applications. While you can manage such temporary tables, SnappyData tables are automatically registered to a built-in persistent catalog. This is similar to how Spark SQL uses the Hive catalog to natively work with Hive clusters. Data in tables is primarily managed in-memory with one or more consistent copies across machines or racks, but, can also be reliably managed on disk. </p> <h3 id=snappycontext>SnappyContext<a class=headerlink href=#snappycontext title="Permanent link">&para;</a></h3> <p>A <a href=../apidocs/#org.apache.spark.sql.SnappyContext>SnappyContext</a> is the main entry point for SnappyData extensions to Spark. A SnappyContext extends Spark's <a href=http://spark.apache.org/docs/2.1.3/api/scala/index.html#org.apache.spark.sql.SQLContext>SQLContext</a> to work with Row and Column tables. Any DataFrame can be managed as SnappyData tables and any table can be accessed as a DataFrame. This is similar to <a href=http://spark.apache.org/docs/2.1.3/api/scala/index.html#org.apache.spark.sql.hive.HiveContext>HiveContext</a> - integrates the SQLContext functionality with the Snappy store.</p> <h4 id=using-snappycontext-to-create-table-and-query-data>Using SnappyContext to create table and query data<a class=headerlink href=#using-snappycontext-to-create-table-and-query-data title="Permanent link">&para;</a></h4> <p>Below are examples to create a SnappyContext from SparkContext.</p> <h5 id=scala>Scala<a class=headerlink href=#scala title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>  val conf = new org.apache.spark.SparkConf()
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>               .setAppName(&quot;ExampleTest&quot;)
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>               .setMaster(&quot;local[*]&quot;)
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>  val sc = new org.apache.spark.SparkContext(conf)
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>  // get the SnappyContext
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>  val snc = org.apache.spark.sql.SnappyContext(sc)
</code></pre></div> <h5 id=java>Java<a class=headerlink href=#java title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>  SparkConf conf = new org.apache.spark.SparkConf()
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>               .setAppName(&quot;ExampleTest&quot;)
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>               .setMaster(&quot;local[*]&quot;);
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>  JavaSparkContext sc = new JavaSparkContext(conf);
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>  // get the SnappyContext
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>  SnappyContext snc = SnappyContext.getOrCreate(sc);
</code></pre></div> <h5 id=python>Python<a class=headerlink href=#python title="Permanent link">&para;</a></h5> <p><div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>from pyspark.sql.snappy import SnappyContext
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>from pyspark import SparkContext, SparkConf
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>conf = SparkConf().setAppName(&quot;ExampleTest&quot;).setMaster(&quot;local[*]&quot;)
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>sc = SparkContext(conf=conf)
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a># get the SnappyContext
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>snc = SnappyContext(sc)
</code></pre></div> Create columnar tables using API. Other than <code>create</code> and <code>drop</code> table, rest are all based on the Spark SQL Data Source APIs. </p> <h5 id=scala_1>Scala<a class=headerlink href=#scala_1 title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>  val props1 = Map(&quot;BUCKETS&quot; -&gt; &quot;8&quot;)  // Number of partitions to use in the SnappyStore
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>  case class Data(COL1: Int, COL2: Int, COL3: Int)
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>  val data = Seq(Seq(1, 2, 3), Seq(7, 8, 9), Seq(9, 2, 3), Seq(4, 2, 3), Seq(5, 6, 7))
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>  val rdd = sc.parallelize(data, data.length).map(s =&gt; new Data(s(0), s(1), s(2)))
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>  val dataDF = snc.createDataFrame(rdd)
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>  // create a column table
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>  snc.dropTable(&quot;COLUMN_TABLE&quot;, ifExists = true)
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>  // &quot;column&quot; is the table format (that is row or column)
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>  // dataDF.schema provides the schema for table
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>  snc.createTable(&quot;COLUMN_TABLE&quot;, &quot;column&quot;, dataDF.schema, props1)
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>  // append dataDF into the table
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>  dataDF.write.insertInto(&quot;COLUMN_TABLE&quot;)
<a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>
<a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>  val results1 = snc.sql(&quot;SELECT * FROM COLUMN_TABLE&quot;)
<a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>  println(&quot;contents of column table are:&quot;)
<a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>  results1.foreach(println)
</code></pre></div> <h5 id=java_1>Java<a class=headerlink href=#java_1 title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>    Map&lt;String, String&gt; props1 = new HashMap&lt;&gt;();
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    props1.put(&quot;buckets&quot;, &quot;16&quot;);
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    JavaRDD&lt;Row&gt; jrdd = jsc.parallelize(Arrays.asList(
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>        RowFactory.create(1,2,3),
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>        RowFactory.create(7,8,9),
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>        RowFactory.create(9,2,3),
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>        RowFactory.create(4,2,3),
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>        RowFactory.create(5,6,7)
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>    ));
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>    StructType schema = new StructType(new StructField[]{
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>        new StructField(&quot;col1&quot;, DataTypes.IntegerType, false, Metadata.empty()),
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>        new StructField(&quot;col2&quot;, DataTypes.IntegerType, false, Metadata.empty()),
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>        new StructField(&quot;col3&quot;, DataTypes.IntegerType, false, Metadata.empty()),
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>    });
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>
<a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>    DataFrame dataDF = snc.createDataFrame(jrdd, schema);
<a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>
<a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>    // create a column table
<a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>    snc.dropTable(&quot;COLUMN_TABLE&quot;, true);
<a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>
<a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>    // &quot;column&quot; is the table format (that is row or column)
<a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a>    // dataDF.schema provides the schema for table
<a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a>    snc.createTable(&quot;COLUMN_TABLE&quot;, &quot;column&quot;, dataDF.schema(), props1, false);
<a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a>    // append dataDF into the table
<a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a>    dataDF.write().insertInto(&quot;COLUMN_TABLE&quot;);
<a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a>
<a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a>    DataFrame results1 = snc.sql(&quot;SELECT * FROM COLUMN_TABLE&quot;);
<a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a>    System.out.println(&quot;contents of column table are:&quot;);
<a id=__codelineno-4-31 name=__codelineno-4-31 href=#__codelineno-4-31></a>    for (Row r : results1.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;). collect()) {
<a id=__codelineno-4-32 name=__codelineno-4-32 href=#__codelineno-4-32></a>        System.out.println(r);
<a id=__codelineno-4-33 name=__codelineno-4-33 href=#__codelineno-4-33></a>    }
</code></pre></div> <h5 id=python_1>Python<a class=headerlink href=#python_1 title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>from pyspark.sql.types import *
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>data = [(1,2,3),(7,8,9),(9,2,3),(4,2,3),(5,6,7)]
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>rdd = sc.parallelize(data)
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>schema=StructType([StructField(&quot;col1&quot;, IntegerType()), 
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>                   StructField(&quot;col2&quot;, IntegerType()), 
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>                   StructField(&quot;col3&quot;, IntegerType())])
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>dataDF = snc.createDataFrame(rdd, schema)
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a># create a column table
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>snc.dropTable(&quot;COLUMN_TABLE&quot;, True)
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>#&quot;column&quot; is the table format (that is row or column)
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>#dataDF.schema provides the schema for table
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>snc.createTable(&quot;COLUMN_TABLE&quot;, &quot;column&quot;, dataDF.schema, True, buckets=&quot;16&quot;)
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>#append dataDF into the table
<a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>dataDF.write.insertInto(&quot;COLUMN_TABLE&quot;)
<a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>results1 = snc.sql(&quot;SELECT * FROM COLUMN_TABLE&quot;)
<a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a>
<a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a>print(&quot;contents of column table are:&quot;)
<a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a>results1.select(&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;). show()
</code></pre></div> <p>The optional BUCKETS attribute specifies the number of partitions or buckets to use. In SnappyStore, when data migrates between nodes (say if the cluster was expanded) a bucket is the smallest unit that can be moved around. For more details about the properties ('props1' map in above example) and createTable API refer to documentation for <a href=../old_files/rowAndColumnTables/ >row and column tables</a></p> <p>Create row tables using API, update the contents of row table</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>  // create a row format table called ROW_TABLE
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>  snc.dropTable(&quot;ROW_TABLE&quot;, ifExists = true)
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>  // &quot;row&quot; is the table format 
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>  // dataDF.schema provides the schema for table
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>  val props2 = Map.empty[String, String]
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>  snc.createTable(&quot;ROW_TABLE&quot;, &quot;row&quot;, dataDF.schema, props2)
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>  // append dataDF into the data
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>  dataDF.write.insertInto(&quot;ROW_TABLE&quot;)
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>  val results2 = snc.sql(&quot;select * from ROW_TABLE&quot;)
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>  println(&quot;contents of row table are:&quot;)
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>  results2.foreach(println)
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>  // row tables can be mutated
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a>  // for example update &quot;ROW_TABLE&quot; and set col3 to 99 where
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a>  // criteria &quot;col3 = 3&quot; is true using update API
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a>  snc.update(&quot;ROW_TABLE&quot;, &quot;COL3 = 3&quot;, org.apache.spark.sql.Row(99), &quot;COL3&quot; )
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>  val results3 = snc.sql(&quot;SELECT * FROM ROW_TABLE&quot;)
<a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a>  println(&quot;contents of row table are after setting col3 = 99 are:&quot;)
<a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a>  results3.foreach(println)
<a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a>
<a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a>  // update rows using sql update statement
<a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a>  snc.sql(&quot;UPDATE ROW_TABLE SET COL1 = 100 WHERE COL3 = 99&quot;)
<a id=__codelineno-6-26 name=__codelineno-6-26 href=#__codelineno-6-26></a>  val results4 = snc.sql(&quot;SELECT * FROM ROW_TABLE&quot;)
<a id=__codelineno-6-27 name=__codelineno-6-27 href=#__codelineno-6-27></a>  println(&quot;contents of row table are after setting col1 = 100 are:&quot;)
<a id=__codelineno-6-28 name=__codelineno-6-28 href=#__codelineno-6-28></a>  results4.foreach(println)
</code></pre></div> <h3 id=snappystreamingcontext>SnappyStreamingContext<a class=headerlink href=#snappystreamingcontext title="Permanent link">&para;</a></h3> <p>SnappyData extends Spark streaming so stream definitions can be declaratively written using SQL and these streams can be analyzed using static and dynamic SQL.</p> <p>Below example shows how to use the SnappyStreamingContext to apply a schema to existing DStream and then query the SchemaDStream with simple SQL. It also shows the SnappyStreamingContext ability to deal with sql queries.</p> <h5 id=scala_2>Scala<a class=headerlink href=#scala_2 title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>import org.apache.spark.sql._
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>import org.apache.spark.streaming._
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>import scala.collection.mutable
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>import org.apache.spark.rdd._
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>import org.apache.spark.sql.types._
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>import scala.collection.immutable.Map
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>  val snsc = new SnappyStreamingContext(sc, Duration(1))
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>  val schema = StructType(List(StructField(&quot;id&quot;, IntegerType) ,StructField(&quot;text&quot;, StringType)))
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>  case class ShowCaseSchemaStream (loc:Int, text:String)
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>  snsc.snappyContext.dropTable(&quot;streamingExample&quot;, ifExists = true)
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a>  snsc.snappyContext.createTable(&quot;streamingExample&quot;, &quot;column&quot;,  schema, Map.empty[String, String] , false)
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a>  def rddList(start:Int, end:Int) = sc.parallelize(start to end).map(i =&gt; ShowCaseSchemaStream( i, s&quot;Text$i&quot;))
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a>  val dstream = snsc.queueStream[ShowCaseSchemaStream](
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a>                mutable.Queue(rddList(1, 10), rddList(10, 20), rddList(20, 30)))
<a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a>
<a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a>  val schemaDStream = snsc.createSchemaDStream(dstream )
<a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a>
<a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a>  schemaDStream.foreachDataFrame(df =&gt; { 
<a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a>      df.write.format(&quot;column&quot;).
<a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a>      mode(SaveMode.Append).
<a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a>      options(Map.empty[String, String]).
<a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a>      saveAsTable(&quot;streamingExample&quot;)    })
<a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a>
<a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a>  snsc.start()   
<a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a>  snsc.sql(&quot;select count(*) from streamingExample&quot;).show
</code></pre></div> <h5 id=python_2>Python<a class=headerlink href=#python_2 title="Permanent link">&para;</a></h5> <p><div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>from pyspark.streaming.snappy.context import SnappyStreamingContext
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>from pyspark.sql.types import *
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>def  rddList(start, end): 
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>  return sc.parallelize(range(start,  end)).map(lambda i : ( i, &quot;Text&quot; + str(i)))
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>def saveFunction(df):
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>   df.write.format(&quot;column&quot;).mode(&quot;append&quot;).saveAsTable(&quot;streamingExample&quot;)
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>schema=StructType([StructField(&quot;loc&quot;, IntegerType()), 
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>                   StructField(&quot;text&quot;, StringType())])
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>snsc = SnappyStreamingContext(sc, 1)
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>snsc.queueStream([rddList(1,10) , rddList(10,20), rddList(20,30)])
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a>
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a>snsc._snappycontext.dropTable(&quot;streamingExample&quot; , True)
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a>snsc._snappycontext.createTable(&quot;streamingExample&quot;, &quot;column&quot;, schema)
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a>dstream = snsc.queueStream(getQueueOfRDDs())
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>schemadstream = snsc.createSchemaDStream(dstream, schema)
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>schemadstream.foreachDataFrame(lambda df: saveFunction(df))
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a>snsc.start()
<a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a>
<a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a>snsc.sql(&quot;select count(*) from streamingExample&quot;).show()
</code></pre></div> !!! Note: Currently Snappy dont have Python API's added for continuous queries and SDE/Sampling.</p> <h3 id=running-spark-programs-inside-the-database>Running Spark programs inside the database<a class=headerlink href=#running-spark-programs-inside-the-database title="Permanent link">&para;</a></h3> <p>To create a job that can be submitted through the job server, the job must implement the <em>SnappySQLJob or SnappyStreamingJob</em> trait. Your job looks like:</p> <h5 id=scala_3>Scala<a class=headerlink href=#scala_3 title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>class SnappySampleJob implements SnappySQLJob {
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>  /** Snappy uses this as an entry point to execute Snappy jobs. **/
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>  def runSnappyJob(sc: SnappyContext, jobConfig: Config): Any
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>  /** SnappyData calls this function to validate the job input and reject invalid job requests **/
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>  def isValidJob(sc: SnappyContext, config: Config): SnappyJobValidation
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>}
</code></pre></div> <h5 id=java_2>Java<a class=headerlink href=#java_2 title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>class SnappySampleJob extends SnappySQLJob {
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>  /** Snappy uses this as an entry point to execute Snappy jobs. **/
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>  public Object runSnappyJob(SnappyContext snc, Config jobConfig) {//Implementation}
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>  /** SnappyData calls this function to validate the job input and reject invalid job requests **/
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>  public SnappyJobValidation isValidJob(SnappyContext snc, Config config) {//validate}
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>}
</code></pre></div> <h5 id=scala_4>Scala<a class=headerlink href=#scala_4 title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>class SnappyStreamingSampleJob implements SnappyStreamingJob {
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>  /** Snappy uses this as an entry point to execute Snappy jobs. **/
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>  def runSnappyJob(sc: SnappyStreamingContext, jobConfig: Config): Any
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>  /** SnappyData calls this function to validate the job input and reject invalid job requests **/
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>  def isValidJob(sc: SnappyContext, config: Config): SnappyJobValidation
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>}
</code></pre></div> <h5 id=java_3>Java<a class=headerlink href=#java_3 title="Permanent link">&para;</a></h5> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>class SnappyStreamingSampleJob extends JavaSnappyStreamingJob {
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>  /** Snappy uses this as an entry point to execute Snappy jobs. **/
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>  public Object runSnappyJob(JavaSnappyStreamingContext snsc, Config jobConfig) {//implementation }
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>  /** SnappyData calls this function to validate the job input and reject invalid job requests **/
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>  public SnappyJobValidation isValidJob(JavaSnappyStreamingContext snc, Config jobConfig)
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>  {//validate}
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>}
</code></pre></div> <blockquote> <p>The <em>Job</em> traits are simply extensions of the <em>SparkJob</em> implemented by <a href=https://github.com/spark-jobserver/spark-jobserver>Spark JobServer</a>. </p> </blockquote> <p>• <code>runSnappyJob</code> contains the implementation of the Job. The <a href=../apidocs/#org.apache.spark.sql.SnappyContext>SnappyContext</a>/<a href=../apidocs/#org.apache.spark.streaming.SnappyStreamingContext>SnappyStreamingContext</a> is managed by the SnappyData Leader (which runs an instance of Spark JobServer) and will be provided to the job through this method. This relieves the developer from the boiler-plate configuration management that comes with the creation of a Spark job and allows the Job Server to manage and re-use contexts.</p> <p>• <code>isValidJob</code> allows for an initial validation of the context and any provided configuration. If the context and configuration are OK to run the job, returning spark.jobserver.SnappyJobValid will let the job execute, otherwise returning spark.jobserver.SnappyJobInvalid(reason) prevents the job from running and provides means to convey the reason of failure. In this case, the call immediately returns an HTTP/1.1 400 Bad Request status code. validate helps you preventing running jobs that will eventually fail due to missing or wrong configuration and save both time and resources.</p> <p>See <a href=https://github.com/TIBCOSoftware/snappydata/tree/master/examples/src/main/scala/io/snappydata/examples>examples</a> for Spark and spark streaming jobs. </p> <p>SnappySQLJob trait extends the SparkJobBase trait. It provides users the singleton SnappyContext object that may be reused across jobs. SnappyContext singleton object creates one SQLContext per incoming SQL connection. Similarly SnappyStreamingJob provides users access to SnappyStreamingContext object that can be reused across jobs</p> <h3 id=submitting-jobs>Submitting Jobs<a class=headerlink href=#submitting-jobs title="Permanent link">&para;</a></h3> <p>Following command submits <a href=https://github.com/TIBCOSoftware/snappydata/blob/master/examples/src/main/scala/io/snappydata/examples/CreateAndLoadAirlineDataJob.scala>CreateAndLoadAirlineDataJob</a> from the <a href=https://github.com/TIBCOSoftware/snappydata/tree/master/examples/src/main/scala/io/snappydata/examples>examples</a> directory. This job creates dataframes from parquet files, loads the data from dataframe into column tables and row tables and creates sample table on column table in its runJob method. The program is compiled into a jar file (quickstart.jar) and submitted to jobs server as shown below.</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>$ ./bin/snappy-job.sh submit  \
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>    --lead localhost:8090  \
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>    --app-name airlineApp \
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>    --class  io.snappydata.examples.CreateAndLoadAirlineDataJob \
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>    --app-jar $SNAPPY_HOME/examples/jars/quickstart.jar
</code></pre></div> The utility snappy-job.sh submits the job and returns a JSON that has a jobId of this job.</p> <ul> <li>--lead option specifies the host name of the lead node along with the port on which it accepts jobs (8090)</li> <li>--app-name option specifies the name given to the submitted app</li> <li>--class specifies the name of the class that contains implementation of the Spark job to be run</li> <li>--app-jar specifies the jar file that packages the code for Spark job</li> </ul> <p>The status returned by the utility is shown below:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>{
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>  &quot;status&quot;: &quot;STARTED&quot;,
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>  &quot;result&quot;: {
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>    &quot;jobId&quot;: &quot;321e5136-4a18-4c4f-b8ab-f3c8f04f0b48&quot;,
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>    &quot;context&quot;: &quot;snappyContext1452598154529305363&quot;
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>  }
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>}
</code></pre></div> This job ID can be used to query the status of the running job. <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>$ ./bin/snappy-job.sh status  \
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>    --lead localhost:8090  \
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>    --job-id 321e5136-4a18-4c4f-b8ab-f3c8f04f0b48
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>{
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>  &quot;duration&quot;: &quot;17.53 secs&quot;,
<a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a>  &quot;classPath&quot;: &quot;io.snappydata.examples.CreateAndLoadAirlineDataJob&quot;,
<a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a>  &quot;startTime&quot;: &quot;2016-01-12T16:59:14.746+05:30&quot;,
<a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a>  &quot;context&quot;: &quot;snappyContext1452598154529305363&quot;,
<a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a>  &quot;result&quot;: &quot;See /home/user1/snappyhome/work/localhost-lead-1/CreateAndLoadAirlineDataJob.out&quot;,
<a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a>  &quot;status&quot;: &quot;FINISHED&quot;,
<a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a>  &quot;jobId&quot;: &quot;321e5136-4a18-4c4f-b8ab-f3c8f04f0b48&quot;
<a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a>}
</code></pre></div> Once the tables are created, they can be queried by firing another job. Please refer to <a href=https://github.com/TIBCOSoftware/snappydata/blob/master/examples/src/main/scala/io/snappydata/examples/AirlineDataJob.scala>AirlineDataJob</a> from <a href=https://github.com/TIBCOSoftware/snappydata/tree/master/examples/src/main/scala/io/snappydata/examples>examples</a> for the implementation of the job. <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>$ ./bin/snappy-job.sh submit  \
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>    --lead localhost:8090  \
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>    --app-name airlineApp \
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>    --class  io.snappydata.examples.AirlineDataJob \
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>    --app-jar $SNAPPY_HOME/examples/jars/quickstart.jar
</code></pre></div> The status of this job can be queried in the same manner as shown above. The result of the this job will return a file path that has the query results. </p> <p>Python users can also submit the python script using spark-submit in split cluster mode. For example below script can be used to read the data loaded by the CreateAndLoadAirlineDataJob. "spark.snappydata.connection" property denotes the locator url of the snappy cluster and it is used to connect to the snappy cluster. <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>$ ./bin/spark-submit \
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>  --master spark://pnq-user02:7077 \
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>  --conf spark.snappydata.connection=localhost:10334 \
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>  --conf spark.ui.port=4042  
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>  python/examples/AirlineDataPythonApp.py
</code></pre></div></p> <h3 id=streaming-jobs>Streaming Jobs<a class=headerlink href=#streaming-jobs title="Permanent link">&para;</a></h3> <p>An implementation of SnappyStreamingJob can be submitted to the lead node of SnappyData cluster by specifying <code>--stream</code> as an option to the submit command. This option will cause creation of a new SnappyStreamingContext before the job is submitted. Alternatively, user may specify the name of an existing/pre-created streaming context as <code>--context &lt;context-name&gt;</code> with the submit command.</p> <p>For example, <a href=https://github.com/TIBCOSoftware/snappydata/blob/master/examples/src/main/scala/io/snappydata/examples/TwitterPopularTagsJob.scala>TwitterPopularTagsJob</a> from the <a href=https://github.com/TIBCOSoftware/snappydata/tree/master/examples/src/main/scala/io/snappydata/examples>examples</a> directory can be submitted as follows. This job creates stream tables on tweet streams, registers continuous queries and prints results of queries such as top 10 hash tags of last two second, top 10 hash tags until now, top 10 popular tweets.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>$ ./bin/snappy-job.sh submit  \
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>    --lead localhost:8090  \
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>    --app-name airlineApp \
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>    --class  io.snappydata.examples.TwitterPopularTagsJob \
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>    --app-jar $SNAPPY_HOME/examples/jars/quickstart.jar \
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>    --stream
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>
<a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>{
<a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>  &quot;status&quot;: &quot;STARTED&quot;,
<a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>  &quot;result&quot;: {
<a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>    &quot;jobId&quot;: &quot;982ac142-3550-41e1-aace-6987cb39fec8&quot;,
<a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a>    &quot;context&quot;: &quot;snappyStreamingContext1463987084945028747&quot;
<a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a>  }
<a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a>}
</code></pre></div> <p>User needs to stop the currently running streaming job followed by its streaming context if the user intends to submit another streaming job with a new streaming context.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a>$ ./bin/snappy-job.sh stop  \
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>    --lead localhost:8090  \
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>    --job-id 982ac142-3550-41e1-aace-6987cb39fec8
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>$ ./bin/snappy-job.sh listcontexts  \
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>    --lead localhost:8090
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a>[&quot;snappyContext1452598154529305363&quot;, &quot;snappyStreamingContext1463987084945028747&quot;, &quot;snappyStreamingContext&quot;]
<a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>
<a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>$ ./bin/snappy-job.sh stopcontext snappyStreamingContext1463987084945028747  \
<a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>    --lead localhost:8090
</code></pre></div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright © 2017-2022 TIBCO Software Inc. All rights reserved. </div> </div> <div class=md-social> </div> <div class=md-footer-generator> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.instant", "navigation.indexes", "navigation.top", "header.autohide"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../assets/javascripts/bundle.d6c3db9e.min.js></script> </body> </html>