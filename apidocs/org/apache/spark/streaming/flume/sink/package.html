<!DOCTYPE html >
<html>
        <head>
          <title>sink - snappydata_2.11 1.3.0 API - org.apache.spark.streaming.flume.sink</title>
          <meta name="description" content="sink - snappydata 2.11 1.3.0 API - org.apache.spark.streaming.flume.sink" />
          <meta name="keywords" content="sink snappydata 2.11 1.3.0 API org.apache.spark.streaming.flume.sink" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../../../index.html';
            var hash = 'org.apache.spark.streaming.flume.sink.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../../../../lib/package_big.png" />
        <p id="owner"><a href="../../../../../package.html" class="extype" name="org">org</a>.<a href="../../../../package.html" class="extype" name="org.apache">apache</a>.<a href="../../../package.html" class="extype" name="org.apache.spark">spark</a>.<a href="../../package.html" class="extype" name="org.apache.spark.streaming">streaming</a>.<a href="../package.html" class="extype" name="org.apache.spark.streaming.flume">flume</a></p>
        <h1>sink</h1><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.streaming.flume.sink.package" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">sink</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="org.apache.spark.streaming.flume.sink.SparkSink" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="SparkSinkextendsAbstractSinkwithLoggingwithConfigurable"></a>
      <a id="SparkSink:SparkSink"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="SparkSink.html"><span class="name">SparkSink</span></a><span class="result"> extends <span class="extype" name="org.apache.flume.sink.AbstractSink">AbstractSink</span> with <span class="extype" name="org.apache.spark.streaming.flume.sink.Logging">Logging</span> with <span class="extype" name="org.apache.flume.conf.Configurable">Configurable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#org.apache.spark.streaming.flume.sink.package@SparkSinkextendsAbstractSinkwithLoggingwithConfigurable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A sink that uses Avro RPC to run a server that can be polled by Spark's
FlumePollingInputDStream.</p><div class="fullcomment"><div class="comment cmt"><p>A sink that uses Avro RPC to run a server that can be polled by Spark's
FlumePollingInputDStream. This sink has the following configuration parameters:</p><p>hostname - The hostname to bind to. Default: 0.0.0.0
port - The port to bind to. (No default - mandatory)
timeout - Time in seconds after which a transaction is rolled back,
if an ACK is not received from Spark within that time
threads - Number of threads to use to receive requests from Spark (Default: 10)</p><p>This sink is unlike other Flume sinks in the sense that it does not push data,
instead the process method in this sink simply blocks the SinkRunner the first time it is
called. This sink starts up an Avro IPC server that uses the SparkFlumeProtocol.</p><p>Each time a getEventBatch call comes, creates a transaction and reads events
from the channel. When enough events are read, the events are sent to the Spark receiver and
the thread itself is blocked and a reference to it saved off.</p><p>When the ack for that batch is received,
the thread which created the transaction is is retrieved and it commits the transaction with the
channel from the same thread it was originally created in (since Flume transactions are
thread local). If a nack is received instead, the sink rolls back the transaction. If no ack
is received within the specified timeout, the transaction is rolled back too. If an ack comes
after that, it is simply ignored and the events get re-sent.</p></div></div>
    </li></ol>
            </div>

        

        

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
